var Ly=t=>{throw TypeError(t)};var yf=(t,e,n)=>e.has(t)||Ly("Cannot "+n);var F=(t,e,n)=>(yf(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>e.has(t)?Ly("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(yf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(yf(t,e,"access private method"),n);var ou=(t,e,n,r)=>({set _(s){re(t,e,s,n)},get _(){return F(t,e,r)}});function Db(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function m_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g_={exports:{}},nd={},y_={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=Symbol.for("react.element"),Ob=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Lb=Symbol.for("react.profiler"),Fb=Symbol.for("react.provider"),jb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),Bb=Symbol.for("react.memo"),zb=Symbol.for("react.lazy"),Fy=Symbol.iterator;function Hb(t){return t===null||typeof t!="object"?null:(t=Fy&&t[Fy]||t["@@iterator"],typeof t=="function"?t:null)}var v_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w_=Object.assign,__={};function ji(t,e,n){this.props=t,this.context=e,this.refs=__,this.updater=n||v_}ji.prototype.isReactComponent={};ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E_(){}E_.prototype=ji.prototype;function Jp(t,e,n){this.props=t,this.context=e,this.refs=__,this.updater=n||v_}var Zp=Jp.prototype=new E_;Zp.constructor=Jp;w_(Zp,ji.prototype);Zp.isPureReactComponent=!0;var jy=Array.isArray,x_=Object.prototype.hasOwnProperty,em={current:null},T_={key:!0,ref:!0,__self:!0,__source:!0};function S_(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)x_.call(e,r)&&!T_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Rl,type:t,key:o,ref:i,props:s,_owner:em.current}}function qb(t,e){return{$$typeof:Rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rl}function Wb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $y=/\/+/g;function vf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wb(""+t.key):e.toString(36)}function Fu(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Rl:case Ob:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+vf(i,0):r,jy(s)?(n="",t!=null&&(n=t.replace($y,"$&/")+"/"),Fu(s,e,n,"",function(c){return c})):s!=null&&(tm(s)&&(s=qb(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace($y,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",jy(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+vf(o,a);i+=Fu(o,e,n,u,s)}else if(u=Hb(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+vf(o,a++),i+=Fu(o,e,n,u,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function iu(t,e,n){if(t==null)return t;var r=[],s=0;return Fu(t,r,"","",function(o){return e.call(n,o,s++)}),r}function Gb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},ju={transition:null},Qb={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:ju,ReactCurrentOwner:em};function C_(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!tm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=ji;he.Fragment=Vb;he.Profiler=Lb;he.PureComponent=Jp;he.StrictMode=Mb;he.Suspense=Ub;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb;he.act=C_;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w_({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=em.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)x_.call(e,u)&&!T_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Rl,type:t.type,key:s,ref:o,props:r,_owner:i}};he.createContext=function(t){return t={$$typeof:jb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fb,_context:t},t.Consumer=t};he.createElement=S_;he.createFactory=function(t){var e=S_.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:$b,render:t}};he.isValidElement=tm;he.lazy=function(t){return{$$typeof:zb,_payload:{_status:-1,_result:t},_init:Gb}};he.memo=function(t,e){return{$$typeof:Bb,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};he.unstable_act=C_;he.useCallback=function(t,e){return Ot.current.useCallback(t,e)};he.useContext=function(t){return Ot.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};he.useEffect=function(t,e){return Ot.current.useEffect(t,e)};he.useId=function(){return Ot.current.useId()};he.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Ot.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};he.useRef=function(t){return Ot.current.useRef(t)};he.useState=function(t){return Ot.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Ot.current.useTransition()};he.version="18.3.1";y_.exports=he;var x=y_.exports;const q=m_(x),nm=Db({__proto__:null,default:q},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb=x,Yb=Symbol.for("react.element"),Xb=Symbol.for("react.fragment"),Jb=Object.prototype.hasOwnProperty,Zb=Kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eI={key:!0,ref:!0,__self:!0,__source:!0};function b_(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)Jb.call(e,r)&&!eI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Yb,type:t,key:o,ref:i,props:s,_owner:Zb.current}}nd.Fragment=Xb;nd.jsx=b_;nd.jsxs=b_;g_.exports=nd;var _=g_.exports,I_={exports:{}},rn={},A_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,B){var Q=j.length;j.push(B);e:for(;0<Q;){var se=Q-1>>>1,J=j[se];if(0<s(J,B))j[se]=B,j[Q]=J,Q=se;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var B=j[0],Q=j.pop();if(Q!==B){j[0]=Q;e:for(var se=0,J=j.length,ce=J>>>1;se<ce;){var le=2*(se+1)-1,Ve=j[le],Qe=le+1,ve=j[Qe];if(0>s(Ve,Q))Qe<J&&0>s(ve,Ve)?(j[se]=ve,j[Qe]=Q,se=Qe):(j[se]=Ve,j[le]=Q,se=le);else if(Qe<J&&0>s(ve,Q))j[se]=ve,j[Qe]=Q,se=Qe;else break e}}return B}function s(j,B){var Q=j.sortIndex-B.sortIndex;return Q!==0?Q:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var u=[],c=[],d=1,f=null,m=3,p=!1,T=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=j)r(c),B.sortIndex=B.expirationTime,e(u,B);else break;B=n(c)}}function N(j){if(g=!1,S(j),!T)if(n(u)!==null)T=!0,X(D);else{var B=n(c);B!==null&&ie(N,B.startTime-j)}}function D(j,B){T=!1,g&&(g=!1,v(C),C=-1),p=!0;var Q=m;try{for(S(B),f=n(u);f!==null&&(!(f.expirationTime>B)||j&&!k());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var J=se(f.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(u)&&r(u),S(B)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var le=n(c);le!==null&&ie(N,le.startTime-B),ce=!1}return ce}finally{f=null,m=Q,p=!1}}var V=!1,b=null,C=-1,A=5,P=-1;function k(){return!(t.unstable_now()-P<A)}function O(){if(b!==null){var j=t.unstable_now();P=j;var B=!0;try{B=b(!0,j)}finally{B?R():(V=!1,b=null)}}else V=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=O,R=function(){ne.postMessage(null)}}else R=function(){E(O,0)};function X(j){b=j,V||(V=!0,R())}function ie(j,B){C=E(function(){j(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||p||(T=!0,X(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Q=m;m=B;try{return j()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=m;m=j;try{return B()}finally{m=Q}},t.unstable_scheduleCallback=function(j,B,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,j={id:d++,callback:B,priorityLevel:j,startTime:Q,expirationTime:J,sortIndex:-1},Q>se?(j.sortIndex=Q,e(c,j),n(u)===null&&j===n(c)&&(g?(v(C),C=-1):g=!0,ie(N,Q-se))):(j.sortIndex=J,e(u,j),T||p||(T=!0,X(D))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var B=m;return function(){var Q=m;m=B;try{return j.apply(this,arguments)}finally{m=Q}}}})(R_);A_.exports=R_;var tI=A_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI=x,nn=tI;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P_=new Set,Ka={};function Co(t,e){xi(t,e),xi(t+"Capture",e)}function xi(t,e){for(Ka[t]=e,t=0;t<e.length;t++)P_.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,rI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uy={},By={};function sI(t){return gh.call(By,t)?!0:gh.call(Uy,t)?!1:rI.test(t)?By[t]=!0:(Uy[t]=!0,!1)}function oI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iI(t,e,n,r){if(e===null||typeof e>"u"||oI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rm=/[\-:]([a-z])/g;function sm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rm,sm);vt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rm,sm);vt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rm,sm);vt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function om(t,e,n,r){var s=vt.hasOwnProperty(e)?vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iI(e,n,s,r)&&(n=null),r||s===null?sI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vr=nI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),D_=Symbol.for("react.offscreen"),zy=Symbol.iterator;function fa(t){return t===null||typeof t!="object"?null:(t=zy&&t[zy]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,wf;function Ta(t){if(wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wf=e&&e[1]||""}return`
`+wf+t}var _f=!1;function Ef(t,e){if(!t||_f)return"";_f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var u=`
`+s[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=a);break}}}finally{_f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ta(t):""}function aI(t){switch(t.tag){case 5:return Ta(t.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return t=Ef(t.type,!1),t;case 11:return t=Ef(t.type.render,!1),t;case 1:return t=Ef(t.type,!0),t;default:return""}}function _h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case zo:return"Portal";case yh:return"Profiler";case im:return"StrictMode";case vh:return"Suspense";case wh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N_:return(t.displayName||"Context")+".Consumer";case k_:return(t._context.displayName||"Context")+".Provider";case am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lm:return e=t.displayName||null,e!==null?e:_h(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return _h(t(e))}catch{}}return null}function lI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(e);case 8:return e===im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uI(t){var e=O_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lu(t){t._valueTracker||(t._valueTracker=uI(t))}function V_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eh(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M_(t,e){e=e.checked,e!=null&&om(t,"checked",e,!1)}function xh(t,e){M_(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Th(t,e.type,n):e.hasOwnProperty("defaultValue")&&Th(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Th(t,e,n){(e!=="number"||uc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sa=Array.isArray;function ti(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Sa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function L_(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ch(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,j_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cI=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(t){cI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Da[e]=Da[t]})});function $_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Da.hasOwnProperty(t)&&Da[t]?(""+e).trim():e+"px"}function U_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dI=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bh(t,e){if(e){if(dI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=null;function um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rh=null,ni=null,ri=null;function Qy(t){if(t=Nl(t)){if(typeof Rh!="function")throw Error(z(280));var e=t.stateNode;e&&(e=ad(e),Rh(t.stateNode,t.type,e))}}function B_(t){ni?ri?ri.push(t):ri=[t]:ni=t}function z_(){if(ni){var t=ni,e=ri;if(ri=ni=null,Qy(t),e)for(t=0;t<e.length;t++)Qy(e[t])}}function H_(t,e){return t(e)}function q_(){}var xf=!1;function W_(t,e,n){if(xf)return t(e,n);xf=!0;try{return H_(t,e,n)}finally{xf=!1,(ni!==null||ri!==null)&&(q_(),z_())}}function Xa(t,e){var n=t.stateNode;if(n===null)return null;var r=ad(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Ph=!1;if(Cr)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){Ph=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{Ph=!1}function fI(t,e,n,r,s,o,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Oa=!1,cc=null,dc=!1,kh=null,hI={onError:function(t){Oa=!0,cc=t}};function pI(t,e,n,r,s,o,i,a,u){Oa=!1,cc=null,fI.apply(hI,arguments)}function mI(t,e,n,r,s,o,i,a,u){if(pI.apply(this,arguments),Oa){if(Oa){var c=cc;Oa=!1,cc=null}else throw Error(z(198));dc||(dc=!0,kh=c)}}function bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(t){if(bo(t)!==t)throw Error(z(188))}function gI(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ky(s),t;if(o===r)return Ky(s),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Q_(t){return t=gI(t),t!==null?K_(t):null}function K_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K_(t);if(e!==null)return e;t=t.sibling}return null}var Y_=nn.unstable_scheduleCallback,Yy=nn.unstable_cancelCallback,yI=nn.unstable_shouldYield,vI=nn.unstable_requestPaint,Ge=nn.unstable_now,wI=nn.unstable_getCurrentPriorityLevel,cm=nn.unstable_ImmediatePriority,X_=nn.unstable_UserBlockingPriority,fc=nn.unstable_NormalPriority,_I=nn.unstable_LowPriority,J_=nn.unstable_IdlePriority,rd=null,er=null;function EI(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(rd,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:SI,xI=Math.log,TI=Math.LN2;function SI(t){return t>>>=0,t===0?32:31-(xI(t)/TI|0)|0}var cu=64,du=4194304;function Ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Ca(a):(o&=i,o!==0&&(r=Ca(o)))}else i=n&~s,i!==0?r=Ca(i):o!==0&&(r=Ca(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),s=1<<n,r|=t[n],e&=~s;return r}function CI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-An(o),a=1<<i,u=s[i];u===-1?(!(a&n)||a&r)&&(s[i]=CI(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function Nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z_(){var t=cu;return cu<<=1,!(cu&4194240)&&(cu=64),t}function Tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function II(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-An(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function dm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ce=0;function eE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tE,fm,nE,rE,sE,Dh=!1,fu=[],cs=null,ds=null,fs=null,Ja=new Map,Za=new Map,Jr=[],AI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xy(t,e){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(e.pointerId)}}function pa(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Nl(e),e!==null&&fm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function RI(t,e,n,r,s){switch(e){case"focusin":return cs=pa(cs,t,e,n,r,s),!0;case"dragenter":return ds=pa(ds,t,e,n,r,s),!0;case"mouseover":return fs=pa(fs,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ja.set(o,pa(Ja.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Za.set(o,pa(Za.get(o)||null,t,e,n,r,s)),!0}return!1}function oE(t){var e=eo(t.target);if(e!==null){var n=bo(e);if(n!==null){if(e=n.tag,e===13){if(e=G_(n),e!==null){t.blockedOn=e,sE(t.priority,function(){nE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ah=r,n.target.dispatchEvent(r),Ah=null}else return e=Nl(n),e!==null&&fm(e),t.blockedOn=n,!1;e.shift()}return!0}function Jy(t,e,n){$u(t)&&n.delete(e)}function PI(){Dh=!1,cs!==null&&$u(cs)&&(cs=null),ds!==null&&$u(ds)&&(ds=null),fs!==null&&$u(fs)&&(fs=null),Ja.forEach(Jy),Za.forEach(Jy)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Dh||(Dh=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,PI)))}function el(t){function e(s){return ma(s,t)}if(0<fu.length){ma(fu[0],t);for(var n=1;n<fu.length;n++){var r=fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cs!==null&&ma(cs,t),ds!==null&&ma(ds,t),fs!==null&&ma(fs,t),Ja.forEach(e),Za.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&Jr.shift()}var si=Vr.ReactCurrentBatchConfig,pc=!0;function kI(t,e,n,r){var s=Ce,o=si.transition;si.transition=null;try{Ce=1,hm(t,e,n,r)}finally{Ce=s,si.transition=o}}function NI(t,e,n,r){var s=Ce,o=si.transition;si.transition=null;try{Ce=4,hm(t,e,n,r)}finally{Ce=s,si.transition=o}}function hm(t,e,n,r){if(pc){var s=Oh(t,e,n,r);if(s===null)Df(t,e,r,mc,n),Xy(t,r);else if(RI(s,t,e,n,r))r.stopPropagation();else if(Xy(t,r),e&4&&-1<AI.indexOf(t)){for(;s!==null;){var o=Nl(s);if(o!==null&&tE(o),o=Oh(t,e,n,r),o===null&&Df(t,e,r,mc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Df(t,e,r,null,n)}}var mc=null;function Oh(t,e,n,r){if(mc=null,t=um(r),t=eo(t),t!==null)if(e=bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mc=t,null}function iE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wI()){case cm:return 1;case X_:return 4;case fc:case _I:return 16;case J_:return 536870912;default:return 16}default:return 16}}var is=null,pm=null,Uu=null;function aE(){if(Uu)return Uu;var t,e=pm,n=e.length,r,s="value"in is?is.value:is.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return Uu=s.slice(t,1<r?1-r:void 0)}function Bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function Zy(){return!1}function sn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hu:Zy,this.isPropagationStopped=Zy,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mm=sn($i),kl=$e({},$i,{view:0,detail:0}),DI=sn(kl),Sf,Cf,ga,sd=$e({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(Sf=t.screenX-ga.screenX,Cf=t.screenY-ga.screenY):Cf=Sf=0,ga=t),Sf)},movementY:function(t){return"movementY"in t?t.movementY:Cf}}),ev=sn(sd),OI=$e({},sd,{dataTransfer:0}),VI=sn(OI),MI=$e({},kl,{relatedTarget:0}),bf=sn(MI),LI=$e({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),FI=sn(LI),jI=$e({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$I=sn(jI),UI=$e({},$i,{data:0}),tv=sn(UI),BI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HI[t])?!!e[t]:!1}function gm(){return qI}var WI=$e({},kl,{key:function(t){if(t.key){var e=BI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(t){return t.type==="keypress"?Bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GI=sn(WI),QI=$e({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nv=sn(QI),KI=$e({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),YI=sn(KI),XI=$e({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),JI=sn(XI),ZI=$e({},sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=sn(ZI),tA=[9,13,27,32],ym=Cr&&"CompositionEvent"in window,Va=null;Cr&&"documentMode"in document&&(Va=document.documentMode);var nA=Cr&&"TextEvent"in window&&!Va,lE=Cr&&(!ym||Va&&8<Va&&11>=Va),rv=" ",sv=!1;function uE(t,e){switch(t){case"keyup":return tA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qo=!1;function rA(t,e){switch(t){case"compositionend":return cE(e);case"keypress":return e.which!==32?null:(sv=!0,rv);case"textInput":return t=e.data,t===rv&&sv?null:t;default:return null}}function sA(t,e){if(qo)return t==="compositionend"||!ym&&uE(t,e)?(t=aE(),Uu=pm=is=null,qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lE&&e.locale!=="ko"?null:e.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oA[t.type]:e==="textarea"}function dE(t,e,n,r){B_(r),e=gc(e,"onChange"),0<e.length&&(n=new mm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ma=null,tl=null;function iA(t){xE(t,0)}function od(t){var e=Qo(t);if(V_(e))return t}function aA(t,e){if(t==="change")return e}var fE=!1;if(Cr){var If;if(Cr){var Af="oninput"in document;if(!Af){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),Af=typeof iv.oninput=="function"}If=Af}else If=!1;fE=If&&(!document.documentMode||9<document.documentMode)}function av(){Ma&&(Ma.detachEvent("onpropertychange",hE),tl=Ma=null)}function hE(t){if(t.propertyName==="value"&&od(tl)){var e=[];dE(e,tl,t,um(t)),W_(iA,e)}}function lA(t,e,n){t==="focusin"?(av(),Ma=e,tl=n,Ma.attachEvent("onpropertychange",hE)):t==="focusout"&&av()}function uA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return od(tl)}function cA(t,e){if(t==="click")return od(e)}function dA(t,e){if(t==="input"||t==="change")return od(e)}function fA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:fA;function nl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gh.call(e,s)||!Pn(t[s],e[s]))return!1}return!0}function lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uv(t,e){var n=lv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lv(n)}}function pE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mE(){for(var t=window,e=uc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uc(t.document)}return e}function vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hA(t){var e=mE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pE(n.ownerDocument.documentElement,n)){if(r!==null&&vm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=uv(n,o);var i=uv(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pA=Cr&&"documentMode"in document&&11>=document.documentMode,Wo=null,Vh=null,La=null,Mh=!1;function cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mh||Wo==null||Wo!==uc(r)||(r=Wo,"selectionStart"in r&&vm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&nl(La,r)||(La=r,r=gc(Vh,"onSelect"),0<r.length&&(e=new mm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Rf={},gE={};Cr&&(gE=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function id(t){if(Rf[t])return Rf[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gE)return Rf[t]=e[n];return t}var yE=id("animationend"),vE=id("animationiteration"),wE=id("animationstart"),_E=id("transitionend"),EE=new Map,dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){EE.set(t,e),Co(e,[t])}for(var Pf=0;Pf<dv.length;Pf++){var kf=dv[Pf],mA=kf.toLowerCase(),gA=kf[0].toUpperCase()+kf.slice(1);Ds(mA,"on"+gA)}Ds(yE,"onAnimationEnd");Ds(vE,"onAnimationIteration");Ds(wE,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(_E,"onTransitionEnd");xi("onMouseEnter",["mouseout","mouseover"]);xi("onMouseLeave",["mouseout","mouseover"]);xi("onPointerEnter",["pointerout","pointerover"]);xi("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function fv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mI(r,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&s.isPropagationStopped())break e;fv(s,a,c),o=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&s.isPropagationStopped())break e;fv(s,a,c),o=u}}}if(dc)throw t=kh,dc=!1,kh=null,t}function De(t,e){var n=e[Uh];n===void 0&&(n=e[Uh]=new Set);var r=t+"__bubble";n.has(r)||(TE(e,t,2,!1),n.add(r))}function Nf(t,e,n){var r=0;e&&(r|=4),TE(n,t,r,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function rl(t){if(!t[mu]){t[mu]=!0,P_.forEach(function(n){n!=="selectionchange"&&(yA.has(n)||Nf(n,!1,t),Nf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,Nf("selectionchange",!1,e))}}function TE(t,e,n,r){switch(iE(e)){case 1:var s=kI;break;case 4:s=NI;break;default:s=hm}n=s.bind(null,e,n,t),s=void 0,!Ph||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Df(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;a!==null;){if(i=eo(a),i===null)return;if(u=i.tag,u===5||u===6){r=o=i;continue e}a=a.parentNode}}r=r.return}W_(function(){var c=o,d=um(n),f=[];e:{var m=EE.get(t);if(m!==void 0){var p=mm,T=t;switch(t){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":p=GI;break;case"focusin":T="focus",p=bf;break;case"focusout":T="blur",p=bf;break;case"beforeblur":case"afterblur":p=bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=VI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YI;break;case yE:case vE:case wE:p=FI;break;case _E:p=JI;break;case"scroll":p=DI;break;case"wheel":p=eA;break;case"copy":case"cut":case"paste":p=$I;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nv}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var w=c,S;w!==null;){S=w;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,v!==null&&(N=Xa(w,v),N!=null&&g.push(sl(w,N,S)))),E)break;w=w.return}0<g.length&&(m=new p(m,T,null,n,d),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Ah&&(T=n.relatedTarget||n.fromElement)&&(eo(T)||T[br]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(T=n.relatedTarget||n.toElement,p=c,T=T?eo(T):null,T!==null&&(E=bo(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(p=null,T=c),p!==T)){if(g=ev,N="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=nv,N="onPointerLeave",v="onPointerEnter",w="pointer"),E=p==null?m:Qo(p),S=T==null?m:Qo(T),m=new g(N,w+"leave",p,n,d),m.target=E,m.relatedTarget=S,N=null,eo(d)===c&&(g=new g(v,w+"enter",T,n,d),g.target=S,g.relatedTarget=E,N=g),E=N,p&&T)t:{for(g=p,v=T,w=0,S=g;S;S=Vo(S))w++;for(S=0,N=v;N;N=Vo(N))S++;for(;0<w-S;)g=Vo(g),w--;for(;0<S-w;)v=Vo(v),S--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Vo(g),v=Vo(v)}g=null}else g=null;p!==null&&hv(f,m,p,g,!1),T!==null&&E!==null&&hv(f,E,T,g,!0)}}e:{if(m=c?Qo(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var D=aA;else if(ov(m))if(fE)D=dA;else{D=uA;var V=lA}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=cA);if(D&&(D=D(t,c))){dE(f,D,n,d);break e}V&&V(t,m,c),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&Th(m,"number",m.value)}switch(V=c?Qo(c):window,t){case"focusin":(ov(V)||V.contentEditable==="true")&&(Wo=V,Vh=c,La=null);break;case"focusout":La=Vh=Wo=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,cv(f,n,d);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":cv(f,n,d)}var b;if(ym)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else qo?uE(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(lE&&n.locale!=="ko"&&(qo||C!=="onCompositionStart"?C==="onCompositionEnd"&&qo&&(b=aE()):(is=d,pm="value"in is?is.value:is.textContent,qo=!0)),V=gc(c,C),0<V.length&&(C=new tv(C,t,null,n,d),f.push({event:C,listeners:V}),b?C.data=b:(b=cE(n),b!==null&&(C.data=b)))),(b=nA?rA(t,n):sA(t,n))&&(c=gc(c,"onBeforeInput"),0<c.length&&(d=new tv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}xE(f,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Xa(t,n),o!=null&&r.unshift(sl(t,o,s)),o=Xa(t,e),o!=null&&r.push(sl(t,o,s))),t=t.return}return r}function Vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hv(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Xa(n,o),u!=null&&i.unshift(sl(n,u,a))):s||(u=Xa(n,o),u!=null&&i.push(sl(n,u,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var vA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(wA,"")}function gu(t,e,n){if(e=pv(e),pv(t)!==e&&n)throw Error(z(425))}function yc(){}var Lh=null,Fh=null;function jh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(xA)}:$h;function xA(t){setTimeout(function(){throw t})}function Of(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),el(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);el(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Ui,ol="__reactProps$"+Ui,br="__reactContainer$"+Ui,Uh="__reactEvents$"+Ui,TA="__reactListeners$"+Ui,SA="__reactHandles$"+Ui;function eo(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gv(t);t!==null;){if(n=t[Xn])return n;t=gv(t)}return e}t=n,n=t.parentNode}return null}function Nl(t){return t=t[Xn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function ad(t){return t[ol]||null}var Bh=[],Ko=-1;function Os(t){return{current:t}}function Oe(t){0>Ko||(t.current=Bh[Ko],Bh[Ko]=null,Ko--)}function Pe(t,e){Ko++,Bh[Ko]=t.current,t.current=e}var Ss={},It=Os(Ss),zt=Os(!1),mo=Ss;function Ti(t,e){var n=t.type.contextTypes;if(!n)return Ss;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(t){return t=t.childContextTypes,t!=null}function vc(){Oe(zt),Oe(It)}function yv(t,e,n){if(It.current!==Ss)throw Error(z(168));Pe(It,e),Pe(zt,n)}function SE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,lI(t)||"Unknown",s));return $e({},n,r)}function wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ss,mo=It.current,Pe(It,t),Pe(zt,zt.current),!0}function vv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=SE(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,Oe(zt),Oe(It),Pe(It,t)):Oe(zt),Pe(zt,n)}var yr=null,ld=!1,Vf=!1;function CE(t){yr===null?yr=[t]:yr.push(t)}function CA(t){ld=!0,CE(t)}function Vs(){if(!Vf&&yr!==null){Vf=!0;var t=0,e=Ce;try{var n=yr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,ld=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),Y_(cm,Vs),s}finally{Ce=e,Vf=!1}}return null}var Yo=[],Xo=0,_c=null,Ec=0,un=[],cn=0,go=null,Er=1,xr="";function Qs(t,e){Yo[Xo++]=Ec,Yo[Xo++]=_c,_c=t,Ec=e}function bE(t,e,n){un[cn++]=Er,un[cn++]=xr,un[cn++]=go,go=t;var r=Er;t=xr;var s=32-An(r)-1;r&=~(1<<s),n+=1;var o=32-An(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Er=1<<32-An(e)+s|n<<s|r,xr=o+t}else Er=1<<o|n<<s|r,xr=t}function wm(t){t.return!==null&&(Qs(t,1),bE(t,1,0))}function _m(t){for(;t===_c;)_c=Yo[--Xo],Yo[Xo]=null,Ec=Yo[--Xo],Yo[Xo]=null;for(;t===go;)go=un[--cn],un[cn]=null,xr=un[--cn],un[cn]=null,Er=un[--cn],un[cn]=null}var en=null,Jt=null,Me=!1,In=null;function IE(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:Er,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function zh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hh(t){if(Me){var e=Jt;if(e){var n=e;if(!wv(t,e)){if(zh(t))throw Error(z(418));e=hs(n.nextSibling);var r=en;e&&wv(t,e)?IE(r,n):(t.flags=t.flags&-4097|2,Me=!1,en=t)}}else{if(zh(t))throw Error(z(418));t.flags=t.flags&-4097|2,Me=!1,en=t}}}function _v(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function yu(t){if(t!==en)return!1;if(!Me)return _v(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jh(t.type,t.memoizedProps)),e&&(e=Jt)){if(zh(t))throw AE(),Error(z(418));for(;e;)IE(t,e),e=hs(e.nextSibling)}if(_v(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?hs(t.stateNode.nextSibling):null;return!0}function AE(){for(var t=Jt;t;)t=hs(t.nextSibling)}function Si(){Jt=en=null,Me=!1}function Em(t){In===null?In=[t]:In.push(t)}var bA=Vr.ReactCurrentBatchConfig;function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ev(t){var e=t._init;return e(t._payload)}function RE(t){function e(v,w){if(t){var S=v.deletions;S===null?(v.deletions=[w],v.flags|=16):S.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=ys(v,w),v.index=0,v.sibling=null,v}function o(v,w,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<w?(v.flags|=2,w):S):(v.flags|=2,w)):(v.flags|=1048576,w)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,S,N){return w===null||w.tag!==6?(w=Bf(S,v.mode,N),w.return=v,w):(w=s(w,S),w.return=v,w)}function u(v,w,S,N){var D=S.type;return D===Ho?d(v,w,S.props.children,N,S.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yr&&Ev(D)===w.type)?(N=s(w,S.props),N.ref=ya(v,w,S),N.return=v,N):(N=Ku(S.type,S.key,S.props,null,v.mode,N),N.ref=ya(v,w,S),N.return=v,N)}function c(v,w,S,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=zf(S,v.mode,N),w.return=v,w):(w=s(w,S.children||[]),w.return=v,w)}function d(v,w,S,N,D){return w===null||w.tag!==7?(w=fo(S,v.mode,N,D),w.return=v,w):(w=s(w,S),w.return=v,w)}function f(v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bf(""+w,v.mode,S),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return S=Ku(w.type,w.key,w.props,null,v.mode,S),S.ref=ya(v,null,w),S.return=v,S;case zo:return w=zf(w,v.mode,S),w.return=v,w;case Yr:var N=w._init;return f(v,N(w._payload),S)}if(Sa(w)||fa(w))return w=fo(w,v.mode,S,null),w.return=v,w;vu(v,w)}return null}function m(v,w,S,N){var D=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(v,w,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case au:return S.key===D?u(v,w,S,N):null;case zo:return S.key===D?c(v,w,S,N):null;case Yr:return D=S._init,m(v,w,D(S._payload),N)}if(Sa(S)||fa(S))return D!==null?null:d(v,w,S,N,null);vu(v,S)}return null}function p(v,w,S,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(S)||null,a(w,v,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case au:return v=v.get(N.key===null?S:N.key)||null,u(w,v,N,D);case zo:return v=v.get(N.key===null?S:N.key)||null,c(w,v,N,D);case Yr:var V=N._init;return p(v,w,S,V(N._payload),D)}if(Sa(N)||fa(N))return v=v.get(S)||null,d(w,v,N,D,null);vu(w,N)}return null}function T(v,w,S,N){for(var D=null,V=null,b=w,C=w=0,A=null;b!==null&&C<S.length;C++){b.index>C?(A=b,b=null):A=b.sibling;var P=m(v,b,S[C],N);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(v,b),w=o(P,w,C),V===null?D=P:V.sibling=P,V=P,b=A}if(C===S.length)return n(v,b),Me&&Qs(v,C),D;if(b===null){for(;C<S.length;C++)b=f(v,S[C],N),b!==null&&(w=o(b,w,C),V===null?D=b:V.sibling=b,V=b);return Me&&Qs(v,C),D}for(b=r(v,b);C<S.length;C++)A=p(b,v,C,S[C],N),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?C:A.key),w=o(A,w,C),V===null?D=A:V.sibling=A,V=A);return t&&b.forEach(function(k){return e(v,k)}),Me&&Qs(v,C),D}function g(v,w,S,N){var D=fa(S);if(typeof D!="function")throw Error(z(150));if(S=D.call(S),S==null)throw Error(z(151));for(var V=D=null,b=w,C=w=0,A=null,P=S.next();b!==null&&!P.done;C++,P=S.next()){b.index>C?(A=b,b=null):A=b.sibling;var k=m(v,b,P.value,N);if(k===null){b===null&&(b=A);break}t&&b&&k.alternate===null&&e(v,b),w=o(k,w,C),V===null?D=k:V.sibling=k,V=k,b=A}if(P.done)return n(v,b),Me&&Qs(v,C),D;if(b===null){for(;!P.done;C++,P=S.next())P=f(v,P.value,N),P!==null&&(w=o(P,w,C),V===null?D=P:V.sibling=P,V=P);return Me&&Qs(v,C),D}for(b=r(v,b);!P.done;C++,P=S.next())P=p(b,v,C,P.value,N),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?C:P.key),w=o(P,w,C),V===null?D=P:V.sibling=P,V=P);return t&&b.forEach(function(O){return e(v,O)}),Me&&Qs(v,C),D}function E(v,w,S,N){if(typeof S=="object"&&S!==null&&S.type===Ho&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case au:e:{for(var D=S.key,V=w;V!==null;){if(V.key===D){if(D=S.type,D===Ho){if(V.tag===7){n(v,V.sibling),w=s(V,S.props.children),w.return=v,v=w;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yr&&Ev(D)===V.type){n(v,V.sibling),w=s(V,S.props),w.ref=ya(v,V,S),w.return=v,v=w;break e}n(v,V);break}else e(v,V);V=V.sibling}S.type===Ho?(w=fo(S.props.children,v.mode,N,S.key),w.return=v,v=w):(N=Ku(S.type,S.key,S.props,null,v.mode,N),N.ref=ya(v,w,S),N.return=v,v=N)}return i(v);case zo:e:{for(V=S.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(v,w.sibling),w=s(w,S.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=zf(S,v.mode,N),w.return=v,v=w}return i(v);case Yr:return V=S._init,E(v,w,V(S._payload),N)}if(Sa(S))return T(v,w,S,N);if(fa(S))return g(v,w,S,N);vu(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,S),w.return=v,v=w):(n(v,w),w=Bf(S,v.mode,N),w.return=v,v=w),i(v)):n(v,w)}return E}var Ci=RE(!0),PE=RE(!1),xc=Os(null),Tc=null,Jo=null,xm=null;function Tm(){xm=Jo=Tc=null}function Sm(t){var e=xc.current;Oe(xc),t._currentValue=e}function qh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oi(t,e){Tc=t,xm=Jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(xm!==t)if(t={context:t,memoizedValue:e,next:null},Jo===null){if(Tc===null)throw Error(z(308));Jo=t,Tc.dependencies={lanes:0,firstContext:t}}else Jo=Jo.next=t;return e}var to=null;function Cm(t){to===null?to=[t]:to.push(t)}function kE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Cm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function bm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ir(t,n)}return s=r.interleaved,s===null?(e.next=e,Cm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ir(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dm(t,n)}}function xv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sc(t,e,n,r){var s=t.updateQueue;Xr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?o=c:i.next=c,i=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=s.baseState;i=0,d=c=u=null,a=o;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,g=a;switch(m=e,p=n,g.tag){case 1:if(T=g.payload,typeof T=="function"){f=T.call(p,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=g.payload,m=typeof T=="function"?T.call(p,f,m):T,m==null)break e;f=$e({},f,m);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);vo|=i,t.lanes=i,t.memoizedState=f}}function Tv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Dl={},tr=Os(Dl),il=Os(Dl),al=Os(Dl);function no(t){if(t===Dl)throw Error(z(174));return t}function Im(t,e){switch(Pe(al,e),Pe(il,t),Pe(tr,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ch(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ch(e,t)}Oe(tr),Pe(tr,e)}function bi(){Oe(tr),Oe(il),Oe(al)}function DE(t){no(al.current);var e=no(tr.current),n=Ch(e,t.type);e!==n&&(Pe(il,t),Pe(tr,n))}function Am(t){il.current===t&&(Oe(tr),Oe(il))}var Fe=Os(0);function Cc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mf=[];function Rm(){for(var t=0;t<Mf.length;t++)Mf[t]._workInProgressVersionPrimary=null;Mf.length=0}var Hu=Vr.ReactCurrentDispatcher,Lf=Vr.ReactCurrentBatchConfig,yo=0,je=null,nt=null,ct=null,bc=!1,Fa=!1,ll=0,IA=0;function Et(){throw Error(z(321))}function Pm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function km(t,e,n,r,s,o){if(yo=o,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?kA:NA,t=n(r,s),Fa){o=0;do{if(Fa=!1,ll=0,25<=o)throw Error(z(301));o+=1,ct=nt=null,e.updateQueue=null,Hu.current=DA,t=n(r,s)}while(Fa)}if(Hu.current=Ic,e=nt!==null&&nt.next!==null,yo=0,ct=nt=je=null,bc=!1,e)throw Error(z(300));return t}function Nm(){var t=ll!==0;return ll=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?je.memoizedState=ct=t:ct=ct.next=t,ct}function mn(){if(nt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ct===null?je.memoizedState:ct.next;if(e!==null)ct=e,nt=t;else{if(t===null)throw Error(z(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?je.memoizedState=ct=t:ct=ct.next=t}return ct}function ul(t,e){return typeof e=="function"?e(t):e}function Ff(t){var e=mn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,u=null,c=o;do{var d=c.lane;if((yo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,i=r):u=u.next=f,je.lanes|=d,vo|=d}c=c.next}while(c!==null&&c!==o);u===null?i=r:u.next=a,Pn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,je.lanes|=o,vo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jf(t){var e=mn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Pn(o,e.memoizedState)||(Bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function OE(){}function VE(t,e){var n=je,r=mn(),s=e(),o=!Pn(r.memoizedState,s);if(o&&(r.memoizedState=s,Bt=!0),r=r.queue,Dm(FE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,cl(9,LE.bind(null,n,r,s,e),void 0,null),dt===null)throw Error(z(349));yo&30||ME(n,e,s)}return s}function ME(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LE(t,e,n,r){e.value=n,e.getSnapshot=r,jE(e)&&$E(t)}function FE(t,e,n){return n(function(){jE(e)&&$E(t)})}function jE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function $E(t){var e=Ir(t,1);e!==null&&Rn(e,t,1,-1)}function Sv(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:t},e.queue=t,t=t.dispatch=PA.bind(null,je,t),[e.memoizedState,t]}function cl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UE(){return mn().memoizedState}function qu(t,e,n,r){var s=Wn();je.flags|=t,s.memoizedState=cl(1|e,n,void 0,r===void 0?null:r)}function ud(t,e,n,r){var s=mn();r=r===void 0?null:r;var o=void 0;if(nt!==null){var i=nt.memoizedState;if(o=i.destroy,r!==null&&Pm(r,i.deps)){s.memoizedState=cl(e,n,o,r);return}}je.flags|=t,s.memoizedState=cl(1|e,n,o,r)}function Cv(t,e){return qu(8390656,8,t,e)}function Dm(t,e){return ud(2048,8,t,e)}function BE(t,e){return ud(4,2,t,e)}function zE(t,e){return ud(4,4,t,e)}function HE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qE(t,e,n){return n=n!=null?n.concat([t]):null,ud(4,4,HE.bind(null,e,t),n)}function Om(){}function WE(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GE(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QE(t,e,n){return yo&21?(Pn(n,e)||(n=Z_(),je.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function AA(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Lf.transition;Lf.transition={};try{t(!1),e()}finally{Ce=n,Lf.transition=r}}function KE(){return mn().memoizedState}function RA(t,e,n){var r=gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YE(t))XE(e,n);else if(n=kE(t,e,n,r),n!==null){var s=Dt();Rn(n,t,r,s),JE(n,e,r)}}function PA(t,e,n){var r=gs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YE(t))XE(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Pn(a,i)){var u=e.interleaved;u===null?(s.next=s,Cm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=kE(t,e,s,r),n!==null&&(s=Dt(),Rn(n,t,r,s),JE(n,e,r))}}function YE(t){var e=t.alternate;return t===je||e!==null&&e===je}function XE(t,e){Fa=bc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dm(t,n)}}var Ic={readContext:pn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},kA={readContext:pn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Cv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qu(4194308,4,HE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return qu(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RA.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:Sv,useDebugValue:Om,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Sv(!1),e=t[0];return t=AA.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,s=Wn();if(Me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),dt===null)throw Error(z(349));yo&30||ME(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Cv(FE.bind(null,r,o,t),[t]),r.flags|=2048,cl(9,LE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Wn(),e=dt.identifierPrefix;if(Me){var n=xr,r=Er;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NA={readContext:pn,useCallback:WE,useContext:pn,useEffect:Dm,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:zE,useMemo:GE,useReducer:Ff,useRef:UE,useState:function(){return Ff(ul)},useDebugValue:Om,useDeferredValue:function(t){var e=mn();return QE(e,nt.memoizedState,t)},useTransition:function(){var t=Ff(ul)[0],e=mn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:VE,useId:KE,unstable_isNewReconciler:!1},DA={readContext:pn,useCallback:WE,useContext:pn,useEffect:Dm,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:zE,useMemo:GE,useReducer:jf,useRef:UE,useState:function(){return jf(ul)},useDebugValue:Om,useDeferredValue:function(t){var e=mn();return nt===null?e.memoizedState=t:QE(e,nt.memoizedState,t)},useTransition:function(){var t=jf(ul)[0],e=mn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:VE,useId:KE,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cd={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=gs(t),o=Tr(r,s);o.payload=e,n!=null&&(o.callback=n),e=ps(t,o,s),e!==null&&(Rn(e,t,s,r),zu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=gs(t),o=Tr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ps(t,o,s),e!==null&&(Rn(e,t,s,r),zu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=gs(t),s=Tr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ps(t,s,r),e!==null&&(Rn(e,t,r,n),zu(e,t,r))}};function bv(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!nl(n,r)||!nl(s,o):!0}function ZE(t,e,n){var r=!1,s=Ss,o=e.contextType;return typeof o=="object"&&o!==null?o=pn(o):(s=Ht(e)?mo:It.current,r=e.contextTypes,o=(r=r!=null)?Ti(t,s):Ss),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Iv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cd.enqueueReplaceState(e,e.state,null)}function Gh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},bm(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=pn(o):(o=Ht(e)?mo:It.current,s.context=Ti(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Wh(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cd.enqueueReplaceState(s,s.state,null),Sc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ii(t,e){try{var n="",r=e;do n+=aI(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function $f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OA=typeof WeakMap=="function"?WeakMap:Map;function e1(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rc||(Rc=!0,sp=r),Qh(t,e)},n}function t1(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Qh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qh(t,e),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Av(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QA.bind(null,t,e,n),e.then(t,t))}function Rv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,ps(n,e,1))),n.lanes|=1),t)}var VA=Vr.ReactCurrentOwner,Bt=!1;function Pt(t,e,n,r){e.child=t===null?PE(e,null,n,r):Ci(e,t.child,n,r)}function kv(t,e,n,r,s){n=n.render;var o=e.ref;return oi(e,s),r=km(t,e,n,r,o,s),n=Nm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ar(t,e,s)):(Me&&n&&wm(e),e.flags|=1,Pt(t,e,r,s),e.child)}function Nv(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Bm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,n1(t,e,o,r,s)):(t=Ku(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(i,r)&&t.ref===e.ref)return Ar(t,e,s)}return e.flags|=1,t=ys(o,r),t.ref=e.ref,t.return=e,e.child=t}function n1(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(nl(o,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Ar(t,e,s)}return Kh(t,e,n,r,s)}function r1(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ei,Yt),Yt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(ei,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(ei,Yt),Yt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe(ei,Yt),Yt|=r;return Pt(t,e,s,n),e.child}function s1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kh(t,e,n,r,s){var o=Ht(n)?mo:It.current;return o=Ti(e,o),oi(e,s),n=km(t,e,n,r,o,s),r=Nm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ar(t,e,s)):(Me&&r&&wm(e),e.flags|=1,Pt(t,e,n,s),e.child)}function Dv(t,e,n,r,s){if(Ht(n)){var o=!0;wc(e)}else o=!1;if(oi(e,s),e.stateNode===null)Wu(t,e),ZE(e,n,r),Gh(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=pn(c):(c=Ht(n)?mo:It.current,c=Ti(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Iv(e,i,r,c),Xr=!1;var m=e.memoizedState;i.state=m,Sc(e,r,i,s),u=e.memoizedState,a!==r||m!==u||zt.current||Xr?(typeof d=="function"&&(Wh(e,n,d,r),u=e.memoizedState),(a=Xr||bv(e,n,a,r,m,u,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,NE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xn(e.type,a),i.props=c,f=e.pendingProps,m=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=Ht(n)?mo:It.current,u=Ti(e,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Iv(e,i,r,u),Xr=!1,m=e.memoizedState,i.state=m,Sc(e,r,i,s);var T=e.memoizedState;a!==f||m!==T||zt.current||Xr?(typeof p=="function"&&(Wh(e,n,p,r),T=e.memoizedState),(c=Xr||bv(e,n,c,r,m,T,u)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,T,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,T,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),i.props=r,i.state=T,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Yh(t,e,n,r,o,s)}function Yh(t,e,n,r,s,o){s1(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&vv(e,n,!1),Ar(t,e,o);r=e.stateNode,VA.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Ci(e,t.child,null,o),e.child=Ci(e,null,a,o)):Pt(t,e,a,o),e.memoizedState=r.state,s&&vv(e,n,!0),e.child}function o1(t){var e=t.stateNode;e.pendingContext?yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yv(t,e.context,!1),Im(t,e.containerInfo)}function Ov(t,e,n,r,s){return Si(),Em(s),e.flags|=256,Pt(t,e,n,r),e.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function i1(t,e,n){var r=e.pendingProps,s=Fe.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pe(Fe,s&1),t===null)return Hh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=hd(i,r,0,null),t=fo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jh(n),e.memoizedState=Xh,t):Vm(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return MA(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ys(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=ys(a,o):(o=fo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?Jh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=Xh,r}return o=t.child,t=o.sibling,r=ys(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vm(t,e){return e=hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,n,r){return r!==null&&Em(r),Ci(e,t.child,null,n),t=Vm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MA(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=$f(Error(z(422))),wu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=hd({mode:"visible",children:r.children},s,0,null),o=fo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ci(e,t.child,null,i),e.child.memoizedState=Jh(i),e.memoizedState=Xh,o);if(!(e.mode&1))return wu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(z(419)),r=$f(o,r,void 0),wu(t,e,i,r)}if(a=(i&t.childLanes)!==0,Bt||a){if(r=dt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ir(t,s),Rn(r,t,s,-1))}return Um(),r=$f(Error(z(421))),wu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=KA.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Jt=hs(s.nextSibling),en=e,Me=!0,In=null,t!==null&&(un[cn++]=Er,un[cn++]=xr,un[cn++]=go,Er=t.id,xr=t.overflow,go=e),e=Vm(e,r.children),e.flags|=4096,e)}function Vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qh(t.return,e,n)}function Uf(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function a1(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Pt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vv(t,n,e);else if(t.tag===19)Vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Uf(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Uf(e,!0,n,null,o);break;case"together":Uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ys(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ys(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LA(t,e,n){switch(e.tag){case 3:o1(e),Si();break;case 5:DE(e);break;case 1:Ht(e.type)&&wc(e);break;case 4:Im(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pe(xc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?i1(t,e,n):(Pe(Fe,Fe.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);Pe(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,r1(t,e,n)}return Ar(t,e,n)}var l1,Zh,u1,c1;l1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};u1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,no(tr.current);var o=null;switch(n){case"input":s=Eh(t,s),r=Eh(t,r),o=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":s=Sh(t,s),r=Sh(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yc)}bh(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ka.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ka.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&De("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};c1=function(t,e,n,r){n!==r&&(e.flags|=4)};function va(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FA(t,e,n){var r=e.pendingProps;switch(_m(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Ht(e.type)&&vc(),xt(e),null;case 3:return r=e.stateNode,bi(),Oe(zt),Oe(It),Rm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(ap(In),In=null))),Zh(t,e),xt(e),null;case 5:Am(e);var s=no(al.current);if(n=e.type,t!==null&&e.stateNode!=null)u1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return xt(e),null}if(t=no(tr.current),yu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Xn]=e,r[ol]=o,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<ba.length;s++)De(ba[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Hy(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":Wy(r,o),De("invalid",r)}bh(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&gu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&gu(r.textContent,a,t),s=["children",""+a]):Ka.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&De("scroll",r)}switch(n){case"input":lu(r),qy(r,o,!0);break;case"textarea":lu(r),Gy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=yc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Xn]=e,t[ol]=r,l1(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ih(n,r),n){case"dialog":De("cancel",t),De("close",t),s=r;break;case"iframe":case"object":case"embed":De("load",t),s=r;break;case"video":case"audio":for(s=0;s<ba.length;s++)De(ba[s],t);s=r;break;case"source":De("error",t),s=r;break;case"img":case"image":case"link":De("error",t),De("load",t),s=r;break;case"details":De("toggle",t),s=r;break;case"input":Hy(t,r),s=Eh(t,r),De("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),De("invalid",t);break;case"textarea":Wy(t,r),s=Sh(t,r),De("invalid",t);break;default:s=r}bh(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?U_(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&j_(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ya(t,u):typeof u=="number"&&Ya(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ka.hasOwnProperty(o)?u!=null&&o==="onScroll"&&De("scroll",t):u!=null&&om(t,o,u,i))}switch(n){case"input":lu(t),qy(t,r,!1);break;case"textarea":lu(t),Gy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ti(t,!!r.multiple,o,!1):r.defaultValue!=null&&ti(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)c1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=no(al.current),no(tr.current),yu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xn]=e,(o=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:gu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=e,e.stateNode=r}return xt(e),null;case 13:if(Oe(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Jt!==null&&e.mode&1&&!(e.flags&128))AE(),Si(),e.flags|=98560,o=!1;else if(o=yu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Xn]=e}else Si(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),o=!1}else In!==null&&(ap(In),In=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?rt===0&&(rt=3):Um())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return bi(),Zh(t,e),t===null&&rl(e.stateNode.containerInfo),xt(e),null;case 10:return Sm(e.type._context),xt(e),null;case 17:return Ht(e.type)&&vc(),xt(e),null;case 19:if(Oe(Fe),o=e.memoizedState,o===null)return xt(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)va(o,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Cc(t),i!==null){for(e.flags|=128,va(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Fe,Fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ge()>Ai&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304)}else{if(!r)if(t=Cc(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Me)return xt(e),null}else 2*Ge()-o.renderingStartTime>Ai&&n!==1073741824&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ge(),e.sibling=null,n=Fe.current,Pe(Fe,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return $m(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function jA(t,e){switch(_m(e),e.tag){case 1:return Ht(e.type)&&vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bi(),Oe(zt),Oe(It),Rm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Am(e),null;case 13:if(Oe(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Fe),null;case 4:return bi(),null;case 10:return Sm(e.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var _u=!1,Ct=!1,$A=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function ep(t,e,n){try{n()}catch(r){He(t,e,r)}}var Mv=!1;function UA(t,e){if(Lh=pc,t=mE(),vm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(u=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=i),m===o&&++d===r&&(u=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fh={focusedElem:t,selectionRange:n},pc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var g=T.memoizedProps,E=T.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:xn(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(N){He(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return T=Mv,Mv=!1,T}function ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&ep(e,n,o)}s=s.next}while(s!==r)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function d1(t){var e=t.alternate;e!==null&&(t.alternate=null,d1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[ol],delete e[Uh],delete e[TA],delete e[SA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f1(t){return t.tag===5||t.tag===3||t.tag===4}function Lv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yc));else if(r!==4&&(t=t.child,t!==null))for(np(t,e,n),t=t.sibling;t!==null;)np(t,e,n),t=t.sibling}function rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rp(t,e,n),t=t.sibling;t!==null;)rp(t,e,n),t=t.sibling}var pt=null,bn=!1;function qr(t,e,n){for(n=n.child;n!==null;)h1(t,e,n),n=n.sibling}function h1(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(rd,n)}catch{}switch(n.tag){case 5:Ct||Zo(n,e);case 6:var r=pt,s=bn;pt=null,qr(t,e,n),pt=r,bn=s,pt!==null&&(bn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(bn?(t=pt,n=n.stateNode,t.nodeType===8?Of(t.parentNode,n):t.nodeType===1&&Of(t,n),el(t)):Of(pt,n.stateNode));break;case 4:r=pt,s=bn,pt=n.stateNode.containerInfo,bn=!0,qr(t,e,n),pt=r,bn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ep(n,e,i),s=s.next}while(s!==r)}qr(t,e,n);break;case 1:if(!Ct&&(Zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,qr(t,e,n),Ct=r):qr(t,e,n);break;default:qr(t,e,n)}}function Fv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $A),e.forEach(function(r){var s=YA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,bn=!1;break e;case 3:pt=a.stateNode.containerInfo,bn=!0;break e;case 4:pt=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(pt===null)throw Error(z(160));h1(o,i,s),pt=null,bn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){He(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p1(e,t),e=e.sibling}function p1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Hn(t),r&4){try{ja(3,t,t.return),dd(3,t)}catch(g){He(t,t.return,g)}try{ja(5,t,t.return)}catch(g){He(t,t.return,g)}}break;case 1:_n(e,t),Hn(t),r&512&&n!==null&&Zo(n,n.return);break;case 5:if(_n(e,t),Hn(t),r&512&&n!==null&&Zo(n,n.return),t.flags&32){var s=t.stateNode;try{Ya(s,"")}catch(g){He(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&M_(s,o),Ih(a,i);var c=Ih(a,o);for(i=0;i<u.length;i+=2){var d=u[i],f=u[i+1];d==="style"?U_(s,f):d==="dangerouslySetInnerHTML"?j_(s,f):d==="children"?Ya(s,f):om(s,d,f,c)}switch(a){case"input":xh(s,o);break;case"textarea":L_(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ti(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?ti(s,!!o.multiple,o.defaultValue,!0):ti(s,!!o.multiple,o.multiple?[]:"",!1))}s[ol]=o}catch(g){He(t,t.return,g)}}break;case 6:if(_n(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(g){He(t,t.return,g)}}break;case 3:if(_n(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{el(e.containerInfo)}catch(g){He(t,t.return,g)}break;case 4:_n(e,t),Hn(t);break;case 13:_n(e,t),Hn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Fm=Ge())),r&4&&Fv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||d,_n(e,t),Ct=c):_n(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(m=Y,p=m.child,m.tag){case 0:case 11:case 14:case 15:ja(4,m,m.return);break;case 1:Zo(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(g){He(r,n,g)}}break;case 5:Zo(m,m.return);break;case 22:if(m.memoizedState!==null){$v(f);continue}}p!==null?(p.return=m,Y=p):$v(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=$_("display",i))}catch(g){He(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){He(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_n(e,t),Hn(t),r&4&&Fv(t);break;case 21:break;default:_n(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(f1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ya(s,""),r.flags&=-33);var o=Lv(t);rp(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Lv(t);np(t,a,i);break;default:throw Error(z(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BA(t,e,n){Y=t,m1(t)}function m1(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||_u;if(!i){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ct;a=_u;var c=Ct;if(_u=i,(Ct=u)&&!c)for(Y=s;Y!==null;)i=Y,u=i.child,i.tag===22&&i.memoizedState!==null?Uv(s):u!==null?(u.return=i,Y=u):Uv(s);for(;o!==null;)Y=o,m1(o),o=o.sibling;Y=s,_u=a,Ct=c}jv(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):jv(t)}}function jv(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||dd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Tv(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tv(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&el(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&tp(e)}catch(m){He(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function $v(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Uv(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dd(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){He(e,s,u)}}var o=e.return;try{tp(e)}catch(u){He(e,o,u)}break;case 5:var i=e.return;try{tp(e)}catch(u){He(e,i,u)}}}catch(u){He(e,e.return,u)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var zA=Math.ceil,Ac=Vr.ReactCurrentDispatcher,Mm=Vr.ReactCurrentOwner,hn=Vr.ReactCurrentBatchConfig,Ee=0,dt=null,Ye=null,yt=0,Yt=0,ei=Os(0),rt=0,dl=null,vo=0,fd=0,Lm=0,$a=null,$t=null,Fm=0,Ai=1/0,gr=null,Rc=!1,sp=null,ms=null,Eu=!1,as=null,Pc=0,Ua=0,op=null,Gu=-1,Qu=0;function Dt(){return Ee&6?Ge():Gu!==-1?Gu:Gu=Ge()}function gs(t){return t.mode&1?Ee&2&&yt!==0?yt&-yt:bA.transition!==null?(Qu===0&&(Qu=Z_()),Qu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:iE(t.type)),t):1}function Rn(t,e,n,r){if(50<Ua)throw Ua=0,op=null,Error(z(185));Pl(t,n,r),(!(Ee&2)||t!==dt)&&(t===dt&&(!(Ee&2)&&(fd|=n),rt===4&&Zr(t,yt)),qt(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Ai=Ge()+500,ld&&Vs()))}function qt(t,e){var n=t.callbackNode;bI(t,e);var r=hc(t,t===dt?yt:0);if(r===0)n!==null&&Yy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yy(n),e===1)t.tag===0?CA(Bv.bind(null,t)):CE(Bv.bind(null,t)),EA(function(){!(Ee&6)&&Vs()}),n=null;else{switch(eE(r)){case 1:n=cm;break;case 4:n=X_;break;case 16:n=fc;break;case 536870912:n=J_;break;default:n=fc}n=T1(n,g1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g1(t,e){if(Gu=-1,Qu=0,Ee&6)throw Error(z(327));var n=t.callbackNode;if(ii()&&t.callbackNode!==n)return null;var r=hc(t,t===dt?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kc(t,r);else{e=r;var s=Ee;Ee|=2;var o=v1();(dt!==t||yt!==e)&&(gr=null,Ai=Ge()+500,co(t,e));do try{WA();break}catch(a){y1(t,a)}while(!0);Tm(),Ac.current=o,Ee=s,Ye!==null?e=0:(dt=null,yt=0,e=rt)}if(e!==0){if(e===2&&(s=Nh(t),s!==0&&(r=s,e=ip(t,s))),e===1)throw n=dl,co(t,0),Zr(t,r),qt(t,Ge()),n;if(e===6)Zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!HA(s)&&(e=kc(t,r),e===2&&(o=Nh(t),o!==0&&(r=o,e=ip(t,o))),e===1))throw n=dl,co(t,0),Zr(t,r),qt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ks(t,$t,gr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=Fm+500-Ge(),10<e)){if(hc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$h(Ks.bind(null,t,$t,gr),e);break}Ks(t,$t,gr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-An(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zA(r/1960))-r,10<r){t.timeoutHandle=$h(Ks.bind(null,t,$t,gr),r);break}Ks(t,$t,gr);break;case 5:Ks(t,$t,gr);break;default:throw Error(z(329))}}}return qt(t,Ge()),t.callbackNode===n?g1.bind(null,t):null}function ip(t,e){var n=$a;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=kc(t,e),t!==2&&(e=$t,$t=n,e!==null&&ap(e)),t}function ap(t){$t===null?$t=t:$t.push.apply($t,t)}function HA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Pn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~Lm,e&=~fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function Bv(t){if(Ee&6)throw Error(z(327));ii();var e=hc(t,0);if(!(e&1))return qt(t,Ge()),null;var n=kc(t,e);if(t.tag!==0&&n===2){var r=Nh(t);r!==0&&(e=r,n=ip(t,r))}if(n===1)throw n=dl,co(t,0),Zr(t,e),qt(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ks(t,$t,gr),qt(t,Ge()),null}function jm(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Ai=Ge()+500,ld&&Vs())}}function wo(t){as!==null&&as.tag===0&&!(Ee&6)&&ii();var e=Ee;Ee|=1;var n=hn.transition,r=Ce;try{if(hn.transition=null,Ce=1,t)return t()}finally{Ce=r,hn.transition=n,Ee=e,!(Ee&6)&&Vs()}}function $m(){Yt=ei.current,Oe(ei)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_A(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(_m(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vc();break;case 3:bi(),Oe(zt),Oe(It),Rm();break;case 5:Am(r);break;case 4:bi();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:Sm(r.type._context);break;case 22:case 23:$m()}n=n.return}if(dt=t,Ye=t=ys(t.current,null),yt=Yt=e,rt=0,dl=null,Lm=fd=vo=0,$t=$a=null,to!==null){for(e=0;e<to.length;e++)if(n=to[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}to=null}return t}function y1(t,e){do{var n=Ye;try{if(Tm(),Hu.current=Ic,bc){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bc=!1}if(yo=0,ct=nt=je=null,Fa=!1,ll=0,Mm.current=null,n===null||n.return===null){rt=1,dl=e,Ye=null;break}e:{var o=t,i=n.return,a=n,u=e;if(e=yt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Rv(i);if(p!==null){p.flags&=-257,Pv(p,i,a,o,e),p.mode&1&&Av(o,c,e),e=p,u=c;var T=e.updateQueue;if(T===null){var g=new Set;g.add(u),e.updateQueue=g}else T.add(u);break e}else{if(!(e&1)){Av(o,c,e),Um();break e}u=Error(z(426))}}else if(Me&&a.mode&1){var E=Rv(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Pv(E,i,a,o,e),Em(Ii(u,a));break e}}o=u=Ii(u,a),rt!==4&&(rt=2),$a===null?$a=[o]:$a.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=e1(o,u,e);xv(o,v);break e;case 1:a=u;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ms===null||!ms.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=t1(o,a,e);xv(o,N);break e}}o=o.return}while(o!==null)}_1(n)}catch(D){e=D,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function v1(){var t=Ac.current;return Ac.current=Ic,t===null?Ic:t}function Um(){(rt===0||rt===3||rt===2)&&(rt=4),dt===null||!(vo&268435455)&&!(fd&268435455)||Zr(dt,yt)}function kc(t,e){var n=Ee;Ee|=2;var r=v1();(dt!==t||yt!==e)&&(gr=null,co(t,e));do try{qA();break}catch(s){y1(t,s)}while(!0);if(Tm(),Ee=n,Ac.current=r,Ye!==null)throw Error(z(261));return dt=null,yt=0,rt}function qA(){for(;Ye!==null;)w1(Ye)}function WA(){for(;Ye!==null&&!yI();)w1(Ye)}function w1(t){var e=x1(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?_1(t):Ye=e,Mm.current=null}function _1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jA(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ye=null;return}}else if(n=FA(n,e,Yt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);rt===0&&(rt=5)}function Ks(t,e,n){var r=Ce,s=hn.transition;try{hn.transition=null,Ce=1,GA(t,e,n,r)}finally{hn.transition=s,Ce=r}return null}function GA(t,e,n,r){do ii();while(as!==null);if(Ee&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(II(t,o),t===dt&&(Ye=dt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,T1(fc,function(){return ii(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hn.transition,hn.transition=null;var i=Ce;Ce=1;var a=Ee;Ee|=4,Mm.current=null,UA(t,n),p1(n,t),hA(Fh),pc=!!Lh,Fh=Lh=null,t.current=n,BA(n),vI(),Ee=a,Ce=i,hn.transition=o}else t.current=n;if(Eu&&(Eu=!1,as=t,Pc=s),o=t.pendingLanes,o===0&&(ms=null),EI(n.stateNode),qt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rc)throw Rc=!1,t=sp,sp=null,t;return Pc&1&&t.tag!==0&&ii(),o=t.pendingLanes,o&1?t===op?Ua++:(Ua=0,op=t):Ua=0,Vs(),null}function ii(){if(as!==null){var t=eE(Pc),e=hn.transition,n=Ce;try{if(hn.transition=null,Ce=16>t?16:t,as===null)var r=!1;else{if(t=as,as=null,Pc=0,Ee&6)throw Error(z(331));var s=Ee;for(Ee|=4,Y=t.current;Y!==null;){var o=Y,i=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:ja(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var m=d.sibling,p=d.return;if(d1(d),d===c){Y=null;break}if(m!==null){m.return=p,Y=m;break}Y=p}}}var T=o.alternate;if(T!==null){var g=T.child;if(g!==null){T.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Y=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Y=i;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ja(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Y=v;break e}Y=o.return}}var w=t.current;for(Y=w;Y!==null;){i=Y;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,Y=S;else e:for(i=w;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dd(9,a)}}catch(D){He(a,a.return,D)}if(a===i){Y=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Y=N;break e}Y=a.return}}if(Ee=s,Vs(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(rd,t)}catch{}r=!0}return r}finally{Ce=n,hn.transition=e}}return!1}function zv(t,e,n){e=Ii(n,e),e=e1(t,e,1),t=ps(t,e,1),e=Dt(),t!==null&&(Pl(t,1,e),qt(t,e))}function He(t,e,n){if(t.tag===3)zv(t,t,n);else for(;e!==null;){if(e.tag===3){zv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){t=Ii(n,t),t=t1(e,t,1),e=ps(e,t,1),t=Dt(),e!==null&&(Pl(e,1,t),qt(e,t));break}}e=e.return}}function QA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(yt&n)===n&&(rt===4||rt===3&&(yt&130023424)===yt&&500>Ge()-Fm?co(t,0):Lm|=n),qt(t,e)}function E1(t,e){e===0&&(t.mode&1?(e=du,du<<=1,!(du&130023424)&&(du=4194304)):e=1);var n=Dt();t=Ir(t,e),t!==null&&(Pl(t,e,n),qt(t,n))}function KA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E1(t,n)}function YA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),E1(t,n)}var x1;x1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,LA(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Me&&e.flags&1048576&&bE(e,Ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wu(t,e),t=e.pendingProps;var s=Ti(e,It.current);oi(e,n),s=km(null,e,r,t,s,n);var o=Nm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(o=!0,wc(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bm(e),s.updater=cd,e.stateNode=s,s._reactInternals=e,Gh(e,r,t,n),e=Yh(null,e,r,!0,o,n)):(e.tag=0,Me&&o&&wm(e),Pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=JA(r),t=xn(r,t),s){case 0:e=Kh(null,e,r,t,n);break e;case 1:e=Dv(null,e,r,t,n);break e;case 11:e=kv(null,e,r,t,n);break e;case 14:e=Nv(null,e,r,xn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),Kh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),Dv(t,e,r,s,n);case 3:e:{if(o1(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,s=o.element,NE(t,e),Sc(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Ii(Error(z(423)),e),e=Ov(t,e,r,n,s);break e}else if(r!==s){s=Ii(Error(z(424)),e),e=Ov(t,e,r,n,s);break e}else for(Jt=hs(e.stateNode.containerInfo.firstChild),en=e,Me=!0,In=null,n=PE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),r===s){e=Ar(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return DE(e),t===null&&Hh(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,jh(r,s)?i=null:o!==null&&jh(r,o)&&(e.flags|=32),s1(t,e),Pt(t,e,i,n),e.child;case 6:return t===null&&Hh(e),null;case 13:return i1(t,e,n);case 4:return Im(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ci(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),kv(t,e,r,s,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Pe(xc,r._currentValue),r._currentValue=i,o!==null)if(Pn(o.value,i)){if(o.children===s.children&&!zt.current){e=Ar(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Tr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),qh(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),qh(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oi(e,n),s=pn(s),r=r(s),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,s=xn(r,e.pendingProps),s=xn(r.type,s),Nv(t,e,r,s,n);case 15:return n1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),Wu(t,e),e.tag=1,Ht(r)?(t=!0,wc(e)):t=!1,oi(e,n),ZE(e,r,s),Gh(e,r,s,n),Yh(null,e,r,!0,t,n);case 19:return a1(t,e,n);case 22:return r1(t,e,n)}throw Error(z(156,e.tag))};function T1(t,e){return Y_(t,e)}function XA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new XA(t,e,n,r)}function Bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JA(t){if(typeof t=="function")return Bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===am)return 11;if(t===lm)return 14}return 2}function ys(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ku(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")Bm(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ho:return fo(n.children,s,o,e);case im:i=8,s|=8;break;case yh:return t=fn(12,n,e,s|2),t.elementType=yh,t.lanes=o,t;case vh:return t=fn(13,n,e,s),t.elementType=vh,t.lanes=o,t;case wh:return t=fn(19,n,e,s),t.elementType=wh,t.lanes=o,t;case D_:return hd(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k_:i=10;break e;case N_:i=9;break e;case am:i=11;break e;case lm:i=14;break e;case Yr:i=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=fn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function fo(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function hd(t,e,n,r){return t=fn(22,t,r,e),t.elementType=D_,t.lanes=n,t.stateNode={isHidden:!1},t}function Bf(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function zf(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tf(0),this.expirationTimes=Tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zm(t,e,n,r,s,o,i,a,u){return t=new ZA(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(o),t}function eR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function S1(t){if(!t)return Ss;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ht(n))return SE(t,n,e)}return e}function C1(t,e,n,r,s,o,i,a,u){return t=zm(n,r,!0,t,s,o,i,a,u),t.context=S1(null),n=t.current,r=Dt(),s=gs(n),o=Tr(r,s),o.callback=e??null,ps(n,o,s),t.current.lanes=s,Pl(t,s,r),qt(t,r),t}function pd(t,e,n,r){var s=e.current,o=Dt(),i=gs(s);return n=S1(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ps(s,e,i),t!==null&&(Rn(t,s,i,o),zu(t,s,i)),i}function Nc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hm(t,e){Hv(t,e),(t=t.alternate)&&Hv(t,e)}function tR(){return null}var b1=typeof reportError=="function"?reportError:function(t){console.error(t)};function qm(t){this._internalRoot=t}md.prototype.render=qm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));pd(t,e,null,null)};md.prototype.unmount=qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){pd(null,t,null,null)}),e[br]=null}};function md(t){this._internalRoot=t}md.prototype.unstable_scheduleHydration=function(t){if(t){var e=rE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&oE(t)}};function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qv(){}function nR(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Nc(i);o.call(c)}}var i=C1(e,r,t,0,null,!1,!1,"",qv);return t._reactRootContainer=i,t[br]=i.current,rl(t.nodeType===8?t.parentNode:t),wo(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Nc(u);a.call(c)}}var u=zm(t,0,!1,null,null,!1,!1,"",qv);return t._reactRootContainer=u,t[br]=u.current,rl(t.nodeType===8?t.parentNode:t),wo(function(){pd(e,u,n,r)}),u}function yd(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var u=Nc(i);a.call(u)}}pd(e,i,t,s)}else i=nR(n,e,t,s,r);return Nc(i)}tE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ca(e.pendingLanes);n!==0&&(dm(e,n|1),qt(e,Ge()),!(Ee&6)&&(Ai=Ge()+500,Vs()))}break;case 13:wo(function(){var r=Ir(t,1);if(r!==null){var s=Dt();Rn(r,t,1,s)}}),Hm(t,1)}};fm=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Dt();Rn(e,t,134217728,n)}Hm(t,134217728)}};nE=function(t){if(t.tag===13){var e=gs(t),n=Ir(t,e);if(n!==null){var r=Dt();Rn(n,t,e,r)}Hm(t,e)}};rE=function(){return Ce};sE=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Rh=function(t,e,n){switch(e){case"input":if(xh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ad(r);if(!s)throw Error(z(90));V_(r),xh(r,s)}}}break;case"textarea":L_(t,n);break;case"select":e=n.value,e!=null&&ti(t,!!n.multiple,e,!1)}};H_=jm;q_=wo;var rR={usingClientEntryPoint:!1,Events:[Nl,Qo,ad,B_,z_,jm]},wa={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sR={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q_(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{rd=xu.inject(sR),er=xu}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rR;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(e))throw Error(z(200));return eR(t,e,null,n)};rn.createRoot=function(t,e){if(!Wm(t))throw Error(z(299));var n=!1,r="",s=b1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zm(t,1,!1,null,null,n,!1,r,s),t[br]=e.current,rl(t.nodeType===8?t.parentNode:t),new qm(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Q_(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return wo(t)};rn.hydrate=function(t,e,n){if(!gd(e))throw Error(z(200));return yd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Wm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=b1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=C1(e,null,t,1,n??null,s,!1,o,i),t[br]=e.current,rl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new md(e)};rn.render=function(t,e,n){if(!gd(e))throw Error(z(200));return yd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!gd(t))throw Error(z(40));return t._reactRootContainer?(wo(function(){yd(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};rn.unstable_batchedUpdates=jm;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return yd(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function I1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I1)}catch(t){console.error(t)}}I1(),I_.exports=rn;var Ol=I_.exports;const A1=m_(Ol);var R1,Wv=Ol;R1=Wv.createRoot,Wv.hydrateRoot;const oR=1,iR=1e6;let Hf=0;function aR(){return Hf=(Hf+1)%Number.MAX_SAFE_INTEGER,Hf.toString()}const qf=new Map,Gv=t=>{if(qf.has(t))return;const e=setTimeout(()=>{qf.delete(t),Ba({type:"REMOVE_TOAST",toastId:t})},iR);qf.set(t,e)},lR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,oR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Gv(n):t.toasts.forEach(r=>{Gv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yu=[];let Xu={toasts:[]};function Ba(t){Xu=lR(Xu,t),Yu.forEach(e=>{e(Xu)})}function uR({...t}){const e=aR(),n=s=>Ba({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ba({type:"DISMISS_TOAST",toastId:e});return Ba({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function cR(){const[t,e]=x.useState(Xu);return x.useEffect(()=>(Yu.push(e),()=>{const n=Yu.indexOf(e);n>-1&&Yu.splice(n,1)}),[t]),{...t,toast:uR,dismiss:n=>Ba({type:"DISMISS_TOAST",toastId:n})}}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Qv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function P1(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Qv(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Qv(t[s],null)}}}}function ft(...t){return x.useCallback(P1(...t),t)}function dR(t,e){const n=x.createContext(e),r=o=>{const{children:i,...a}=o,u=x.useMemo(()=>a,Object.values(a));return _.jsx(n.Provider,{value:u,children:i})};r.displayName=t+"Provider";function s(o){const i=x.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Ms(t,e=[]){let n=[];function r(o,i){const a=x.createContext(i),u=n.length;n=[...n,i];const c=f=>{var v;const{scope:m,children:p,...T}=f,g=((v=m==null?void 0:m[t])==null?void 0:v[u])||a,E=x.useMemo(()=>T,Object.values(T));return _.jsx(g.Provider,{value:E,children:p})};c.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[t])==null?void 0:g[u])||a,T=x.useContext(p);if(T)return T;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>x.createContext(i));return function(a){const u=(a==null?void 0:a[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,fR(s,...e)]}function fR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(o)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function fl(t){const e=pR(t),n=x.forwardRef((r,s)=>{const{children:o,...i}=r,a=x.Children.toArray(o),u=a.find(gR);if(u){const c=u.props.children,d=a.map(f=>f===u?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return _.jsx(e,{...i,ref:s,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return _.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var hR=fl("Slot");function pR(t){const e=x.forwardRef((n,r)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const i=vR(s),a=yR(o,s.props);return s.type!==x.Fragment&&(a.ref=r?P1(r,i):i),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var k1=Symbol("radix.slottable");function mR(t){const e=({children:n})=>_.jsx(_.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=k1,e}function gR(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===k1}function yR(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const u=o(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function vR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function N1(t){const e=t+"CollectionProvider",[n,r]=Ms(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:E,children:v}=g,w=q.useRef(null),S=q.useRef(new Map).current;return _.jsx(s,{scope:E,itemMap:S,collectionRef:w,children:v})};i.displayName=e;const a=t+"CollectionSlot",u=fl(a),c=q.forwardRef((g,E)=>{const{scope:v,children:w}=g,S=o(a,v),N=ft(E,S.collectionRef);return _.jsx(u,{ref:N,children:w})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=fl(d),p=q.forwardRef((g,E)=>{const{scope:v,children:w,...S}=g,N=q.useRef(null),D=ft(E,N),V=o(d,v);return q.useEffect(()=>(V.itemMap.set(N,{ref:N,...S}),()=>void V.itemMap.delete(N))),_.jsx(m,{[f]:"",ref:D,children:w})});p.displayName=d;function T(g){const E=o(t+"CollectionConsumer",g);return q.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((V,b)=>S.indexOf(V.ref.current)-S.indexOf(b.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},T,r]}var wR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=wR.reduce((t,e)=>{const n=fl(`Primitive.${e}`),r=x.forwardRef((s,o)=>{const{asChild:i,...a}=s,u=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(u,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function D1(t,e){t&&Ol.flushSync(()=>t.dispatchEvent(e))}function kn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function _R(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ER="DismissableLayer",lp="dismissableLayer.update",xR="dismissableLayer.pointerDownOutside",TR="dismissableLayer.focusOutside",Kv,O1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...u}=t,c=x.useContext(O1),[d,f]=x.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),T=ft(e,b=>f(b)),g=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(E),w=d?g.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,N=w>=v,D=CR(b=>{const C=b.target,A=[...c.branches].some(P=>P.contains(C));!N||A||(s==null||s(b),i==null||i(b),b.defaultPrevented||a==null||a())},m),V=bR(b=>{const C=b.target;[...c.branches].some(P=>P.contains(C))||(o==null||o(b),i==null||i(b),b.defaultPrevented||a==null||a())},m);return _R(b=>{w===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),x.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Kv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Yv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Kv)}},[d,m,n,c]),x.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Yv())},[d,c]),x.useEffect(()=>{const b=()=>p({});return document.addEventListener(lp,b),()=>document.removeEventListener(lp,b)},[]),_.jsx(Se.div,{...u,ref:T,style:{pointerEvents:S?N?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,V.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,D.onPointerDownCapture)})});vd.displayName=ER;var SR="DismissableLayerBranch",V1=x.forwardRef((t,e)=>{const n=x.useContext(O1),r=x.useRef(null),s=ft(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),_.jsx(Se.div,{...t,ref:s})});V1.displayName=SR;function CR(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){M1(xR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bR(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!r.current&&M1(TR,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yv(){const t=new CustomEvent(lp);document.dispatchEvent(t)}function M1(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?D1(s,o):s.dispatchEvent(o)}var IR=vd,AR=V1,Rr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},RR="Portal",Gm=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=x.useState(!1);Rr(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?A1.createPortal(_.jsx(Se.div,{...r,ref:e}),i):null});Gm.displayName=RR;function PR(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var Ls=t=>{const{present:e,children:n}=t,r=kR(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=ft(r.ref,NR(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:o}):null};Ls.displayName="Presence";function kR(t){const[e,n]=x.useState(),r=x.useRef(null),s=x.useRef(t),o=x.useRef("none"),i=t?"mounted":"unmounted",[a,u]=PR(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Tu(r.current);o.current=a==="mounted"?c:"none"},[a]),Rr(()=>{const c=r.current,d=s.current;if(d!==t){const m=o.current,p=Tu(c);t?u("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Rr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const g=Tu(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=p=>{p.target===e&&(o.current=Tu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Tu(t){return(t==null?void 0:t.animationName)||"none"}function NR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DR=nm[" useInsertionEffect ".trim().toString()]||Rr;function Vl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=OR({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const d=x.useRef(t!==void 0);x.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=x.useCallback(d=>{var f;if(a){const m=VR(d)?d(t):d;m!==t&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,t,o,i]);return[u,c]}function OR({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),s=x.useRef(n),o=x.useRef(e);return DR(()=>{o.current=e},[e]),x.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function VR(t){return typeof t=="function"}var MR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LR="VisuallyHidden",wd=x.forwardRef((t,e)=>_.jsx(Se.span,{...t,ref:e,style:{...MR,...t.style}}));wd.displayName=LR;var FR=wd,Qm="ToastProvider",[Km,jR,$R]=N1("Toast"),[L1]=Ms("Toast",[$R]),[UR,_d]=L1(Qm),F1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,u]=x.useState(null),[c,d]=x.useState(0),f=x.useRef(!1),m=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qm}\`. Expected non-empty \`string\`.`),_.jsx(Km.Provider,{scope:e,children:_.jsx(UR,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:x.useCallback(()=>d(p=>p+1),[]),onToastRemove:x.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};F1.displayName=Qm;var j1="ToastViewport",BR=["F8"],up="toast.viewportPause",cp="toast.viewportResume",$1=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=BR,label:s="Notifications ({hotkey})",...o}=t,i=_d(j1,n),a=jR(n),u=x.useRef(null),c=x.useRef(null),d=x.useRef(null),f=x.useRef(null),m=ft(e,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=i.toastCount>0;x.useEffect(()=>{const E=v=>{var S;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),x.useEffect(()=>{const E=u.current,v=f.current;if(T&&E&&v){const w=()=>{if(!i.isClosePausedRef.current){const V=new CustomEvent(up);v.dispatchEvent(V),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const V=new CustomEvent(cp);v.dispatchEvent(V),i.isClosePausedRef.current=!1}},N=V=>{!E.contains(V.relatedTarget)&&S()},D=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",w),E.addEventListener("focusout",N),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[T,i.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:E})=>{const w=a().map(S=>{const N=S.ref.current,D=[N,...tP(N)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const E=f.current;if(E){const v=w=>{var D,V,b;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const C=document.activeElement,A=w.shiftKey;if(w.target===E&&A){(D=c.current)==null||D.focus();return}const O=g({tabbingDirection:A?"backwards":"forwards"}),R=O.findIndex(H=>H===C);Wf(O.slice(R+1))?w.preventDefault():A?(V=c.current)==null||V.focus():(b=d.current)==null||b.focus()}};return E.addEventListener("keydown",v),()=>E.removeEventListener("keydown",v)}},[a,g]),_.jsxs(AR,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&_.jsx(dp,{ref:c,onFocusFromOutsideViewport:()=>{const E=g({tabbingDirection:"forwards"});Wf(E)}}),_.jsx(Km.Slot,{scope:n,children:_.jsx(Se.ol,{tabIndex:-1,...o,ref:m})}),T&&_.jsx(dp,{ref:d,onFocusFromOutsideViewport:()=>{const E=g({tabbingDirection:"backwards"});Wf(E)}})]})});$1.displayName=j1;var U1="ToastFocusProxy",dp=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=_d(U1,n);return _.jsx(wd,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});dp.displayName=U1;var Ml="Toast",zR="toast.swipeStart",HR="toast.swipeMove",qR="toast.swipeCancel",WR="toast.swipeEnd",B1=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a,u]=Vl({prop:r,defaultProp:s??!0,onChange:o,caller:Ml});return _.jsx(Ls,{present:n||a,children:_.jsx(KR,{open:a,...i,ref:e,onClose:()=>u(!1),onPause:kn(t.onPause),onResume:kn(t.onResume),onSwipeStart:ye(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ye(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});B1.displayName=Ml;var[GR,QR]=L1(Ml,{onClose(){}}),KR=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...T}=t,g=_d(Ml,n),[E,v]=x.useState(null),w=ft(e,H=>v(H)),S=x.useRef(null),N=x.useRef(null),D=s||g.duration,V=x.useRef(0),b=x.useRef(D),C=x.useRef(0),{onToastAdd:A,onToastRemove:P}=g,k=kn(()=>{var ne;(E==null?void 0:E.contains(document.activeElement))&&((ne=g.viewport)==null||ne.focus()),i()}),O=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(C.current),V.current=new Date().getTime(),C.current=window.setTimeout(k,H))},[k]);x.useEffect(()=>{const H=g.viewport;if(H){const ne=()=>{O(b.current),c==null||c()},X=()=>{const ie=new Date().getTime()-V.current;b.current=b.current-ie,window.clearTimeout(C.current),u==null||u()};return H.addEventListener(up,X),H.addEventListener(cp,ne),()=>{H.removeEventListener(up,X),H.removeEventListener(cp,ne)}}},[g.viewport,D,u,c,O]),x.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(D)},[o,D,g.isClosePausedRef,O]),x.useEffect(()=>(A(),()=>P()),[A,P]);const R=x.useMemo(()=>E?K1(E):null,[E]);return g.viewport?_.jsxs(_.Fragment,{children:[R&&_.jsx(YR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),_.jsx(GR,{scope:n,onClose:k,children:Ol.createPortal(_.jsx(Km.ItemSlot,{scope:n,children:_.jsx(IR,{asChild:!0,onEscapeKeyDown:ye(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx(Se.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...T,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ye(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:ye(t.onPointerMove,H=>{if(!S.current)return;const ne=H.clientX-S.current.x,X=H.clientY-S.current.y,ie=!!N.current,j=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=j?B(0,ne):0,se=j?0:B(0,X),J=H.pointerType==="touch"?10:2,ce={x:Q,y:se},le={originalEvent:H,delta:ce};ie?(N.current=ce,Su(HR,f,le,{discrete:!1})):Xv(ce,g.swipeDirection,J)?(N.current=ce,Su(zR,d,le,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ne)>J||Math.abs(X)>J)&&(S.current=null)}),onPointerUp:ye(t.onPointerUp,H=>{const ne=N.current,X=H.target;if(X.hasPointerCapture(H.pointerId)&&X.releasePointerCapture(H.pointerId),N.current=null,S.current=null,ne){const ie=H.currentTarget,j={originalEvent:H,delta:ne};Xv(ne,g.swipeDirection,g.swipeThreshold)?Su(WR,p,j,{discrete:!0}):Su(qR,m,j,{discrete:!0}),ie.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),YR=t=>{const{__scopeToast:e,children:n,...r}=t,s=_d(Ml,e),[o,i]=x.useState(!1),[a,u]=x.useState(!1);return ZR(()=>i(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:_.jsx(Gm,{asChild:!0,children:_.jsx(wd,{...r,children:o&&_.jsxs(_.Fragment,{children:[s.label," ",n]})})})},XR="ToastTitle",z1=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx(Se.div,{...r,ref:e})});z1.displayName=XR;var JR="ToastDescription",H1=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx(Se.div,{...r,ref:e})});H1.displayName=JR;var q1="ToastAction",W1=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?_.jsx(Q1,{altText:n,asChild:!0,children:_.jsx(Ym,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${q1}\`. Expected non-empty \`string\`.`),null)});W1.displayName=q1;var G1="ToastClose",Ym=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=QR(G1,n);return _.jsx(Q1,{asChild:!0,children:_.jsx(Se.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,s.onClose)})})});Ym.displayName=G1;var Q1=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return _.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function K1(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),eP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...K1(r))}}),e}function Su(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?D1(s,o):s.dispatchEvent(o)}var Xv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function ZR(t=()=>{}){const e=kn(t);Rr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function eP(t){return t.nodeType===t.ELEMENT_NODE}function tP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var nP=F1,Y1=$1,X1=B1,J1=z1,Z1=H1,ex=W1,tx=Ym;function nx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=nx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=nx(t))&&(r&&(r+=" "),r+=e);return r}const Jv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zv=rx,Ed=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const m=Jv(d)||Jv(f);return s[c][m]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(T=>{let[g,E]=T;return Array.isArray(E)?E.includes({...o,...a}[g]):{...o,...a}[g]===E})?[...c,f,m]:c},[]);return Zv(t,i,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},u)=>x.createElement("svg",{ref:u,...sP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sx("lucide",s),...a},[...i.map(([c,d])=>x.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const n=x.forwardRef(({className:r,...s},o)=>x.createElement(oP,{ref:o,iconNode:e,className:sx(`lucide-${rP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=ht("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ht("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ht("ClipboardPen",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ht("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ht("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ht("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ht("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=ht("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=ht("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=ht("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=ht("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xm="-",wP=t=>{const e=EP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(Xm);return a[0]===""&&a.length!==1&&a.shift(),ax(a,e)||_P(i)},getConflictingClassGroupIds:(i,a)=>{const u=n[i]||[];return a&&r[i]?[...u,...r[i]]:u}}},ax=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ax(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Xm);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},nw=/^\[(.+)\]$/,_P=t=>{if(nw.test(t)){const e=nw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},EP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TP(Object.entries(t.classGroups),n).forEach(([o,i])=>{fp(i,r,o,e)}),r},fp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:rw(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(xP(s)){fp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{fp(i,rw(e,o),n,r)})})},rw=(t,e)=>{let n=t;return e.split(Xm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xP=t=>t.isThemeGetter,TP=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,SP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},lx="!",CP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const u=[];let c=0,d=0,f;for(let E=0;E<a.length;E++){let v=a[E];if(c===0){if(v===s&&(r||a.slice(E,E+o)===e)){u.push(a.slice(d,E)),d=E+o;continue}if(v==="/"){f=E;continue}}v==="["?c++:v==="]"&&c--}const m=u.length===0?a:a.substring(d),p=m.startsWith(lx),T=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:T,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:i}):i},bP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},IP=t=>({cache:SP(t.cacheSize),parseClassName:CP(t),...wP(t)}),AP=/\s+/,RP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(AP);let a="";for(let u=i.length-1;u>=0;u-=1){const c=i[u],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(c);let T=!!p,g=r(T?m.substring(0,p):m);if(!g){if(!T){a=c+(a.length>0?" "+a:a);continue}if(g=r(m),!g){a=c+(a.length>0?" "+a:a);continue}T=!1}const E=bP(d).join(":"),v=f?E+lx:E,w=v+g;if(o.includes(w))continue;o.push(w);const S=s(g,T);for(let N=0;N<S.length;++N){const D=S[N];o.push(v+D)}a=c+(a.length>0?" "+a:a)}return a};function PP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ux(e))&&(r&&(r+=" "),r+=n);return r}const ux=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ux(t[r]))&&(n&&(n+=" "),n+=e);return n};function kP(t,...e){let n,r,s,o=i;function i(u){const c=e.reduce((d,f)=>f(d),t());return n=IP(c),r=n.cache.get,s=n.cache.set,o=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=RP(u,n);return s(u,d),d}return function(){return o(PP.apply(null,arguments))}}const Ne=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},cx=/^\[(?:([a-z-]+):)?(.+)\]$/i,NP=/^\d+\/\d+$/,DP=new Set(["px","full","screen"]),OP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>ai(t)||DP.has(t)||NP.test(t),Wr=t=>Bi(t,"length",WP),ai=t=>!!t&&!Number.isNaN(Number(t)),Qf=t=>Bi(t,"number",ai),_a=t=>!!t&&Number.isInteger(Number(t)),jP=t=>t.endsWith("%")&&ai(t.slice(0,-1)),ue=t=>cx.test(t),Gr=t=>OP.test(t),$P=new Set(["length","size","percentage"]),UP=t=>Bi(t,$P,dx),BP=t=>Bi(t,"position",dx),zP=new Set(["image","url"]),HP=t=>Bi(t,zP,QP),qP=t=>Bi(t,"",GP),Ea=()=>!0,Bi=(t,e,n)=>{const r=cx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WP=t=>VP.test(t)&&!MP.test(t),dx=()=>!1,GP=t=>LP.test(t),QP=t=>FP.test(t),KP=()=>{const t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),o=Ne("borderRadius"),i=Ne("borderSpacing"),a=Ne("borderWidth"),u=Ne("contrast"),c=Ne("grayscale"),d=Ne("hueRotate"),f=Ne("invert"),m=Ne("gap"),p=Ne("gradientColorStops"),T=Ne("gradientColorStopPositions"),g=Ne("inset"),E=Ne("margin"),v=Ne("opacity"),w=Ne("padding"),S=Ne("saturate"),N=Ne("scale"),D=Ne("sepia"),V=Ne("skew"),b=Ne("space"),C=Ne("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ue,e],O=()=>[ue,e],R=()=>["",pr,Wr],H=()=>["auto",ai,ue],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ue],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[ai,ue];return{cacheSize:500,separator:":",theme:{colors:[Ea],spacing:[pr,Wr],blur:["none","",Gr,ue],brightness:se(),borderColor:[t],borderRadius:["none","","full",Gr,ue],borderSpacing:O(),borderWidth:R(),contrast:se(),grayscale:B(),hueRotate:se(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[jP,Wr],inset:k(),margin:k(),opacity:se(),padding:O(),saturate:se(),scale:se(),sepia:B(),skew:se(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Gr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_a,ue]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",_a,ue]}],"grid-cols":[{"grid-cols":[Ea]}],"col-start-end":[{col:["auto",{span:["full",_a,ue]},ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ea]}],"row-start-end":[{row:["auto",{span:[_a,ue]},ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Gr]},Gr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gr,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qf]}],"font-family":[{font:[Ea]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",ai,Qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Wr]}],"underline-offset":[{"underline-offset":["auto",pr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),BP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[pr,ue]}],"outline-w":[{outline:[pr,Wr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[pr,Wr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Gr,qP]}],"shadow-color":[{shadow:[Ea]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Gr,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[_a,ue]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Wr,Qf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YP=kP(KP);function fe(...t){return YP(rx(t))}const XP=nP,fx=x.forwardRef(({className:t,...e},n)=>_.jsx(Y1,{ref:n,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fx.displayName=Y1.displayName;const JP=Ed("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hx=x.forwardRef(({className:t,variant:e,...n},r)=>_.jsx(X1,{ref:r,className:fe(JP({variant:e}),t),...n}));hx.displayName=X1.displayName;const ZP=x.forwardRef(({className:t,...e},n)=>_.jsx(ex,{ref:n,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));ZP.displayName=ex.displayName;const px=x.forwardRef(({className:t,...e},n)=>_.jsx(tx,{ref:n,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:_.jsx(ix,{className:"h-4 w-4"})}));px.displayName=tx.displayName;const mx=x.forwardRef(({className:t,...e},n)=>_.jsx(J1,{ref:n,className:fe("text-sm font-semibold",t),...e}));mx.displayName=J1.displayName;const gx=x.forwardRef(({className:t,...e},n)=>_.jsx(Z1,{ref:n,className:fe("text-sm opacity-90",t),...e}));gx.displayName=Z1.displayName;function e2(){const{toasts:t}=cR();return _.jsxs(XP,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return _.jsxs(hx,{...o,children:[_.jsxs("div",{className:"grid gap-1",children:[n&&_.jsx(mx,{children:n}),r&&_.jsx(gx,{children:r})]}),s,_.jsx(px,{})]},e)}),_.jsx(fx,{})]})}var sw=["light","dark"],t2="(prefers-color-scheme: dark)",n2=x.createContext(void 0),r2={setTheme:t=>{},themes:[]},s2=()=>{var t;return(t=x.useContext(n2))!=null?t:r2};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:u})=>{let c=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?sw.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(T,g=!1,E=!0)=>{let v=i?i[T]:T,w=g?T+"|| ''":`'${v}'`,S="";return s&&E&&!g&&sw.includes(T)&&(S+=`d.style.colorScheme = '${T}';`),n==="class"?g||v?S+=`c.add(${w})`:S+="null":v&&(S+=`d[s](n,${w})`),S},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${t2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${c?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var o2=t=>{switch(t){case"success":return l2;case"info":return c2;case"warning":return u2;case"error":return d2;default:return null}},i2=Array(12).fill(0),a2=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},i2.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),l2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),u2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),c2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),f2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),h2=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},hp=1,p2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:hp++,i=this.toasts.find(u=>u.id===o),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:r}),{...u,...e,id:o,dismissible:a,title:r}):u):this.addToast({title:r,...s,dismissible:a,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),o=r!==void 0,i,a=s.then(async c=>{if(i=["resolve",c],q.isValidElement(c))o=!1,this.create({id:r,type:"default",message:c});else if(g2(c)&&!c.ok){o=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){o=!1;let d=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(i=["reject",c],n.error!==void 0){o=!1;let d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;o&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),u=()=>new Promise((c,d)=>a.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||hp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ft=new p2,m2=(t,e)=>{let n=(e==null?void 0:e.id)||hp++;return Ft.addToast({title:t,...e,id:n}),n},g2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",y2=m2,v2=()=>Ft.toasts,w2=()=>Ft.getActiveToasts(),qe=Object.assign(y2,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:v2,getToasts:w2});function _2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}_2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cu(t){return t.label!==void 0}var E2=3,x2="32px",T2="16px",ow=4e3,S2=356,C2=14,b2=20,I2=200;function En(...t){return t.filter(Boolean).join(" ")}function A2(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var R2=t=>{var e,n,r,s,o,i,a,u,c,d,f;let{invert:m,toast:p,unstyled:T,interacting:g,setHeights:E,visibleToasts:v,heights:w,index:S,toasts:N,expanded:D,removeToast:V,defaultRichColors:b,closeButton:C,style:A,cancelButtonStyle:P,actionButtonStyle:k,className:O="",descriptionClassName:R="",duration:H,position:ne,gap:X,loadingIcon:ie,expandByDefault:j,classNames:B,icons:Q,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:J}=t,[ce,le]=q.useState(null),[Ve,Qe]=q.useState(null),[ve,Mn]=q.useState(!1),[yn,cr]=q.useState(!1),[Ln,dr]=q.useState(!1),[on,$s]=q.useState(!1),[Xi,Mr]=q.useState(!1),[Us,Lr]=q.useState(0),[Le,ot]=q.useState(0),Fn=q.useRef(p.duration||H||ow),Wl=q.useRef(null),jn=q.useRef(null),ef=S===0,Bs=S+1<=v,At=p.type,fr=p.dismissible!==!1,Ji=p.className||"",tf=p.descriptionClassName||"",Po=q.useMemo(()=>w.findIndex(ee=>ee.toastId===p.id)||0,[w,p.id]),Gl=q.useMemo(()=>{var ee;return(ee=p.closeButton)!=null?ee:C},[p.closeButton,C]),Zi=q.useMemo(()=>p.duration||H||ow,[p.duration,H]),hr=q.useRef(0),$n=q.useRef(0),ko=q.useRef(0),Mt=q.useRef(null),[Ql,No]=ne.split("-"),ea=q.useMemo(()=>w.reduce((ee,xe,Ie)=>Ie>=Po?ee:ee+xe.height,0),[w,Po]),Fr=h2(),Kl=p.invert||m,et=At==="loading";$n.current=q.useMemo(()=>Po*X+ea,[Po,ea]),q.useEffect(()=>{Fn.current=Zi},[Zi]),q.useEffect(()=>{Mn(!0)},[]),q.useEffect(()=>{let ee=jn.current;if(ee){let xe=ee.getBoundingClientRect().height;return ot(xe),E(Ie=>[{toastId:p.id,height:xe,position:p.position},...Ie]),()=>E(Ie=>Ie.filter(it=>it.toastId!==p.id))}},[E,p.id]),q.useLayoutEffect(()=>{if(!ve)return;let ee=jn.current,xe=ee.style.height;ee.style.height="auto";let Ie=ee.getBoundingClientRect().height;ee.style.height=xe,ot(Ie),E(it=>it.find(Qt=>Qt.toastId===p.id)?it.map(Qt=>Qt.toastId===p.id?{...Qt,height:Ie}:Qt):[{toastId:p.id,height:Ie,position:p.position},...it])},[ve,p.title,p.description,E,p.id]);let vn=q.useCallback(()=>{cr(!0),Lr($n.current),E(ee=>ee.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{V(p)},I2)},[p,V,E,$n]);q.useEffect(()=>{if(p.promise&&At==="loading"||p.duration===1/0||p.type==="loading")return;let ee;return D||g||J&&Fr?(()=>{if(ko.current<hr.current){let xe=new Date().getTime()-hr.current;Fn.current=Fn.current-xe}ko.current=new Date().getTime()})():Fn.current!==1/0&&(hr.current=new Date().getTime(),ee=setTimeout(()=>{var xe;(xe=p.onAutoClose)==null||xe.call(p,p),vn()},Fn.current)),()=>clearTimeout(ee)},[D,g,p,At,J,Fr,vn]),q.useEffect(()=>{p.delete&&vn()},[vn,p.delete]);function zs(){var ee,xe,Ie;return Q!=null&&Q.loading?q.createElement("div",{className:En(B==null?void 0:B.loader,(ee=p==null?void 0:p.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":At==="loading"},Q.loading):ie?q.createElement("div",{className:En(B==null?void 0:B.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":At==="loading"},ie):q.createElement(a2,{className:En(B==null?void 0:B.loader,(Ie=p==null?void 0:p.classNames)==null?void 0:Ie.loader),visible:At==="loading"})}return q.createElement("li",{tabIndex:0,ref:jn,className:En(O,Ji,B==null?void 0:B.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[At],(n=p==null?void 0:p.classNames)==null?void 0:n[At]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||T),"data-mounted":ve,"data-promise":!!p.promise,"data-swiped":Xi,"data-removed":yn,"data-visible":Bs,"data-y-position":Ql,"data-x-position":No,"data-index":S,"data-front":ef,"data-swiping":Ln,"data-dismissible":fr,"data-type":At,"data-invert":Kl,"data-swipe-out":on,"data-swipe-direction":Ve,"data-expanded":!!(D||j&&ve),style:{"--index":S,"--toasts-before":S,"--z-index":N.length-S,"--offset":`${yn?Us:$n.current}px`,"--initial-height":j?"auto":`${Le}px`,...A,...p.style},onDragEnd:()=>{dr(!1),le(null),Mt.current=null},onPointerDown:ee=>{et||!fr||(Wl.current=new Date,Lr($n.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(dr(!0),Mt.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,xe,Ie,it;if(on||!fr)return;Mt.current=null;let Qt=Number(((ee=jn.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((xe=jn.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),an=new Date().getTime()-((Ie=Wl.current)==null?void 0:Ie.getTime()),Lt=ce==="x"?Qt:Un,wn=Math.abs(Lt)/an;if(Math.abs(Lt)>=b2||wn>.11){Lr($n.current),(it=p.onDismiss)==null||it.call(p,p),Qe(ce==="x"?Qt>0?"right":"left":Un>0?"down":"up"),vn(),$s(!0),Mr(!1);return}dr(!1),le(null)},onPointerMove:ee=>{var xe,Ie,it,Qt;if(!Mt.current||!fr||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;let Un=ee.clientY-Mt.current.y,an=ee.clientX-Mt.current.x,Lt=(Ie=t.swipeDirections)!=null?Ie:A2(ne);!ce&&(Math.abs(an)>1||Math.abs(Un)>1)&&le(Math.abs(an)>Math.abs(Un)?"x":"y");let wn={x:0,y:0};ce==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&Un<0||Lt.includes("bottom")&&Un>0)&&(wn.y=Un):ce==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&an<0||Lt.includes("right")&&an>0)&&(wn.x=an),(Math.abs(wn.x)>0||Math.abs(wn.y)>0)&&Mr(!0),(it=jn.current)==null||it.style.setProperty("--swipe-amount-x",`${wn.x}px`),(Qt=jn.current)==null||Qt.style.setProperty("--swipe-amount-y",`${wn.y}px`)}},Gl&&!p.jsx?q.createElement("button",{"aria-label":se,"data-disabled":et,"data-close-button":!0,onClick:et||!fr?()=>{}:()=>{var ee;vn(),(ee=p.onDismiss)==null||ee.call(p,p)},className:En(B==null?void 0:B.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=Q==null?void 0:Q.close)!=null?o:f2):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:q.createElement(q.Fragment,null,At||p.icon||p.promise?q.createElement("div",{"data-icon":"",className:En(B==null?void 0:B.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||zs():null,p.type!=="loading"?p.icon||(Q==null?void 0:Q[At])||o2(At):null):null,q.createElement("div",{"data-content":"",className:En(B==null?void 0:B.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:En(B==null?void 0:B.title,(u=p==null?void 0:p.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?q.createElement("div",{"data-description":"",className:En(R,tf,B==null?void 0:B.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&Cu(p.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:ee=>{var xe,Ie;Cu(p.cancel)&&fr&&((Ie=(xe=p.cancel).onClick)==null||Ie.call(xe,ee),vn())},className:En(B==null?void 0:B.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&Cu(p.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:ee=>{var xe,Ie;Cu(p.action)&&((Ie=(xe=p.action).onClick)==null||Ie.call(xe,ee),!ee.defaultPrevented&&vn())},className:En(B==null?void 0:B.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function iw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function P2(t,e){let n={};return[t,e].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?T2:x2;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${i}-${c}`]=a:n[`${i}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(a)}),n}var k2=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:u,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:T=E2,toastOptions:g,dir:E=iw(),gap:v=C2,loadingIcon:w,icons:S,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:D}=t,[V,b]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([r].concat(V.filter(J=>J.position).map(J=>J.position)))),[V,r]),[A,P]=q.useState([]),[k,O]=q.useState(!1),[R,H]=q.useState(!1),[ne,X]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=q.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=q.useRef(null),Q=q.useRef(!1),se=q.useCallback(J=>{b(ce=>{var le;return(le=ce.find(Ve=>Ve.id===J.id))!=null&&le.delete||Ft.dismiss(J.id),ce.filter(({id:Ve})=>Ve!==J.id)})},[]);return q.useEffect(()=>Ft.subscribe(J=>{if(J.dismiss){b(ce=>ce.map(le=>le.id===J.id?{...le,delete:!0}:le));return}setTimeout(()=>{A1.flushSync(()=>{b(ce=>{let le=ce.findIndex(Ve=>Ve.id===J.id);return le!==-1?[...ce.slice(0,le),{...ce[le],...J},...ce.slice(le+1)]:[J,...ce]})})})}),[]),q.useEffect(()=>{if(d!=="system"){X(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ce})=>{X(ce?"dark":"light")})}catch{J.addListener(({matches:le})=>{try{X(le?"dark":"light")}catch(Ve){console.error(Ve)}})}},[d]),q.useEffect(()=>{V.length<=1&&O(!1)},[V]),q.useEffect(()=>{let J=ce=>{var le,Ve;s.every(Qe=>ce[Qe]||ce.code===Qe)&&(O(!0),(le=ie.current)==null||le.focus()),ce.code==="Escape"&&(document.activeElement===ie.current||(Ve=ie.current)!=null&&Ve.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[s]),q.useEffect(()=>{if(ie.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,Q.current=!1)}},[ie.current]),q.createElement("section",{ref:e,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((J,ce)=>{var le;let[Ve,Qe]=J.split("-");return V.length?q.createElement("ol",{key:J,dir:E==="auto"?iw():E,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":Ve,"data-lifted":k&&V.length>1&&!o,"data-x-position":Qe,style:{"--front-toast-height":`${((le=A[0])==null?void 0:le.height)||0}px`,"--width":`${S2}px`,"--gap":`${v}px`,...p,...P2(u,c)},onBlur:ve=>{Q.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(Q.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,B.current=ve.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{R||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},V.filter(ve=>!ve.position&&ce===0||ve.position===J).map((ve,Mn)=>{var yn,cr;return q.createElement(R2,{key:ve.id,icons:S,index:Mn,toast:ve,defaultRichColors:f,duration:(yn=g==null?void 0:g.duration)!=null?yn:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:T,closeButton:(cr=g==null?void 0:g.closeButton)!=null?cr:i,interacting:R,position:J,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:se,toasts:V.filter(Ln=>Ln.position==ve.position),heights:A.filter(Ln=>Ln.position==ve.position),setHeights:P,expandByDefault:o,gap:v,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const N2=({...t})=>{const{theme:e="system"}=s2();return _.jsx(k2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var D2=nm[" useId ".trim().toString()]||(()=>{}),O2=0;function za(t){const[e,n]=x.useState(D2());return Rr(()=>{n(r=>r??String(O2++))},[t]),e?`radix-${e}`:""}const V2=["top","right","bottom","left"],Cs=Math.min,Xt=Math.max,Dc=Math.round,bu=Math.floor,nr=t=>({x:t,y:t}),M2={left:"right",right:"left",bottom:"top",top:"bottom"},L2={start:"end",end:"start"};function pp(t,e,n){return Xt(t,Cs(e,n))}function Pr(t,e){return typeof t=="function"?t(e):t}function kr(t){return t.split("-")[0]}function zi(t){return t.split("-")[1]}function Jm(t){return t==="x"?"y":"x"}function Zm(t){return t==="y"?"height":"width"}const F2=new Set(["top","bottom"]);function Zn(t){return F2.has(kr(t))?"y":"x"}function eg(t){return Jm(Zn(t))}function j2(t,e,n){n===void 0&&(n=!1);const r=zi(t),s=eg(t),o=Zm(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Oc(i)),[i,Oc(i)]}function $2(t){const e=Oc(t);return[mp(t),e,mp(e)]}function mp(t){return t.replace(/start|end/g,e=>L2[e])}const aw=["left","right"],lw=["right","left"],U2=["top","bottom"],B2=["bottom","top"];function z2(t,e,n){switch(t){case"top":case"bottom":return n?e?lw:aw:e?aw:lw;case"left":case"right":return e?U2:B2;default:return[]}}function H2(t,e,n,r){const s=zi(t);let o=z2(kr(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(mp)))),o}function Oc(t){return t.replace(/left|right|bottom|top/g,e=>M2[e])}function q2(t){return{top:0,right:0,bottom:0,left:0,...t}}function yx(t){return typeof t!="number"?q2(t):{top:t,right:t,bottom:t,left:t}}function Vc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function uw(t,e,n){let{reference:r,floating:s}=t;const o=Zn(e),i=eg(e),a=Zm(i),u=kr(e),c=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(u){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(zi(e)){case"start":p[i]-=m*(n&&c?-1:1);break;case"end":p[i]+=m*(n&&c?-1:1);break}return p}const W2=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=uw(c,r,u),m=r,p={},T=0;for(let g=0;g<a.length;g++){const{name:E,fn:v}=a[g],{x:w,y:S,data:N,reset:D}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:t,floating:e}});d=w??d,f=S??f,p={...p,[E]:{...p[E],...N}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(c=D.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:f}=uw(c,m,u)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function hl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Pr(e,t),T=yx(p),E=a[m?f==="floating"?"reference":"floating":f],v=Vc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),w=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),N=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Vc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:u}):w);return{top:(v.top-D.top+T.top)/N.y,bottom:(D.bottom-v.bottom+T.bottom)/N.y,left:(v.left-D.left+T.left)/N.x,right:(D.right-v.right+T.right)/N.x}}const G2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Pr(t,e)||{};if(c==null)return{};const f=yx(d),m={x:n,y:r},p=eg(s),T=Zm(p),g=await i.getDimensions(c),E=p==="y",v=E?"top":"left",w=E?"bottom":"right",S=E?"clientHeight":"clientWidth",N=o.reference[T]+o.reference[p]-m[p]-o.floating[T],D=m[p]-o.reference[p],V=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let b=V?V[S]:0;(!b||!await(i.isElement==null?void 0:i.isElement(V)))&&(b=a.floating[S]||o.floating[T]);const C=N/2-D/2,A=b/2-g[T]/2-1,P=Cs(f[v],A),k=Cs(f[w],A),O=P,R=b-g[T]-k,H=b/2-g[T]/2+C,ne=pp(O,H,R),X=!u.arrow&&zi(s)!=null&&H!==ne&&o.reference[T]/2-(H<O?P:k)-g[T]/2<0,ie=X?H<O?H-O:H-R:0;return{[p]:m[p]+ie,data:{[p]:ne,centerOffset:H-ne-ie,...X&&{alignmentOffset:ie}},reset:X}}}),Q2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:g=!0,...E}=Pr(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=kr(s),w=Zn(a),S=kr(a)===a,N=await(u.isRTL==null?void 0:u.isRTL(c.floating)),D=m||(S||!g?[Oc(a)]:$2(a)),V=T!=="none";!m&&V&&D.push(...H2(a,g,T,N));const b=[a,...D],C=await hl(e,E),A=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(C[v]),f){const H=j2(s,i,N);A.push(C[H[0]],C[H[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(H=>H<=0)){var k,O;const H=(((k=o.flip)==null?void 0:k.index)||0)+1,ne=b[H];if(ne&&(!(f==="alignment"?w!==Zn(ne):!1)||P.every(j=>Zn(j.placement)===w?j.overflows[0]>0:!0)))return{data:{index:H,overflows:P},reset:{placement:ne}};let X=(O=P.filter(ie=>ie.overflows[0]<=0).sort((ie,j)=>ie.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!X)switch(p){case"bestFit":{var R;const ie=(R=P.filter(j=>{if(V){const B=Zn(j.placement);return B===w||B==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(B=>B>0).reduce((B,Q)=>B+Q,0)]).sort((j,B)=>j[1]-B[1])[0])==null?void 0:R[0];ie&&(X=ie);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function cw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dw(t){return V2.some(e=>t[e]>=0)}const K2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Pr(t,e);switch(r){case"referenceHidden":{const o=await hl(e,{...s,elementContext:"reference"}),i=cw(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:dw(i)}}}case"escaped":{const o=await hl(e,{...s,altBoundary:!0}),i=cw(o,n.floating);return{data:{escapedOffsets:i,escaped:dw(i)}}}default:return{}}}}},vx=new Set(["left","top"]);async function Y2(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=kr(n),a=zi(n),u=Zn(n)==="y",c=vx.has(i)?-1:1,d=o&&u?-1:1,f=Pr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(p=a==="end"?T*-1:T),u?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const X2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,u=await Y2(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:i}}}}},J2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:E=>{let{x:v,y:w}=E;return{x:v,y:w}}},...u}=Pr(t,e),c={x:n,y:r},d=await hl(e,u),f=Zn(kr(s)),m=Jm(f);let p=c[m],T=c[f];if(o){const E=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=p+d[E],S=p-d[v];p=pp(w,p,S)}if(i){const E=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=T+d[E],S=T-d[v];T=pp(w,T,S)}const g=a.fn({...e,[m]:p,[f]:T});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:o,[f]:i}}}}}},Z2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Pr(t,e),d={x:n,y:r},f=Zn(s),m=Jm(f);let p=d[m],T=d[f];const g=Pr(a,e),E=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const S=m==="y"?"height":"width",N=o.reference[m]-o.floating[S]+E.mainAxis,D=o.reference[m]+o.reference[S]-E.mainAxis;p<N?p=N:p>D&&(p=D)}if(c){var v,w;const S=m==="y"?"width":"height",N=vx.has(kr(s)),D=o.reference[f]-o.floating[S]+(N&&((v=i.offset)==null?void 0:v[f])||0)+(N?0:E.crossAxis),V=o.reference[f]+o.reference[S]+(N?0:((w=i.offset)==null?void 0:w[f])||0)-(N?E.crossAxis:0);T<D?T=D:T>V&&(T=V)}return{[m]:p,[f]:T}}}},ek=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:u=()=>{},...c}=Pr(t,e),d=await hl(e,c),f=kr(s),m=zi(s),p=Zn(s)==="y",{width:T,height:g}=o.floating;let E,v;f==="top"||f==="bottom"?(E=f,v=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,E=m==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=T-d.left-d.right,N=Cs(g-d[E],w),D=Cs(T-d[v],S),V=!e.middlewareData.shift;let b=N,C=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),V&&!m){const P=Xt(d.left,0),k=Xt(d.right,0),O=Xt(d.top,0),R=Xt(d.bottom,0);p?C=T-2*(P!==0||k!==0?P+k:Xt(d.left,d.right)):b=g-2*(O!==0||R!==0?O+R:Xt(d.top,d.bottom))}await u({...e,availableWidth:C,availableHeight:b});const A=await i.getDimensions(a.floating);return T!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function xd(){return typeof window<"u"}function Hi(t){return wx(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ur(t){var e;return(e=(wx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wx(t){return xd()?t instanceof Node||t instanceof tn(t).Node:!1}function Nn(t){return xd()?t instanceof Element||t instanceof tn(t).Element:!1}function ar(t){return xd()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function fw(t){return!xd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}const tk=new Set(["inline","contents"]);function Ll(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Dn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tk.has(s)}const nk=new Set(["table","td","th"]);function rk(t){return nk.has(Hi(t))}const sk=[":popover-open",":modal"];function Td(t){return sk.some(e=>{try{return t.matches(e)}catch{return!1}})}const ok=["transform","translate","scale","rotate","perspective"],ik=["transform","translate","scale","rotate","perspective","filter"],ak=["paint","layout","strict","content"];function tg(t){const e=ng(),n=Nn(t)?Dn(t):t;return ok.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ik.some(r=>(n.willChange||"").includes(r))||ak.some(r=>(n.contain||"").includes(r))}function lk(t){let e=bs(t);for(;ar(e)&&!Ri(e);){if(tg(e))return e;if(Td(e))return null;e=bs(e)}return null}function ng(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uk=new Set(["html","body","#document"]);function Ri(t){return uk.has(Hi(t))}function Dn(t){return tn(t).getComputedStyle(t)}function Sd(t){return Nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bs(t){if(Hi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fw(t)&&t.host||ur(t);return fw(e)?e.host:e}function _x(t){const e=bs(t);return Ri(e)?t.ownerDocument?t.ownerDocument.body:t.body:ar(e)&&Ll(e)?e:_x(e)}function pl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_x(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=tn(s);if(o){const a=gp(i);return e.concat(i,i.visualViewport||[],Ll(s)?s:[],a&&n?pl(a):[])}return e.concat(s,pl(s,[],n))}function gp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ex(t){const e=Dn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ar(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=Dc(n)!==o||Dc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function rg(t){return Nn(t)?t:t.contextElement}function li(t){const e=rg(t);if(!ar(e))return nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=Ex(e);let i=(o?Dc(n.width):n.width)/r,a=(o?Dc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const ck=nr(0);function xx(t){const e=tn(t);return!ng()||!e.visualViewport?ck:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function _o(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=rg(t);let i=nr(1);e&&(r?Nn(r)&&(i=li(r)):i=li(t));const a=dk(o,n,r)?xx(o):nr(0);let u=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=tn(o),p=r&&Nn(r)?tn(r):r;let T=m,g=gp(T);for(;g&&r&&p!==T;){const E=li(g),v=g.getBoundingClientRect(),w=Dn(g),S=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*E.x,N=v.top+(g.clientTop+parseFloat(w.paddingTop))*E.y;u*=E.x,c*=E.y,d*=E.x,f*=E.y,u+=S,c+=N,T=tn(g),g=gp(T)}}return Vc({width:d,height:f,x:u,y:c})}function Cd(t,e){const n=Sd(t).scrollLeft;return e?e.left+n:_o(ur(t)).left+n}function Tx(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Cd(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function fk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=ur(r),a=e?Td(e.floating):!1;if(r===i||a&&o)return n;let u={scrollLeft:0,scrollTop:0},c=nr(1);const d=nr(0),f=ar(r);if((f||!f&&!o)&&((Hi(r)!=="body"||Ll(i))&&(u=Sd(r)),ar(r))){const p=_o(r);c=li(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!f&&!o?Tx(i,u):nr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-u.scrollTop*c.y+d.y+m.y}}function hk(t){return Array.from(t.getClientRects())}function pk(t){const e=ur(t),n=Sd(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Cd(t);const a=-n.scrollTop;return Dn(r).direction==="rtl"&&(i+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const hw=25;function mk(t,e){const n=tn(t),r=ur(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,u=0;if(s){o=s.width,i=s.height;const d=ng();(!d||d&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}const c=Cd(r);if(c<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,T=Math.abs(r.clientWidth-f.clientWidth-p);T<=hw&&(o-=T)}else c<=hw&&(o+=c);return{width:o,height:i,x:a,y:u}}const gk=new Set(["absolute","fixed"]);function yk(t,e){const n=_o(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=ar(t)?li(t):nr(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,u=s*o.x,c=r*o.y;return{width:i,height:a,x:u,y:c}}function pw(t,e,n){let r;if(e==="viewport")r=mk(t,n);else if(e==="document")r=pk(ur(t));else if(Nn(e))r=yk(e,n);else{const s=xx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vc(r)}function Sx(t,e){const n=bs(t);return n===e||!Nn(n)||Ri(n)?!1:Dn(n).position==="fixed"||Sx(n,e)}function vk(t,e){const n=e.get(t);if(n)return n;let r=pl(t,[],!1).filter(a=>Nn(a)&&Hi(a)!=="body"),s=null;const o=Dn(t).position==="fixed";let i=o?bs(t):t;for(;Nn(i)&&!Ri(i);){const a=Dn(i),u=tg(i);!u&&a.position==="fixed"&&(s=null),(o?!u&&!s:!u&&a.position==="static"&&!!s&&gk.has(s.position)||Ll(i)&&!u&&Sx(t,i))?r=r.filter(d=>d!==i):s=a,i=bs(i)}return e.set(t,r),r}function wk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Td(e)?[]:vk(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((c,d)=>{const f=pw(e,d,s);return c.top=Xt(f.top,c.top),c.right=Cs(f.right,c.right),c.bottom=Cs(f.bottom,c.bottom),c.left=Xt(f.left,c.left),c},pw(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function _k(t){const{width:e,height:n}=Ex(t);return{width:e,height:n}}function Ek(t,e,n){const r=ar(e),s=ur(e),o=n==="fixed",i=_o(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const u=nr(0);function c(){u.x=Cd(s)}if(r||!r&&!o)if((Hi(e)!=="body"||Ll(s))&&(a=Sd(e)),r){const p=_o(e,!0,o,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else s&&c();o&&!r&&s&&c();const d=s&&!r&&!o?Tx(s,a):nr(0),f=i.left+a.scrollLeft-u.x-d.x,m=i.top+a.scrollTop-u.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Kf(t){return Dn(t).position==="static"}function mw(t,e){if(!ar(t)||Dn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ur(t)===n&&(n=n.ownerDocument.body),n}function Cx(t,e){const n=tn(t);if(Td(t))return n;if(!ar(t)){let s=bs(t);for(;s&&!Ri(s);){if(Nn(s)&&!Kf(s))return s;s=bs(s)}return n}let r=mw(t,e);for(;r&&rk(r)&&Kf(r);)r=mw(r,e);return r&&Ri(r)&&Kf(r)&&!tg(r)?n:r||lk(t)||n}const xk=async function(t){const e=this.getOffsetParent||Cx,n=this.getDimensions,r=await n(t.floating);return{reference:Ek(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tk(t){return Dn(t).direction==="rtl"}const Sk={convertOffsetParentRelativeRectToViewportRelativeRect:fk,getDocumentElement:ur,getClippingRect:wk,getOffsetParent:Cx,getElementRects:xk,getClientRects:hk,getDimensions:_k,getScale:li,isElement:Nn,isRTL:Tk};function bx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ck(t,e){let n=null,r;const s=ur(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(a||e(),!m||!p)return;const T=bu(f),g=bu(s.clientWidth-(d+m)),E=bu(s.clientHeight-(f+p)),v=bu(d),S={rootMargin:-T+"px "+-g+"px "+-E+"px "+-v+"px",threshold:Xt(0,Cs(1,u))||1};let N=!0;function D(V){const b=V[0].intersectionRatio;if(b!==u){if(!N)return i();b?i(!1,b):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b===1&&!bx(c,t.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(D,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,S)}n.observe(t)}return i(!0),o}function bk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=rg(t),d=s||o?[...c?pl(c):[],...pl(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=c&&a?Ck(c,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),n()}),c&&!u&&p.observe(c),p.observe(e));let T,g=u?_o(t):null;u&&E();function E(){const v=_o(t);g&&!bx(g,v)&&n(),g=v,T=requestAnimationFrame(E)}return n(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,u&&cancelAnimationFrame(T)}}const Ik=X2,Ak=J2,Rk=Q2,Pk=ek,kk=K2,gw=G2,Nk=Z2,Dk=(t,e,n)=>{const r=new Map,s={platform:Sk,...n},o={...s.platform,_c:r};return W2(t,e,{...s,platform:o})};var Ok=typeof document<"u",Vk=function(){},Ju=Ok?x.useLayoutEffect:Vk;function Mc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Mc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Ix(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yw(t,e){const n=Ix(t);return Math.round(e*n)/n}function Yf(t){const e=x.useRef(t);return Ju(()=>{e.current=t}),e}function Mk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=x.useState(r);Mc(m,r)||p(r);const[T,g]=x.useState(null),[E,v]=x.useState(null),w=x.useCallback(j=>{j!==V.current&&(V.current=j,g(j))},[]),S=x.useCallback(j=>{j!==b.current&&(b.current=j,v(j))},[]),N=o||T,D=i||E,V=x.useRef(null),b=x.useRef(null),C=x.useRef(d),A=u!=null,P=Yf(u),k=Yf(s),O=Yf(c),R=x.useCallback(()=>{if(!V.current||!b.current)return;const j={placement:e,strategy:n,middleware:m};k.current&&(j.platform=k.current),Dk(V.current,b.current,j).then(B=>{const Q={...B,isPositioned:O.current!==!1};H.current&&!Mc(C.current,Q)&&(C.current=Q,Ol.flushSync(()=>{f(Q)}))})},[m,e,n,k,O]);Ju(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const H=x.useRef(!1);Ju(()=>(H.current=!0,()=>{H.current=!1}),[]),Ju(()=>{if(N&&(V.current=N),D&&(b.current=D),N&&D){if(P.current)return P.current(N,D,R);R()}},[N,D,R,P,A]);const ne=x.useMemo(()=>({reference:V,floating:b,setReference:w,setFloating:S}),[w,S]),X=x.useMemo(()=>({reference:N,floating:D}),[N,D]),ie=x.useMemo(()=>{const j={position:n,left:0,top:0};if(!X.floating)return j;const B=yw(X.floating,d.x),Q=yw(X.floating,d.y);return a?{...j,transform:"translate("+B+"px, "+Q+"px)",...Ix(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Q}},[n,a,X.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:ne,elements:X,floatingStyles:ie}),[d,R,ne,X,ie])}const Lk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gw({element:r.current,padding:s}).fn(n):{}:r?gw({element:r,padding:s}).fn(n):{}}}},Fk=(t,e)=>({...Ik(t),options:[t,e]}),jk=(t,e)=>({...Ak(t),options:[t,e]}),$k=(t,e)=>({...Nk(t),options:[t,e]}),Uk=(t,e)=>({...Rk(t),options:[t,e]}),Bk=(t,e)=>({...Pk(t),options:[t,e]}),zk=(t,e)=>({...kk(t),options:[t,e]}),Hk=(t,e)=>({...Lk(t),options:[t,e]});var qk="Arrow",Ax=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return _.jsx(Se.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ax.displayName=qk;var Wk=Ax;function Rx(t){const[e,n]=x.useState(void 0);return Rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Px="Popper",[kx,Nx]=Ms(Px),[k3,Dx]=kx(Px),Ox="PopperAnchor",Vx=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=Dx(Ox,n),i=x.useRef(null),a=ft(e,i),u=x.useRef(null);return x.useEffect(()=>{const c=u.current;u.current=(r==null?void 0:r.current)||i.current,c!==u.current&&o.onAnchorChange(u.current)}),r?null:_.jsx(Se.div,{...s,ref:a})});Vx.displayName=Ox;var sg="PopperContent",[Gk,Qk]=kx(sg),Mx=x.forwardRef((t,e)=>{var ve,Mn,yn,cr,Ln,dr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:T,...g}=t,E=Dx(sg,n),[v,w]=x.useState(null),S=ft(e,on=>w(on)),[N,D]=x.useState(null),V=Rx(N),b=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,A=r+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],O=k.length>0,R={padding:P,boundary:k.filter(Yk),altBoundary:O},{refs:H,floatingStyles:ne,placement:X,isPositioned:ie,middlewareData:j}=Mk({strategy:"fixed",placement:A,whileElementsMounted:(...on)=>bk(...on,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[Fk({mainAxis:s+C,alignmentAxis:i}),u&&jk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$k():void 0,...R}),u&&Uk({...R}),Bk({...R,apply:({elements:on,rects:$s,availableWidth:Xi,availableHeight:Mr})=>{const{width:Us,height:Lr}=$s.reference,Le=on.floating.style;Le.setProperty("--radix-popper-available-width",`${Xi}px`),Le.setProperty("--radix-popper-available-height",`${Mr}px`),Le.setProperty("--radix-popper-anchor-width",`${Us}px`),Le.setProperty("--radix-popper-anchor-height",`${Lr}px`)}}),N&&Hk({element:N,padding:a}),Xk({arrowWidth:b,arrowHeight:C}),m&&zk({strategy:"referenceHidden",...R})]}),[B,Q]=jx(X),se=kn(T);Rr(()=>{ie&&(se==null||se())},[ie,se]);const J=(ve=j.arrow)==null?void 0:ve.x,ce=(Mn=j.arrow)==null?void 0:Mn.y,le=((yn=j.arrow)==null?void 0:yn.centerOffset)!==0,[Ve,Qe]=x.useState();return Rr(()=>{v&&Qe(window.getComputedStyle(v).zIndex)},[v]),_.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:ie?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(cr=j.transformOrigin)==null?void 0:cr.x,(Ln=j.transformOrigin)==null?void 0:Ln.y].join(" "),...((dr=j.hide)==null?void 0:dr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(Gk,{scope:n,placedSide:B,onArrowChange:D,arrowX:J,arrowY:ce,shouldHideArrow:le,children:_.jsx(Se.div,{"data-side":B,"data-align":Q,...g,ref:S,style:{...g.style,animation:ie?void 0:"none"}})})})});Mx.displayName=sg;var Lx="PopperArrow",Kk={top:"bottom",right:"left",bottom:"top",left:"right"},Fx=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=Qk(Lx,r),i=Kk[o.placedSide];return _.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:_.jsx(Wk,{...s,ref:n,style:{...s.style,display:"block"}})})});Fx.displayName=Lx;function Yk(t){return t!==null}var Xk=t=>({name:"transformOrigin",options:t,fn(e){var E,v,w;const{placement:n,rects:r,middlewareData:s}=e,i=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=i?0:t.arrowWidth,u=i?0:t.arrowHeight,[c,d]=jx(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+u/2;let T="",g="";return c==="bottom"?(T=i?f:`${m}px`,g=`${-u}px`):c==="top"?(T=i?f:`${m}px`,g=`${r.floating.height+u}px`):c==="right"?(T=`${-u}px`,g=i?f:`${p}px`):c==="left"&&(T=`${r.floating.width+u}px`,g=i?f:`${p}px`),{data:{x:T,y:g}}}});function jx(t){const[e,n="center"]=t.split("-");return[e,n]}var Jk=Vx,Zk=Mx,eN=Fx,[bd]=Ms("Tooltip",[Nx]),og=Nx(),$x="TooltipProvider",tN=700,vw="tooltip.open",[nN,Ux]=bd($x),Bx=t=>{const{__scopeTooltip:e,delayDuration:n=tN,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,i=x.useRef(!0),a=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),_.jsx(nN,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),i.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};Bx.displayName=$x;var zx="Tooltip",[N3,Id]=bd(zx),yp="TooltipTrigger",rN=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Id(yp,n),o=Ux(yp,n),i=og(n),a=x.useRef(null),u=ft(e,a,s.onTriggerChange),c=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),_.jsx(Jk,{asChild:!0,...i,children:_.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:ye(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ye(t.onBlur,s.onClose),onClick:ye(t.onClick,s.onClose)})})});rN.displayName=yp;var sN="TooltipPortal",[D3,oN]=bd(sN,{forceMount:void 0}),Pi="TooltipContent",Hx=x.forwardRef((t,e)=>{const n=oN(Pi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Id(Pi,t.__scopeTooltip);return _.jsx(Ls,{present:r||i.open,children:i.disableHoverableContent?_.jsx(qx,{side:s,...o,ref:e}):_.jsx(iN,{side:s,...o,ref:e})})}),iN=x.forwardRef((t,e)=>{const n=Id(Pi,t.__scopeTooltip),r=Ux(Pi,t.__scopeTooltip),s=x.useRef(null),o=ft(e,s),[i,a]=x.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,m=x.useCallback(()=>{a(null),f(!1)},[f]),p=x.useCallback((T,g)=>{const E=T.currentTarget,v={x:T.clientX,y:T.clientY},w=dN(v,E.getBoundingClientRect()),S=fN(v,w),N=hN(g.getBoundingClientRect()),D=mN([...S,...N]);a(D),f(!0)},[f]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(u&&d){const T=E=>p(E,d),g=E=>p(E,u);return u.addEventListener("pointerleave",T),d.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",g)}}},[u,d,p,m]),x.useEffect(()=>{if(i){const T=g=>{const E=g.target,v={x:g.clientX,y:g.clientY},w=(u==null?void 0:u.contains(E))||(d==null?void 0:d.contains(E)),S=!pN(v,i);w?m():S&&(m(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,d,i,c,m]),_.jsx(qx,{...t,ref:o})}),[aN,lN]=bd(zx,{isInside:!1}),uN=mR("TooltipContent"),qx=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,u=Id(Pi,n),c=og(n),{onClose:d}=u;return x.useEffect(()=>(document.addEventListener(vw,d),()=>document.removeEventListener(vw,d)),[d]),x.useEffect(()=>{if(u.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),_.jsx(vd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:_.jsxs(Zk,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(uN,{children:r}),_.jsx(aN,{scope:n,isInside:!0,children:_.jsx(FR,{id:u.contentId,role:"tooltip",children:s||r})})]})})});Hx.displayName=Pi;var Wx="TooltipArrow",cN=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=og(n);return lN(Wx,n).isInside?null:_.jsx(eN,{...s,...r,ref:e})});cN.displayName=Wx;function dN(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fN(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function hN(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function pN(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],u=e[i],c=a.x,d=a.y,f=u.x,m=u.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(s=!s)}return s}function mN(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),gN(e)}function gN(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yN=Bx,Gx=Hx;const vN=yN,wN=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(Gx,{ref:r,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));wN.displayName=Gx.displayName;var Ad=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_N={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},es,Xp,i_,EN=(i_=class{constructor(){ge(this,es,_N);ge(this,Xp,!1)}setTimeoutProvider(t){re(this,es,t)}setTimeout(t,e){return F(this,es).setTimeout(t,e)}clearTimeout(t){F(this,es).clearTimeout(t)}setInterval(t,e){return F(this,es).setInterval(t,e)}clearInterval(t){F(this,es).clearInterval(t)}},es=new WeakMap,Xp=new WeakMap,i_),vp=new EN;function xN(t){setTimeout(t,0)}var Rd=typeof window>"u"||"Deno"in globalThis;function Tn(){}function TN(t,e){return typeof t=="function"?t(e):t}function SN(t){return typeof t=="number"&&t>=0&&t!==1/0}function CN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wp(t,e){return typeof t=="function"?t(e):t}function bN(t,e){return typeof t=="function"?t(e):t}function ww(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==ig(i,e.options))return!1}else if(!gl(e.queryKey,i))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function _w(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(ml(e.options.mutationKey)!==ml(o))return!1}else if(!gl(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ig(t,e){return((e==null?void 0:e.queryKeyHashFn)||ml)(t)}function ml(t){return JSON.stringify(t,(e,n)=>_p(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>gl(t[n],e[n])):!1}var IN=Object.prototype.hasOwnProperty;function Qx(t,e){if(t===e)return t;const n=Ew(t)&&Ew(e);if(!n&&!(_p(t)&&_p(e)))return e;const s=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),i=o.length,a=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const d=n?c:o[c],f=t[d],m=e[d];if(f===m){a[d]=f,(n?c<s:IN.call(t,d))&&u++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){a[d]=m;continue}const p=Qx(f,m);a[d]=p,p===f&&u++}return s===i&&u===s?t:a}function Ew(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _p(t){if(!xw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xw(t){return Object.prototype.toString.call(t)==="[object Object]"}function AN(t){return new Promise(e=>{vp.setTimeout(e,t)})}function RN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Qx(t,e):e}function PN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function kN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ag=Symbol();function Kx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ag?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var so,ts,pi,a_,NN=(a_=class extends Ad{constructor(){super();ge(this,so);ge(this,ts);ge(this,pi);re(this,pi,e=>{if(!Rd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,ts)||this.setEventListener(F(this,pi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ts))==null||e.call(this),re(this,ts,void 0))}setEventListener(e){var n;re(this,pi,e),(n=F(this,ts))==null||n.call(this),re(this,ts,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,so)!==e&&(re(this,so,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,so)=="boolean"?F(this,so):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},so=new WeakMap,ts=new WeakMap,pi=new WeakMap,a_),Yx=new NN;function DN(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var ON=xN;function VN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=ON;const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||i()}return u},batchCalls:a=>(...u)=>{o(()=>{a(...u)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var kt=VN(),mi,ns,gi,l_,MN=(l_=class extends Ad{constructor(){super();ge(this,mi,!0);ge(this,ns);ge(this,gi);re(this,gi,e=>{if(!Rd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,ns)||this.setEventListener(F(this,gi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ns))==null||e.call(this),re(this,ns,void 0))}setEventListener(e){var n;re(this,gi,e),(n=F(this,ns))==null||n.call(this),re(this,ns,e(this.setOnline.bind(this)))}setOnline(e){F(this,mi)!==e&&(re(this,mi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,mi)}},mi=new WeakMap,ns=new WeakMap,gi=new WeakMap,l_),Lc=new MN;function LN(t){return Math.min(1e3*2**t,3e4)}function Xx(t){return(t??"online")==="online"?Lc.isOnline():!0}var Ep=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jx(t){let e=!1,n=0,r;const s=DN(),o=()=>s.status!=="pending",i=g=>{var E;if(!o()){const v=new Ep(g);m(v),(E=t.onCancel)==null||E.call(t,v)}},a=()=>{e=!0},u=()=>{e=!1},c=()=>Yx.isFocused()&&(t.networkMode==="always"||Lc.isOnline())&&t.canRun(),d=()=>Xx(t.networkMode)&&t.canRun(),f=g=>{o()||(r==null||r(),s.resolve(g))},m=g=>{o()||(r==null||r(),s.reject(g))},p=()=>new Promise(g=>{var E;r=v=>{(o()||c())&&g(v)},(E=t.onPause)==null||E.call(t)}).then(()=>{var g;r=void 0,o()||(g=t.onContinue)==null||g.call(t)}),T=()=>{if(o())return;let g;const E=n===0?t.initialPromise:void 0;try{g=E??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var V;if(o())return;const w=t.retry??(Rd?0:3),S=t.retryDelay??LN,N=typeof S=="function"?S(n,v):S,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!D){m(v);return}n++,(V=t.onFail)==null||V.call(t,n,v),AN(N).then(()=>c()?void 0:p()).then(()=>{e?m(v):T()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?T():p().then(T),s)}}var oo,u_,Zx=(u_=class{constructor(){ge(this,oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SN(this.gcTime)&&re(this,oo,vp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rd?1/0:5*60*1e3))}clearGcTimeout(){F(this,oo)&&(vp.clearTimeout(F(this,oo)),re(this,oo,void 0))}},oo=new WeakMap,u_),io,yi,ln,ao,lt,bl,lo,Sn,mr,c_,FN=(c_=class extends Zx{constructor(n){super();ge(this,Sn);ge(this,io);ge(this,yi);ge(this,ln);ge(this,ao);ge(this,lt);ge(this,bl);ge(this,lo);re(this,lo,!1),re(this,bl,n.defaultOptions),this.setOptions(n.options),this.observers=[],re(this,ao,n.client),re(this,ln,F(this,ao).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,re(this,io,Tw(this.options)),this.state=n.state??F(this,io),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,lt))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,bl),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Tw(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),re(this,io,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,ln).remove(this)}setData(n,r){const s=RN(this.state.data,n,this.options);return _t(this,Sn,mr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,Sn,mr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,o;const r=(s=F(this,lt))==null?void 0:s.promise;return(o=F(this,lt))==null||o.cancel(n),r?r.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,io))}isActive(){return this.observers.some(n=>bN(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ag||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>wp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!CN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,lt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,lt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,lt)&&(F(this,lo)?F(this,lt).cancel({revert:!0}):F(this,lt).cancelRetry()),this.scheduleGc()),F(this,ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,Sn,mr).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,f,m,p,T,g,E,v,w,S,N;if(this.state.fetchStatus!=="idle"&&((c=F(this,lt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,lt))return F(this,lt).continueRetry(),F(this,lt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const D=this.observers.find(V=>V.options.queryFn);D&&this.setOptions(D.options)}const s=new AbortController,o=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(re(this,lo,!0),s.signal)})},i=()=>{const D=Kx(this.options,r),b=(()=>{const C={client:F(this,ao),queryKey:this.queryKey,meta:this.meta};return o(C),C})();return re(this,lo,!1),this.options.persister?this.options.persister(D,b,this):D(b)},u=(()=>{const D={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,ao),state:this.state,fetchFn:i};return o(D),D})();(d=this.options.behavior)==null||d.onFetch(u,this),re(this,yi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&_t(this,Sn,mr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),re(this,lt,Jx({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:D=>{D instanceof Ep&&D.revert&&this.setState({...F(this,yi),fetchStatus:"idle"}),s.abort()},onFail:(D,V)=>{_t(this,Sn,mr).call(this,{type:"failed",failureCount:D,error:V})},onPause:()=>{_t(this,Sn,mr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Sn,mr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const D=await F(this,lt).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(T=(p=F(this,ln).config).onSuccess)==null||T.call(p,D,this),(E=(g=F(this,ln).config).onSettled)==null||E.call(g,D,this.state.error,this),D}catch(D){if(D instanceof Ep){if(D.silent)return F(this,lt).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw _t(this,Sn,mr).call(this,{type:"error",error:D}),(w=(v=F(this,ln).config).onError)==null||w.call(v,D,this),(N=(S=F(this,ln).config).onSettled)==null||N.call(S,this.state.data,D,this),D}finally{this.scheduleGc()}}},io=new WeakMap,yi=new WeakMap,ln=new WeakMap,ao=new WeakMap,lt=new WeakMap,bl=new WeakMap,lo=new WeakMap,Sn=new WeakSet,mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...jN(s.data,this.options),fetchMeta:n.meta??null};case"success":const o={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,yi,n.manual?o:void 0),o;case"error":const i=n.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,ln).notify({query:this,type:"updated",action:n})})},c_);function jN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Tw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Sw(t){return{onFetch:(e,n)=>{var d,f,m,p,T;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],i=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let g=!1;const E=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=Kx(e.options,e.fetchOptions),w=async(S,N,D)=>{if(g)return Promise.reject();if(N==null&&S.pages.length)return Promise.resolve(S);const b=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};return E(k),k})(),C=await v(b),{maxPages:A}=e.options,P=D?kN:PN;return{pages:P(S.pages,C,A),pageParams:P(S.pageParams,N,A)}};if(s&&o.length){const S=s==="backward",N=S?$N:Cw,D={pages:o,pageParams:i},V=N(r,D);a=await w(D,V,S)}else{const S=t??o.length;do{const N=u===0?i[0]??r.initialPageParam:Cw(r,a);if(u>0&&N==null)break;a=await w(a,N),u++}while(u<S)}return a};e.options.persister?e.fetchFn=()=>{var g,E;return(E=(g=e.options).persister)==null?void 0:E.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Cw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function $N(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Il,Qn,Rt,uo,Kn,Qr,d_,UN=(d_=class extends Zx{constructor(n){super();ge(this,Kn);ge(this,Il);ge(this,Qn);ge(this,Rt);ge(this,uo);re(this,Il,n.client),this.mutationId=n.mutationId,re(this,Rt,n.mutationCache),re(this,Qn,[]),this.state=n.state||BN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Qn).includes(n)||(F(this,Qn).push(n),this.clearGcTimeout(),F(this,Rt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){re(this,Qn,F(this,Qn).filter(r=>r!==n)),this.scheduleGc(),F(this,Rt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Qn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Rt).remove(this))}continue(){var n;return((n=F(this,uo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,u,c,d,f,m,p,T,g,E,v,w,S,N,D,V,b,C,A,P;const r=()=>{_t(this,Kn,Qr).call(this,{type:"continue"})},s={client:F(this,Il),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,uo,Jx({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(k,O)=>{_t(this,Kn,Qr).call(this,{type:"failed",failureCount:k,error:O})},onPause:()=>{_t(this,Kn,Qr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Rt).canRun(this)}));const o=this.state.status==="pending",i=!F(this,uo).canStart();try{if(o)r();else{_t(this,Kn,Qr).call(this,{type:"pending",variables:n,isPaused:i}),await((u=(a=F(this,Rt).config).onMutate)==null?void 0:u.call(a,n,this,s));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));O!==this.state.context&&_t(this,Kn,Qr).call(this,{type:"pending",context:O,variables:n,isPaused:i})}const k=await F(this,uo).start();return await((m=(f=F(this,Rt).config).onSuccess)==null?void 0:m.call(f,k,n,this.state.context,this,s)),await((T=(p=this.options).onSuccess)==null?void 0:T.call(p,k,n,this.state.context,s)),await((E=(g=F(this,Rt).config).onSettled)==null?void 0:E.call(g,k,null,this.state.variables,this.state.context,this,s)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,k,null,n,this.state.context,s)),_t(this,Kn,Qr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((N=(S=F(this,Rt).config).onError)==null?void 0:N.call(S,k,n,this.state.context,this,s)),await((V=(D=this.options).onError)==null?void 0:V.call(D,k,n,this.state.context,s)),await((C=(b=F(this,Rt).config).onSettled)==null?void 0:C.call(b,void 0,k,this.state.variables,this.state.context,this,s)),await((P=(A=this.options).onSettled)==null?void 0:P.call(A,void 0,k,n,this.state.context,s)),k}finally{_t(this,Kn,Qr).call(this,{type:"error",error:k})}}finally{F(this,Rt).runNext(this)}}},Il=new WeakMap,Qn=new WeakMap,Rt=new WeakMap,uo=new WeakMap,Kn=new WeakSet,Qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{F(this,Qn).forEach(s=>{s.onMutationUpdate(n)}),F(this,Rt).notify({mutation:this,type:"updated",action:n})})},d_);function BN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vr,Cn,Al,f_,zN=(f_=class extends Ad{constructor(e={}){super();ge(this,vr);ge(this,Cn);ge(this,Al);this.config=e,re(this,vr,new Set),re(this,Cn,new Map),re(this,Al,0)}build(e,n,r){const s=new UN({client:e,mutationCache:this,mutationId:++ou(this,Al)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,vr).add(e);const n=Iu(e);if(typeof n=="string"){const r=F(this,Cn).get(n);r?r.push(e):F(this,Cn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,vr).delete(e)){const n=Iu(e);if(typeof n=="string"){const r=F(this,Cn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Cn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Iu(e);if(typeof n=="string"){const r=F(this,Cn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Iu(e);if(typeof n=="string"){const s=(r=F(this,Cn).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{F(this,vr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,vr).clear(),F(this,Cn).clear()})}getAll(){return Array.from(F(this,vr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_w(n,r))}findAll(e={}){return this.getAll().filter(n=>_w(e,n))}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Tn))))}},vr=new WeakMap,Cn=new WeakMap,Al=new WeakMap,f_);function Iu(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Yn,h_,HN=(h_=class extends Ad{constructor(e={}){super();ge(this,Yn);this.config=e,re(this,Yn,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??ig(s,n);let i=this.get(o);return i||(i=new FN({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){F(this,Yn).has(e.queryHash)||(F(this,Yn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Yn).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Yn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Yn).get(e)}getAll(){return[...F(this,Yn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ww(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ww(e,r)):n}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yn=new WeakMap,h_),ze,rs,ss,vi,wi,os,_i,Ei,p_,qN=(p_=class{constructor(t={}){ge(this,ze);ge(this,rs);ge(this,ss);ge(this,vi);ge(this,wi);ge(this,os);ge(this,_i);ge(this,Ei);re(this,ze,t.queryCache||new HN),re(this,rs,t.mutationCache||new zN),re(this,ss,t.defaultOptions||{}),re(this,vi,new Map),re(this,wi,new Map),re(this,os,0)}mount(){ou(this,os)._++,F(this,os)===1&&(re(this,_i,Yx.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ze).onFocus())})),re(this,Ei,Lc.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ze).onOnline())})))}unmount(){var t,e;ou(this,os)._--,F(this,os)===0&&((t=F(this,_i))==null||t.call(this),re(this,_i,void 0),(e=F(this,Ei))==null||e.call(this),re(this,Ei,void 0))}isFetching(t){return F(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,rs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,ze).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(wp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,ze).get(r.queryHash),o=s==null?void 0:s.state.data,i=TN(e,o);if(i!==void 0)return F(this,ze).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return kt.batch(()=>F(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,ze);kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,ze);return kt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=kt.batch(()=>F(this,ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(t,e={}){return kt.batch(()=>(F(this,ze).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=kt.batch(()=>F(this,ze).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,ze).build(this,e);return n.isStaleByTime(wp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tn).catch(Tn)}fetchInfiniteQuery(t){return t.behavior=Sw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tn).catch(Tn)}ensureInfiniteQueryData(t){return t.behavior=Sw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lc.isOnline()?F(this,rs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,ze)}getMutationCache(){return F(this,rs)}getDefaultOptions(){return F(this,ss)}setDefaultOptions(t){re(this,ss,t)}setQueryDefaults(t,e){F(this,vi).set(ml(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,vi).values()],n={};return e.forEach(r=>{gl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,wi).set(ml(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,wi).values()],n={};return e.forEach(r=>{gl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,ss).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ig(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ag&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,ss).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,ze).clear(),F(this,rs).clear()}},ze=new WeakMap,rs=new WeakMap,ss=new WeakMap,vi=new WeakMap,wi=new WeakMap,os=new WeakMap,_i=new WeakMap,Ei=new WeakMap,p_),WN=x.createContext(void 0),GN=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(WN.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}var ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ls||(ls={}));const bw="popstate";function QN(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return xp("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tT(s)}return YN(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KN(){return Math.random().toString(36).substr(2,8)}function Iw(t,e){return{usr:t.state,key:t.key,idx:e}}function xp(t,e,n,r){return n===void 0&&(n=null),Fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pd(e):e,{state:n,key:e&&e.key||r||KN()})}function tT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YN(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=ls.Pop,u=null,c=d();c==null&&(c=0,i.replaceState(Fc({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=ls.Pop;let E=d(),v=E==null?null:E-c;c=E,u&&u({action:a,location:g.location,delta:v})}function m(E,v){a=ls.Push;let w=xp(g.location,E,v);c=d()+1;let S=Iw(w,c),N=g.createHref(w);try{i.pushState(S,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}o&&u&&u({action:a,location:g.location,delta:1})}function p(E,v){a=ls.Replace;let w=xp(g.location,E,v);c=d();let S=Iw(w,c),N=g.createHref(w);i.replaceState(S,"",N),o&&u&&u({action:a,location:g.location,delta:0})}function T(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:tT(E);return w=w.replace(/ $/,"%20"),Gt(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return t(s,i)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(bw,f),u=E,()=>{s.removeEventListener(bw,f),u=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let v=T(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(E){return i.go(E)}};return g}var Aw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Aw||(Aw={}));function XN(t,e,n){return n===void 0&&(n="/"),JN(t,e,n)}function JN(t,e,n,r){let s=typeof e=="string"?Pd(e):e,o=sT(s.pathname||"/",n);if(o==null)return null;let i=nT(t);ZN(i);let a=null;for(let u=0;a==null&&u<i.length;++u){let c=dD(o);a=lD(i[u],c)}return a}function nT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(Gt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ui([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nT(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:iD(c,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let u of rT(o.path))s(o,i,u)}),e}function rT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=rT(r.join("/")),a=[];return a.push(...i.map(u=>u===""?o:[o,u].join("/"))),s&&a.push(...i),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function ZN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eD=/^:[\w-]+$/,tD=3,nD=2,rD=1,sD=10,oD=-2,Rw=t=>t==="*";function iD(t,e){let n=t.split("/"),r=n.length;return n.some(Rw)&&(r+=oD),e&&(r+=nD),n.filter(s=>!Rw(s)).reduce((s,o)=>s+(eD.test(o)?tD:o===""?rD:sD),r)}function aD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function lD(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=uD({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ui([o,f.pathname]),pathnameBase:fD(ui([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=ui([o,f.pathnameBase]))}return i}function uD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const T=a[f];return p&&!T?c[m]=void 0:c[m]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function cD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),eT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),fD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function hD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oT=["post","put","patch","delete"];new Set(oT);const pD=["get",...oT];new Set(pD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}const mD=x.createContext(null),gD=x.createContext(null),iT=x.createContext(null),kd=x.createContext(null),Nd=x.createContext({outlet:null,matches:[],isDataRoute:!1}),aT=x.createContext(null);function lg(){return x.useContext(kd)!=null}function lT(){return lg()||Gt(!1),x.useContext(kd).location}function yD(t,e){return vD(t,e)}function vD(t,e,n,r){lg()||Gt(!1);let{navigator:s}=x.useContext(iT),{matches:o}=x.useContext(Nd),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=lT(),d;if(e){var f;let E=typeof e=="string"?Pd(e):e;u==="/"||(f=E.pathname)!=null&&f.startsWith(u)||Gt(!1),d=E}else d=c;let m=d.pathname||"/",p=m;if(u!=="/"){let E=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=XN(t,{pathname:p}),g=TD(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ui([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:ui([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&g?x.createElement(kd.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ls.Pop}},g):g}function wD(){let t=ID(),e=hD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const _D=x.createElement(wD,null);class ED extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Nd.Provider,{value:this.props.routeContext},x.createElement(aT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xD(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(mD);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Nd.Provider,{value:e},r)}function TD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Gt(!1),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||T){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,T=!1,g=null,E=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||_D,u&&(c<0&&m===0?(AD("route-fallback"),T=!0,E=null):c===m&&(T=!0,E=f.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),w=()=>{let S;return p?S=g:T?S=E:f.route.Component?S=x.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,x.createElement(xD,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?x.createElement(ED,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var uT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uT||{});function SD(t){let e=x.useContext(gD);return e||Gt(!1),e}function CD(t){let e=x.useContext(Nd);return e||Gt(!1),e}function bD(t){let e=CD(),n=e.matches[e.matches.length-1];return n.route.id||Gt(!1),n.route.id}function ID(){var t;let e=x.useContext(aT),n=SD(uT.UseRouteError),r=bD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const Pw={};function AD(t,e,n){Pw[t]||(Pw[t]=!0)}function RD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tp(t){Gt(!1)}function PD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ls.Pop,navigator:o,static:i=!1,future:a}=t;lg()&&Gt(!1);let u=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:u,navigator:o,static:i,future:jc({v7_relativeSplatPath:!1},a)}),[u,a,o,i]);typeof r=="string"&&(r=Pd(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:T="default"}=r,g=x.useMemo(()=>{let E=sT(d,u);return E==null?null:{location:{pathname:E,search:f,hash:m,state:p,key:T},navigationType:s}},[u,d,f,m,p,T,s]);return g==null?null:x.createElement(iT.Provider,{value:c},x.createElement(kd.Provider,{children:n,value:g}))}function kD(t){let{children:e,location:n}=t;return yD(Sp(e),n)}new Promise(()=>{});function Sp(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let o=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Sp(r.props.children,o));return}r.type!==Tp&&Gt(!1),!r.props.index||!r.props.children||Gt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Sp(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ND="6";try{window.__reactRouterVersion=ND}catch{}const DD="startTransition",kw=nm[DD];function OD(t){let{basename:e,children:n,future:r,window:s}=t,o=x.useRef();o.current==null&&(o.current=QN({window:s,v5Compat:!0}));let i=o.current,[a,u]=x.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=x.useCallback(f=>{c&&kw?kw(()=>u(f)):u(f)},[u,c]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>RD(r),[r]),x.createElement(PD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var Nw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Nw||(Nw={}));var Dw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dw||(Dw={}));var VD=x.createContext(void 0);function cT(t){const e=x.useContext(VD);return t||e||"ltr"}var Xf="rovingFocusGroup.onEntryFocus",MD={bubbles:!1,cancelable:!0},Fl="RovingFocusGroup",[Cp,dT,LD]=N1(Fl),[FD,fT]=Ms(Fl,[LD]),[jD,$D]=FD(Fl),hT=x.forwardRef((t,e)=>_.jsx(Cp.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(Cp.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(UD,{...t,ref:e})})}));hT.displayName=Fl;var UD=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,m=x.useRef(null),p=ft(e,m),T=cT(o),[g,E]=Vl({prop:i,defaultProp:a??null,onChange:u,caller:Fl}),[v,w]=x.useState(!1),S=kn(c),N=dT(n),D=x.useRef(!1),[V,b]=x.useState(0);return x.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(Xf,S),()=>C.removeEventListener(Xf,S)},[S]),_.jsx(jD,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:g,onItemFocus:x.useCallback(C=>E(C),[E]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>b(C=>C-1),[]),children:_.jsx(Se.div,{tabIndex:v||V===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{D.current=!0}),onFocus:ye(t.onFocus,C=>{const A=!D.current;if(C.target===C.currentTarget&&A&&!v){const P=new CustomEvent(Xf,MD);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const k=N().filter(X=>X.focusable),O=k.find(X=>X.active),R=k.find(X=>X.id===g),ne=[O,R,...k].filter(Boolean).map(X=>X.ref.current);gT(ne,d)}}D.current=!1}),onBlur:ye(t.onBlur,()=>w(!1))})})}),pT="RovingFocusGroupItem",mT=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=t,u=za(),c=o||u,d=$D(pT,n),f=d.currentTabStopId===c,m=dT(n),{onFocusableItemAdd:p,onFocusableItemRemove:T,currentTabStopId:g}=d;return x.useEffect(()=>{if(r)return p(),()=>T()},[r,p,T]),_.jsx(Cp.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:_.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:ye(t.onMouseDown,E=>{r?d.onItemFocus(c):E.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ye(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const v=HD(E,d.orientation,d.dir);if(v!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let S=m().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")S.reverse();else if(v==="prev"||v==="next"){v==="prev"&&S.reverse();const N=S.indexOf(E.currentTarget);S=d.loop?qD(S,N+1):S.slice(N+1)}setTimeout(()=>gT(S))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});mT.displayName=pT;var BD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function HD(t,e,n){const r=zD(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BD[r]}function gT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WD=hT,GD=mT,Dd="Tabs",[QD]=Ms(Dd,[fT]),yT=fT(),[KD,ug]=QD(Dd),vT=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:u="automatic",...c}=t,d=cT(a),[f,m]=Vl({prop:r,onChange:s,defaultProp:o??"",caller:Dd});return _.jsx(KD,{scope:n,baseId:za(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:u,children:_.jsx(Se.div,{dir:d,"data-orientation":i,...c,ref:e})})});vT.displayName=Dd;var wT="TabsList",_T=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=ug(wT,n),i=yT(n);return _.jsx(WD,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:_.jsx(Se.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});_T.displayName=wT;var ET="TabsTrigger",xT=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=ug(ET,n),a=yT(n),u=CT(i.baseId,r),c=bT(i.baseId,r),d=r===i.value;return _.jsx(GD,{asChild:!0,...a,focusable:!s,active:d,children:_.jsx(Se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...o,ref:e,onMouseDown:ye(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:ye(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});xT.displayName=ET;var TT="TabsContent",ST=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,a=ug(TT,n),u=CT(a.baseId,r),c=bT(a.baseId,r),d=r===a.value,f=x.useRef(d);return x.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),_.jsx(Ls,{present:s||d,children:({present:m})=>_.jsx(Se.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:c,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});ST.displayName=TT;function CT(t,e){return`${t}-trigger-${e}`}function bT(t,e){return`${t}-content-${e}`}var YD=vT,IT=_T,AT=xT,RT=ST;const XD=YD,PT=x.forwardRef(({className:t,...e},n)=>_.jsx(IT,{ref:n,className:fe("inline-flex h-14 items-center justify-center rounded-full bg-card p-2 text-muted-foreground shadow-lg border-2 border-border",t),...e}));PT.displayName=IT.displayName;const Zu=x.forwardRef(({className:t,...e},n)=>_.jsx(AT,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-full px-6 py-2 text-sm font-bold ring-offset-background transition-all data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-muted",t),...e}));Zu.displayName=AT.displayName;const ec=x.forwardRef(({className:t,...e},n)=>_.jsx(RT,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ec.displayName=RT.displayName;const JD="/lanchonete-sh82-sistema/assets/logo-Coho76Am.png",ZD="/lanchonete-sh82-sistema/assets/logo-secondary-CRtX2nb4.png",e4=Ed("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-bold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-105 shadow-lg hover:shadow-xl",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 px-4",lg:"h-14 px-8 text-base",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),Nt=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?hR:"button";return _.jsx(i,{className:fe(e4({variant:e,size:n,className:t})),ref:o,...s})});Nt.displayName="Button";const wr=x.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));wr.displayName="Card";const ki=x.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));ki.displayName="CardHeader";const Ni=x.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ni.displayName="CardTitle";const cg=x.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));cg.displayName="CardDescription";const _r=x.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));_r.displayName="CardContent";const t4=x.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));t4.displayName="CardFooter";const kT=x.forwardRef(({className:t,...e},n)=>_.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));kT.displayName="Textarea";function n4(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Od="Checkbox",[r4]=Ms(Od),[s4,dg]=r4(Od);function o4(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:u,required:c,value:d="on",internal_do_not_use_render:f}=t,[m,p]=Vl({prop:n,defaultProp:s??!1,onChange:u,caller:Od}),[T,g]=x.useState(null),[E,v]=x.useState(null),w=x.useRef(!1),S=T?!!i||!!T.closest("form"):!0,N={checked:m,disabled:o,setChecked:p,control:T,setControl:g,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:vs(s)?!1:s,isFormControl:S,bubbleInput:E,setBubbleInput:v};return _.jsx(s4,{scope:e,...N,children:i4(f)?f(N):r})}var NT="CheckboxTrigger",DT=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:i,disabled:a,checked:u,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:T}=dg(NT,t),g=ft(s,d),E=x.useRef(u);return x.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const w=()=>f(E.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[o,f]),_.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":vs(u)?"mixed":u,"aria-required":c,"data-state":FT(u),"data-disabled":a?"":void 0,disabled:a,value:i,...r,ref:g,onKeyDown:ye(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ye(n,v=>{f(w=>vs(w)?!0:!w),T&&p&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});DT.displayName=NT;var fg=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:u,onCheckedChange:c,form:d,...f}=t;return _.jsx(o4,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:c,name:r,form:d,value:u,internal_do_not_use_render:({isFormControl:m})=>_.jsxs(_.Fragment,{children:[_.jsx(DT,{...f,ref:e,__scopeCheckbox:n}),m&&_.jsx(LT,{__scopeCheckbox:n})]})})});fg.displayName=Od;var OT="CheckboxIndicator",VT=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=dg(OT,n);return _.jsx(Ls,{present:r||vs(o.checked)||o.checked===!0,children:_.jsx(Se.span,{"data-state":FT(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});VT.displayName=OT;var MT="CheckboxBubbleInput",LT=x.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:u,name:c,value:d,form:f,bubbleInput:m,setBubbleInput:p}=dg(MT,t),T=ft(n,p),g=n4(o),E=Rx(r);x.useEffect(()=>{const w=m;if(!w)return;const S=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(S,"checked").set,V=!s.current;if(g!==o&&D){const b=new Event("click",{bubbles:V});w.indeterminate=vs(o),D.call(w,vs(o)?!1:o),w.dispatchEvent(b)}},[m,g,o,s]);const v=x.useRef(vs(o)?!1:o);return _.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:a,disabled:u,name:c,value:d,form:f,...e,tabIndex:-1,ref:T,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LT.displayName=MT;function i4(t){return typeof t=="function"}function vs(t){return t==="indeterminate"}function FT(t){return vs(t)?"indeterminate":t?"checked":"unchecked"}const jT=x.forwardRef(({className:t,...e},n)=>_.jsx(fg,{ref:n,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:_.jsx(VT,{className:fe("flex items-center justify-center text-current"),children:_.jsx(lP,{className:"h-4 w-4"})})}));jT.displayName=fg.displayName;const xa=(t,e,n=.3)=>{const r=new(window.AudioContext||window.webkitAudioContext),s=r.createOscillator(),o=r.createGain();s.connect(o),o.connect(r.destination),s.frequency.value=t,s.type="sine",o.gain.setValueAtTime(n,r.currentTime),o.gain.exponentialRampToValueAtTime(.01,r.currentTime+e),s.start(r.currentTime),s.stop(r.currentTime+e)},$T=()=>{const t=x.useCallback(()=>{xa(800,.15,.2),setTimeout(()=>xa(1e3,.15,.2),150)},[]),e=x.useCallback(()=>{xa(600,.1,.15),setTimeout(()=>xa(800,.1,.15),100),setTimeout(()=>xa(1e3,.2,.15),200)},[]);return{playNewOrderSound:t,playOrderCompletedSound:e}},a4=({menuItems:t,onAddOrder:e})=>{const[n,r]=x.useState([]),[s,o]=x.useState(""),[i,a]=x.useState(!1),{playNewOrderSound:u}=$T(),c=p=>{const T=n.find(g=>g.menuItem.id===p.id);T?T.quantity<p.stock?r(n.map(g=>g.menuItem.id===p.id?{...g,quantity:g.quantity+1}:g)):qe.error("Estoque insuficiente!"):p.stock>0?r([...n,{menuItem:p,quantity:1}]):qe.error("Produto sem estoque!")},d=(p,T)=>{r(n.map(g=>{if(g.menuItem.id===p){const E=g.quantity+T;return E>g.menuItem.stock?(qe.error("Estoque insuficiente!"),g):{...g,quantity:E}}return g}).filter(g=>g.quantity>0))},f=()=>n.reduce((p,T)=>p+T.menuItem.price*T.quantity,0),m=async()=>{if(n.length===0){qe.error("Adicione itens ao pedido!");return}const p=s.trim(),T={items:n,total:f(),status:"pending",createdAt:new Date,observation:p,isPaid:i};await e(T)&&(u(),r([]),o(""),a(!1),qe.success("Pedido criado com sucesso!"))};return _.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Itens Disponveis"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(p=>p.stock>0&&p.visible).map(p=>_.jsxs(wr,{className:"hover:shadow-xl transition-all cursor-pointer border-2",onClick:()=>c(p),children:[_.jsxs(ki,{className:"pb-3",children:[_.jsx(Ni,{className:"text-lg",children:p.name}),_.jsx(cg,{className:"line-clamp-2",children:p.description})]}),_.jsx(_r,{children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("span",{className:"text-2xl font-bold text-primary",children:["R$ ",p.price.toFixed(2)]}),_.jsxs("span",{className:"text-sm text-muted-foreground",children:["Estoque: ",p.stock]})]})})]},p.id))})]}),_.jsx("div",{className:"lg:col-span-1",children:_.jsxs(wr,{className:"sticky top-4 border-2 border-primary shadow-xl",children:[_.jsx(ki,{className:"bg-primary text-primary-foreground rounded-t-lg",children:_.jsxs(Ni,{className:"flex items-center gap-2",children:[_.jsx(mP,{className:"h-5 w-5"}),"Pedido Atual"]})}),_.jsx(_r,{className:"pt-6 space-y-4",children:n.length===0?_.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum item no pedido"}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map(p=>_.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 rounded-lg bg-muted",children:[_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:"font-semibold text-sm truncate",children:p.menuItem.name}),_.jsxs("p",{className:"text-xs text-muted-foreground",children:["R$ ",p.menuItem.price.toFixed(2)]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Nt,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>d(p.menuItem.id,-1),children:_.jsx(hP,{className:"h-3 w-3"})}),_.jsx("span",{className:"w-8 text-center font-bold",children:p.quantity}),_.jsx(Nt,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>d(p.menuItem.id,1),children:_.jsx(ox,{className:"h-3 w-3"})})]})]},p.menuItem.id))}),_.jsxs("div",{className:"border-t-2 border-border pt-4 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Observao"}),_.jsx(kT,{placeholder:"Ex: Sem cebola, sem molho...",value:s,onChange:p=>o(p.target.value),className:"resize-none",rows:3})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(jT,{id:"isPaid",checked:i,onCheckedChange:p=>a(p)}),_.jsx("label",{htmlFor:"isPaid",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Pedido j foi pago"})]}),_.jsxs("div",{className:"flex justify-between items-center pt-2",children:[_.jsx("span",{className:"text-lg font-bold",children:"Total:"}),_.jsxs("span",{className:"text-2xl font-black text-primary",children:["R$ ",f().toFixed(2)]})]}),_.jsx(Nt,{onClick:m,className:"w-full",size:"lg",children:"Finalizar Pedido"})]})]})})]})})]})},l4=Ed("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ow({className:t,variant:e,...n}){return _.jsx("div",{className:fe(l4({variant:e}),t),...n})}const UT=x.forwardRef(({className:t,...e},n)=>_.jsx("div",{className:"relative w-full overflow-auto",children:_.jsx("table",{ref:n,className:fe("w-full caption-bottom text-sm",t),...e})}));UT.displayName="Table";const BT=x.forwardRef(({className:t,...e},n)=>_.jsx("thead",{ref:n,className:fe("[&_tr]:border-b",t),...e}));BT.displayName="TableHeader";const zT=x.forwardRef(({className:t,...e},n)=>_.jsx("tbody",{ref:n,className:fe("[&_tr:last-child]:border-0",t),...e}));zT.displayName="TableBody";const u4=x.forwardRef(({className:t,...e},n)=>_.jsx("tfoot",{ref:n,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));u4.displayName="TableFooter";const bp=x.forwardRef(({className:t,...e},n)=>_.jsx("tr",{ref:n,className:fe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));bp.displayName="TableRow";const Ys=x.forwardRef(({className:t,...e},n)=>_.jsx("th",{ref:n,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ys.displayName="TableHead";const Xs=x.forwardRef(({className:t,...e},n)=>_.jsx("td",{ref:n,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Xs.displayName="TableCell";const c4=x.forwardRef(({className:t,...e},n)=>_.jsx("caption",{ref:n,className:fe("mt-4 text-sm text-muted-foreground",t),...e}));c4.displayName="TableCaption";const d4=({orders:t,onUpdateStatus:e,onUpdatePayment:n})=>{const{playOrderCompletedSound:r}=$T(),[s,o]=x.useState(!1),i=t.filter(g=>g.status==="pending"),a=t.filter(g=>g.status==="preparing"),u=t.filter(g=>g.status==="completed"),c=()=>{const g=["Pedido","Horrio","Itens","Total","Status Pagamento"],E=u.map(D=>[`#${D.id.slice(-4)}`,D.createdAt.toLocaleString("pt-BR"),D.items.map(V=>`${V.quantity}x ${V.menuItem.name}`).join("; "),`R$ ${D.total.toFixed(2)}`,D.isPaid?"Pago":"Pendente"]),v=[g.join(","),...E.map(D=>D.map(V=>`"${V}"`).join(","))].join(`
`),w=new Blob([v],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a"),N=URL.createObjectURL(w);S.setAttribute("href",N),S.setAttribute("download",`pedidos_concluidos_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S),qe.success("Dados exportados com sucesso!")},d=g=>{e(g,"preparing"),qe.success("Pedido em preparao!")},f=g=>{e(g,"completed"),r(),qe.success("Pedido concludo!")},m=g=>{n(g,!0),qe.success("Pedido marcado como pago!")},p=(g,E)=>{e(g,E==="preparing"?"pending":"preparing"),qe.info("Pedido movido para a etapa anterior.")},T=({order:g,showButton:E,buttonText:v,buttonAction:w,icon:S,iconColor:N,showPaymentButton:D,showBackButton:V,backButtonAction:b})=>_.jsxs(wr,{className:"border-2 hover:shadow-lg transition-all",children:[_.jsx(ki,{className:"pb-3",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[V&&_.jsx(Nt,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:bg-muted",onClick:C=>{C.stopPropagation(),b==null||b()},title:"Mover para etapa anterior",children:_.jsx(iP,{className:"h-4 w-4"})}),_.jsxs(Ni,{className:"text-base flex items-center gap-2",children:[_.jsx(S,{className:`h-5 w-5 ${N}`}),"Pedido #",g.id.slice(-4)]})]}),_.jsx("span",{className:"text-xs text-muted-foreground",children:g.createdAt.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),_.jsxs(_r,{className:"space-y-3",children:[_.jsx("div",{className:"space-y-2",children:g.items.map((C,A)=>_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsxs("span",{children:[C.quantity,"x ",C.menuItem.name]}),_.jsxs("span",{className:"font-semibold",children:["R$ ",(C.menuItem.price*C.quantity).toFixed(2)]})]},A))}),g.observation&&_.jsxs("div",{className:"bg-muted p-3 rounded-md border",children:[_.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Observao:"}),_.jsx("p",{className:"text-sm",children:g.observation})]}),_.jsxs("div",{className:"border-t pt-3 space-y-3",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"font-bold",children:"Total:"}),_.jsxs("span",{className:"text-xl font-black text-primary",children:["R$ ",g.total.toFixed(2)]})]}),_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx(Ow,{variant:g.isPaid?"default":"secondary",className:"font-semibold",children:g.isPaid?" Pago":"Pendente"}),!g.isPaid&&D&&_.jsx(Nt,{variant:"outline",size:"sm",onClick:()=>m(g.id),className:"text-xs",children:"Marcar como Pago"})]})]}),E&&w&&_.jsx(Nt,{onClick:w,className:"w-full mt-2",children:v})]})]});return _.jsxs("div",{className:"space-y-6",children:[u.length>0&&_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsxs(Nt,{variant:"outline",onClick:()=>o(!s),className:"gap-2",children:[_.jsx(gP,{className:"h-4 w-4"}),s?"Ver Cards":"Ver Tabela"]}),_.jsxs(Nt,{onClick:c,className:"gap-2",children:[_.jsx(cP,{className:"h-4 w-4"}),"Exportar CSV"]})]}),s&&u.length>0?_.jsxs(wr,{children:[_.jsx(ki,{children:_.jsxs(Ni,{className:"flex items-center gap-2",children:[_.jsx(Gf,{className:"h-6 w-6 text-green-500"}),"Pedidos Concludos - Visualizao em Tabela"]})}),_.jsx(_r,{children:_.jsxs(UT,{children:[_.jsx(BT,{children:_.jsxs(bp,{children:[_.jsx(Ys,{children:"Pedido"}),_.jsx(Ys,{children:"Horrio"}),_.jsx(Ys,{children:"Itens"}),_.jsx(Ys,{children:"Observao"}),_.jsx(Ys,{children:"Total"}),_.jsx(Ys,{children:"Pagamento"})]})}),_.jsx(zT,{children:u.map(g=>_.jsxs(bp,{children:[_.jsxs(Xs,{className:"font-medium",children:["#",g.id.slice(-4)]}),_.jsx(Xs,{children:g.createdAt.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}),_.jsx(Xs,{children:_.jsx("div",{className:"space-y-1",children:g.items.map((E,v)=>_.jsxs("div",{className:"text-sm",children:[E.quantity,"x ",E.menuItem.name]},v))})}),_.jsx(Xs,{children:g.observation?_.jsx("div",{className:"text-sm max-w-xs",children:g.observation}):_.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),_.jsxs(Xs,{className:"font-bold",children:["R$ ",g.total.toFixed(2)]}),_.jsx(Xs,{children:_.jsx(Ow,{variant:g.isPaid?"default":"secondary",children:g.isPaid?" Pago":"Pendente"})})]},g.id))})]})})]}):_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx(ew,{className:"h-6 w-6 text-amber-500"}),_.jsx("h2",{className:"text-2xl font-bold",children:"Pendentes"}),_.jsx("span",{className:"bg-amber-500 text-white rounded-full px-3 py-1 text-sm font-bold",children:i.length})]}),i.length===0?_.jsx(wr,{className:"border-2 border-dashed",children:_.jsx(_r,{className:"py-12 text-center text-muted-foreground",children:"Nenhum pedido pendente"})}):i.map(g=>_.jsx(T,{order:g,showButton:!0,buttonText:"Iniciar Preparao",buttonAction:()=>d(g.id),icon:ew,iconColor:"text-amber-500",showPaymentButton:!0},g.id))]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx(tw,{className:"h-6 w-6 text-blue-500"}),_.jsx("h2",{className:"text-2xl font-bold",children:"Em Preparao"}),_.jsx("span",{className:"bg-blue-500 text-white rounded-full px-3 py-1 text-sm font-bold",children:a.length})]}),a.length===0?_.jsx(wr,{className:"border-2 border-dashed",children:_.jsx(_r,{className:"py-12 text-center text-muted-foreground",children:"Nenhum pedido em preparao"})}):a.map(g=>_.jsx(T,{order:g,showButton:!0,buttonText:"Concluir Pedido",buttonAction:()=>f(g.id),icon:tw,iconColor:"text-blue-500",showPaymentButton:!0,showBackButton:!0,backButtonAction:()=>p(g.id,"preparing")},g.id))]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx(Gf,{className:"h-6 w-6 text-green-500"}),_.jsx("h2",{className:"text-2xl font-bold",children:"Concludos"}),_.jsx("span",{className:"bg-green-500 text-white rounded-full px-3 py-1 text-sm font-bold",children:u.length})]}),u.length===0?_.jsx(wr,{className:"border-2 border-dashed",children:_.jsx(_r,{className:"py-12 text-center text-muted-foreground",children:"Nenhum pedido concludo"})}):u.map(g=>_.jsx(T,{order:g,icon:Gf,iconColor:"text-green-500",showBackButton:!0,backButtonAction:()=>p(g.id,"completed")},g.id))]})]})]})};var Jf="focusScope.autoFocusOnMount",Zf="focusScope.autoFocusOnUnmount",Vw={bubbles:!1,cancelable:!0},f4="FocusScope",HT=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,u]=x.useState(null),c=kn(s),d=kn(o),f=x.useRef(null),m=ft(e,g=>u(g)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(S){if(p.paused||!a)return;const N=S.target;a.contains(N)?f.current=N:Kr(f.current,{select:!0})},E=function(S){if(p.paused||!a)return;const N=S.relatedTarget;N!==null&&(a.contains(N)||Kr(f.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Kr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",E);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,p.paused]),x.useEffect(()=>{if(a){Lw.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Jf,Vw);a.addEventListener(Jf,c),a.dispatchEvent(v),v.defaultPrevented||(h4(v4(qT(a)),{select:!0}),document.activeElement===g&&Kr(a))}return()=>{a.removeEventListener(Jf,c),setTimeout(()=>{const v=new CustomEvent(Zf,Vw);a.addEventListener(Zf,d),a.dispatchEvent(v),v.defaultPrevented||Kr(g??document.body,{select:!0}),a.removeEventListener(Zf,d),Lw.remove(p)},0)}}},[a,c,d,p]);const T=x.useCallback(g=>{if(!n&&!r||p.paused)return;const E=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(E&&v){const w=g.currentTarget,[S,N]=p4(w);S&&N?!g.shiftKey&&v===N?(g.preventDefault(),n&&Kr(S,{select:!0})):g.shiftKey&&v===S&&(g.preventDefault(),n&&Kr(N,{select:!0})):v===w&&g.preventDefault()}},[n,r,p.paused]);return _.jsx(Se.div,{tabIndex:-1,...i,ref:m,onKeyDown:T})});HT.displayName=f4;function h4(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Kr(r,{select:e}),document.activeElement!==n)return}function p4(t){const e=qT(t),n=Mw(e,t),r=Mw(e.reverse(),t);return[n,r]}function qT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mw(t,e){for(const n of t)if(!m4(n,{upTo:e}))return n}function m4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function g4(t){return t instanceof HTMLInputElement&&"select"in t}function Kr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&g4(t)&&e&&t.select()}}var Lw=y4();function y4(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Fw(t,e),t.unshift(e)},remove(e){var n;t=Fw(t,e),(n=t[0])==null||n.resume()}}}function Fw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v4(t){return t.filter(e=>e.tagName!=="A")}var eh=0;function w4(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jw()),document.body.insertAdjacentElement("beforeend",t[1]??jw()),eh++,()=>{eh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),eh--}},[])}function jw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jn=function(){return Jn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Jn.apply(this,arguments)};function WT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var tc="right-scroll-bar-position",nc="width-before-scroll-bar",E4="with-scroll-bars-hidden",x4="--removed-body-scroll-bar-size";function th(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function T4(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var S4=typeof window<"u"?x.useLayoutEffect:x.useEffect,$w=new WeakMap;function C4(t,e){var n=T4(null,function(r){return t.forEach(function(s){return th(s,r)})});return S4(function(){var r=$w.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||th(a,null)}),o.forEach(function(a){s.has(a)||th(a,i)})}$w.set(n,t)},[t]),n}function b4(t){return t}function I4(t,e){e===void 0&&(e=b4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var u=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return s}function A4(t){t===void 0&&(t={});var e=I4(null);return e.options=Jn({async:!0,ssr:!1},t),e}var GT=function(t){var e=t.sideCar,n=WT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Jn({},n))};GT.isSideCarExport=!0;function R4(t,e){return t.useMedium(e),GT}var QT=A4(),nh=function(){},Vd=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:nh,onWheelCapture:nh,onTouchMoveCapture:nh}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,T=t.noIsolation,g=t.inert,E=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,S=t.gapMode,N=WT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,V=C4([n,e]),b=Jn(Jn({},N),s);return x.createElement(x.Fragment,null,d&&x.createElement(D,{sideCar:QT,removeScrollBar:c,shards:f,noRelative:p,noIsolation:T,inert:g,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:S}),i?x.cloneElement(x.Children.only(a),Jn(Jn({},b),{ref:V})):x.createElement(w,Jn({},b,{className:u,ref:V}),a))});Vd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vd.classNames={fullWidth:nc,zeroRight:tc};var P4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=P4();return e&&t.setAttribute("nonce",e),t}function N4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function D4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var O4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=k4())&&(N4(e,n),D4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V4=function(){var t=O4();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},KT=function(){var t=V4(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},M4={left:0,top:0,right:0,gap:0},rh=function(t){return parseInt(t||"",10)||0},L4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rh(n),rh(r),rh(s)]},F4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M4;var e=L4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},j4=KT(),ci="data-scroll-locked",$4=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(E4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tc," .").concat(tc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nc," .").concat(nc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(x4,": ").concat(a,`px;
  }
`)},Uw=function(){var t=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(t)?t:0},U4=function(){x.useEffect(function(){return document.body.setAttribute(ci,(Uw()+1).toString()),function(){var t=Uw()-1;t<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,t.toString())}},[])},B4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;U4();var o=x.useMemo(function(){return F4(s)},[s]);return x.createElement(j4,{styles:$4(o,!e,s,n?"":"!important")})},Ip=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return Ip=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Ip=!1}var Mo=Ip?{passive:!1}:!1,z4=function(t){return t.tagName==="TEXTAREA"},YT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!z4(t)&&n[e]==="visible")},H4=function(t){return YT(t,"overflowY")},q4=function(t){return YT(t,"overflowX")},Bw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=XT(t,r);if(s){var o=JT(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},W4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},G4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},XT=function(t,e){return t==="v"?H4(e):q4(e)},JT=function(t,e){return t==="v"?W4(e):G4(e)},Q4=function(t,e){return t==="h"&&e==="rtl"?-1:1},K4=function(t,e,n,r,s){var o=Q4(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,u=e.contains(a),c=!1,d=i>0,f=0,m=0;do{if(!a)break;var p=JT(t,a),T=p[0],g=p[1],E=p[2],v=g-E-o*T;(T||v)&&XT(t,a)&&(f+=v,m+=T);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(c=!0),c},Ru=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zw=function(t){return[t.deltaX,t.deltaY]},Hw=function(t){return t&&"current"in t?t.current:t},Y4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J4=0,Lo=[];function Z4(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(J4++)[0],o=x.useState(KT)[0],i=x.useRef(t);x.useEffect(function(){i.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=_4([t.lockRef.current],(t.shards||[]).map(Hw),!0).filter(Boolean);return g.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(g,E){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=Ru(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-v[0],N="deltaY"in g?g.deltaY:w[1]-v[1],D,V=g.target,b=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in g&&b==="h"&&V.type==="range")return!1;var C=Bw(b,V);if(!C)return!0;if(C?D=b:(D=b==="v"?"h":"v",C=Bw(b,V)),!C)return!1;if(!r.current&&"changedTouches"in g&&(S||N)&&(r.current=D),!D)return!0;var A=r.current||D;return K4(A,E,g,A==="h"?S:N)},[]),u=x.useCallback(function(g){var E=g;if(!(!Lo.length||Lo[Lo.length-1]!==o)){var v="deltaY"in E?zw(E):Ru(E),w=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&Y4(D.delta,v)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var S=(i.current.shards||[]).map(Hw).filter(Boolean).filter(function(D){return D.contains(E.target)}),N=S.length>0?a(E,S[0]):!i.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),c=x.useCallback(function(g,E,v,w){var S={name:g,delta:E,target:v,should:w,shadowParent:eO(v)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(N){return N!==S})},1)},[]),d=x.useCallback(function(g){n.current=Ru(g),r.current=void 0},[]),f=x.useCallback(function(g){c(g.type,zw(g),g.target,a(g,t.lockRef.current))},[]),m=x.useCallback(function(g){c(g.type,Ru(g),g.target,a(g,t.lockRef.current))},[]);x.useEffect(function(){return Lo.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Mo),document.addEventListener("touchmove",u,Mo),document.addEventListener("touchstart",d,Mo),function(){Lo=Lo.filter(function(g){return g!==o}),document.removeEventListener("wheel",u,Mo),document.removeEventListener("touchmove",u,Mo),document.removeEventListener("touchstart",d,Mo)}},[]);var p=t.removeScrollBar,T=t.inert;return x.createElement(x.Fragment,null,T?x.createElement(o,{styles:X4(s)}):null,p?x.createElement(B4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function eO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tO=R4(QT,Z4);var ZT=x.forwardRef(function(t,e){return x.createElement(Vd,Jn({},t,{ref:e,sideCar:tO}))});ZT.classNames=Vd.classNames;var nO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fo=new WeakMap,Pu=new WeakMap,ku={},sh=0,eS=function(t){return t&&(t.host||eS(t.parentNode))},rO=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sO=function(t,e,n,r){var s=rO(e,Array.isArray(t)?t:[t]);ku[n]||(ku[n]=new WeakMap);var o=ku[n],i=[],a=new Set,u=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(r),T=p!==null&&p!=="false",g=(Fo.get(m)||0)+1,E=(o.get(m)||0)+1;Fo.set(m,g),o.set(m,E),i.push(m),g===1&&T&&Pu.set(m,!0),E===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(e),a.clear(),sh++,function(){i.forEach(function(f){var m=Fo.get(f)-1,p=o.get(f)-1;Fo.set(f,m),o.set(f,p),m||(Pu.has(f)||f.removeAttribute(r),Pu.delete(f)),p||f.removeAttribute(n)}),sh--,sh||(Fo=new WeakMap,Fo=new WeakMap,Pu=new WeakMap,ku={})}},oO=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=nO(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),sO(r,s,n,"aria-hidden")):function(){return null}},Md="Dialog",[tS]=Ms(Md),[iO,Vn]=tS(Md),nS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=x.useRef(null),u=x.useRef(null),[c,d]=Vl({prop:r,defaultProp:s??!1,onChange:o,caller:Md});return _.jsx(iO,{scope:e,triggerRef:a,contentRef:u,contentId:za(),titleId:za(),descriptionId:za(),open:c,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};nS.displayName=Md;var rS="DialogTrigger",aO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vn(rS,n),o=ft(e,s.triggerRef);return _.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mg(s.open),...r,ref:o,onClick:ye(t.onClick,s.onOpenToggle)})});aO.displayName=rS;var hg="DialogPortal",[lO,sS]=tS(hg,{forceMount:void 0}),oS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Vn(hg,e);return _.jsx(lO,{scope:e,forceMount:n,children:x.Children.map(r,i=>_.jsx(Ls,{present:n||o.open,children:_.jsx(Gm,{asChild:!0,container:s,children:i})}))})};oS.displayName=hg;var $c="DialogOverlay",iS=x.forwardRef((t,e)=>{const n=sS($c,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Vn($c,t.__scopeDialog);return o.modal?_.jsx(Ls,{present:r||o.open,children:_.jsx(cO,{...s,ref:e})}):null});iS.displayName=$c;var uO=fl("DialogOverlay.RemoveScroll"),cO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vn($c,n);return _.jsx(ZT,{as:uO,allowPinchZoom:!0,shards:[s.contentRef],children:_.jsx(Se.div,{"data-state":mg(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Eo="DialogContent",aS=x.forwardRef((t,e)=>{const n=sS(Eo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Vn(Eo,t.__scopeDialog);return _.jsx(Ls,{present:r||o.open,children:o.modal?_.jsx(dO,{...s,ref:e}):_.jsx(fO,{...s,ref:e})})});aS.displayName=Eo;var dO=x.forwardRef((t,e)=>{const n=Vn(Eo,t.__scopeDialog),r=x.useRef(null),s=ft(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return oO(o)},[]),_.jsx(lS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,o=>o.preventDefault())})}),fO=x.forwardRef((t,e)=>{const n=Vn(Eo,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return _.jsx(lS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),lS=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Vn(Eo,n),u=x.useRef(null),c=ft(e,u);return w4(),_.jsxs(_.Fragment,{children:[_.jsx(HT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:_.jsx(vd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(hO,{titleId:a.titleId}),_.jsx(mO,{contentRef:u,descriptionId:a.descriptionId})]})]})}),pg="DialogTitle",uS=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vn(pg,n);return _.jsx(Se.h2,{id:s.titleId,...r,ref:e})});uS.displayName=pg;var cS="DialogDescription",dS=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vn(cS,n);return _.jsx(Se.p,{id:s.descriptionId,...r,ref:e})});dS.displayName=cS;var fS="DialogClose",hS=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vn(fS,n);return _.jsx(Se.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>s.onOpenChange(!1))})});hS.displayName=fS;function mg(t){return t?"open":"closed"}var pS="DialogTitleWarning",[M3,mS]=dR(pS,{contentName:Eo,titleName:pg,docsSlug:"dialog"}),hO=({titleId:t})=>{const e=mS(pS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pO="DialogDescriptionWarning",mO=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mS(pO).contentName}}.`;return x.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},gO=nS,yO=oS,gS=iS,yS=aS,vS=uS,wS=dS,vO=hS;const wO=gO,_O=yO,_S=x.forwardRef(({className:t,...e},n)=>_.jsx(gS,{ref:n,className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));_S.displayName=gS.displayName;const ES=x.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(_O,{children:[_.jsx(_S,{}),_.jsxs(yS,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,_.jsxs(vO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[_.jsx(ix,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ES.displayName=yS.displayName;const xS=({className:t,...e})=>_.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xS.displayName="DialogHeader";const TS=({className:t,...e})=>_.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});TS.displayName="DialogFooter";const SS=x.forwardRef(({className:t,...e},n)=>_.jsx(vS,{ref:n,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));SS.displayName=vS.displayName;const CS=x.forwardRef(({className:t,...e},n)=>_.jsx(wS,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));CS.displayName=wS.displayName;const Ia=x.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ia.displayName="Input";var EO="Label",bS=x.forwardRef((t,e)=>_.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bS.displayName=EO;var IS=bS;const xO=Ed("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Aa=x.forwardRef(({className:t,...e},n)=>_.jsx(IS,{ref:n,className:fe(xO(),t),...e}));Aa.displayName=IS.displayName;const TO=({menuItems:t,onUpdateItem:e,onDeleteItem:n,onAddItem:r})=>{const[s,o]=x.useState(null),[i,a]=x.useState(!1),[u,c]=x.useState(!1),d=T=>{o({...T}),c(!1),a(!0)},f=()=>{o({id:"",name:"",description:"",price:0,stock:0,visible:!0}),c(!0),a(!0)},m=()=>{if(s){if(!s.name||s.price<=0||s.stock<0){qe.error("Preencha todos os campos corretamente!");return}u?(r({name:s.name,description:s.description,price:s.price,stock:s.stock,visible:s.visible}),qe.success("Item adicionado com sucesso!")):(e(s),qe.success("Item atualizado com sucesso!")),a(!1),o(null),c(!1)}},p=T=>{confirm("Tem certeza que deseja excluir este item?")&&(n(T),qe.success("Item excludo!"))};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h2",{className:"text-3xl font-bold",children:"Gerenciar Cardpio"}),_.jsxs(Nt,{onClick:f,size:"lg",children:[_.jsx(ox,{className:"h-5 w-5 mr-2"}),"Adicionar Item"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(T=>_.jsxs(wr,{className:"border-2 hover:shadow-lg transition-all",children:[_.jsxs(ki,{children:[_.jsx(Ni,{className:"text-xl",children:T.name}),_.jsx(cg,{className:"line-clamp-2",children:T.description})]}),_.jsxs(_r,{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-sm text-muted-foreground",children:"Preo:"}),_.jsxs("span",{className:"text-2xl font-bold text-primary",children:["R$ ",T.price.toFixed(2)]})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-sm text-muted-foreground",children:"Estoque:"}),_.jsxs("span",{className:"text-lg font-semibold",children:[T.stock," unidades"]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(Nt,{variant:T.visible?"outline":"secondary",size:"icon",onClick:()=>e({...T,visible:!T.visible}),title:T.visible?"Ocultar dos pedidos":"Mostrar nos pedidos",children:T.visible?_.jsx(fP,{className:"h-4 w-4"}):_.jsx(dP,{className:"h-4 w-4"})}),_.jsxs(Nt,{variant:"outline",className:"flex-1",onClick:()=>d(T),children:[_.jsx(pP,{className:"h-4 w-4 mr-2"}),"Editar"]}),_.jsx(Nt,{variant:"destructive",size:"icon",onClick:()=>p(T.id),children:_.jsx(yP,{className:"h-4 w-4"})})]})]})]},T.id))}),_.jsx(wO,{open:i,onOpenChange:a,children:_.jsxs(ES,{className:"sm:max-w-[500px]",children:[_.jsxs(xS,{children:[_.jsx(SS,{className:"text-2xl",children:u?"Adicionar Item":"Editar Item"}),_.jsx(CS,{children:u?"Preencha as informaes do novo item do cardpio":"Altere as informaes do item do cardpio"})]}),s&&_.jsxs("div",{className:"space-y-4 py-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(Aa,{htmlFor:"name",children:"Nome"}),_.jsx(Ia,{id:"name",value:s.name,onChange:T=>o({...s,name:T.target.value}),placeholder:"Nome do item"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(Aa,{htmlFor:"description",children:"Descrio"}),_.jsx(Ia,{id:"description",value:s.description,onChange:T=>o({...s,description:T.target.value}),placeholder:"Descrio do item"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(Aa,{htmlFor:"price",children:"Preo (R$)"}),_.jsx(Ia,{id:"price",type:"number",step:"0.01",min:"0",value:s.price,onChange:T=>o({...s,price:parseFloat(T.target.value)||0}),placeholder:"0.00"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(Aa,{htmlFor:"stock",children:"Estoque"}),_.jsx(Ia,{id:"stock",type:"number",min:"0",value:s.stock,onChange:T=>o({...s,stock:parseInt(T.target.value)||0}),placeholder:"0"})]})]})]}),_.jsxs(TS,{children:[_.jsx(Nt,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),_.jsx(Nt,{onClick:m,children:"Salvar Alteraes"})]})]})})]})},SO=()=>{};var qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],u=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;u||(p=64,i||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||f==null)throw new bO;const m=o<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const T=c<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IO=function(t){const e=AS(t);return RS.encodeByteArray(e,!0)},Uc=function(t){return IO(t).replace(/\./g,"")},AO=function(t){try{return RS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=()=>RO().__FIREBASE_DEFAULTS__,kO=()=>{if(typeof process>"u"||typeof qw>"u")return;const t=qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AO(t[1]);return e&&JSON.parse(e)},gg=()=>{try{return SO()||PO()||kO()||NO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DO=t=>{var e,n;return(n=(e=gg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},OO=t=>{const e=DO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PS=()=>{var t;return(t=gg())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uc(JSON.stringify(n)),Uc(JSON.stringify(i)),""].join(".")}const Ha={};function FO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ha))Ha[e]?t.emulator.push(e):t.prod.push(e);return t}function jO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ww=!1;function $O(t,e){if(typeof window>"u"||typeof document>"u"||!yg(window.location.host)||Ha[t]===e||Ha[t]||Ww)return;Ha[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",o=FO().prod.length>0;function i(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Ww=!0,i()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=jO(r),p=n("text"),T=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;a(S),d(E,g);const N=c();u(w,v),S.append(w,T,E,N),document.body.appendChild(S)}o?(T.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BO(){var e;const t=(e=gg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zO(){return!BO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HO(){try{return typeof indexedDB=="object"}catch{return!1}}function qO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="FirebaseError";class qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WO,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kS.prototype.create)}}class kS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?GO(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new qi(s,a,r)}}function GO(t,e){return t.replace(QO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QO=/\{\$([^}]+)}/g;function Bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(Gw(o)&&Gw(i)){if(!Bc(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class yl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XO(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YO(t){return t===Js?void 0:t}function XO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const ZO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},eV=_e.INFO,tV={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},nV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NS{constructor(e){this.name=e,this._logLevel=eV,this._logHandler=nV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const rV=(t,e)=>e.some(n=>t instanceof n);let Qw,Kw;function sV(){return Qw||(Qw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oV(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DS=new WeakMap,Ap=new WeakMap,OS=new WeakMap,oh=new WeakMap,vg=new WeakMap;function iV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(ws(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&DS.set(n,t)}).catch(()=>{}),vg.set(e,t),e}function aV(t){if(Ap.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Ap.set(t,e)}let Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lV(t){Rp=t(Rp)}function uV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ih(this),e,...n);return OS.set(r,e.sort?e.sort():[e]),ws(r)}:oV().includes(t)?function(...e){return t.apply(ih(this),e),ws(DS.get(this))}:function(...e){return ws(t.apply(ih(this),e))}}function cV(t){return typeof t=="function"?uV(t):(t instanceof IDBTransaction&&aV(t),rV(t,sV())?new Proxy(t,Rp):t)}function ws(t){if(t instanceof IDBRequest)return iV(t);if(oh.has(t))return oh.get(t);const e=cV(t);return e!==t&&(oh.set(t,e),vg.set(e,t)),e}const ih=t=>vg.get(t);function dV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=ws(i);return r&&i.addEventListener("upgradeneeded",u=>{r(ws(i.result),u.oldVersion,u.newVersion,ws(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fV=["get","getKey","getAll","getAllKeys","count"],hV=["put","add","delete","clear"],ah=new Map;function Yw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ah.get(e))return ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=hV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fV.includes(n)))return;const o=async function(i,...a){const u=this.transaction(i,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return ah.set(e,o),o}lV(t=>({...t,get:(e,n,r)=>Yw(e,n)||t.get(e,n,r),has:(e,n)=>!!Yw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pp="@firebase/app",Xw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new NS("@firebase/app"),gV="@firebase/app-compat",yV="@firebase/analytics-compat",vV="@firebase/analytics",wV="@firebase/app-check-compat",_V="@firebase/app-check",EV="@firebase/auth",xV="@firebase/auth-compat",TV="@firebase/database",SV="@firebase/data-connect",CV="@firebase/database-compat",bV="@firebase/functions",IV="@firebase/functions-compat",AV="@firebase/installations",RV="@firebase/installations-compat",PV="@firebase/messaging",kV="@firebase/messaging-compat",NV="@firebase/performance",DV="@firebase/performance-compat",OV="@firebase/remote-config",VV="@firebase/remote-config-compat",MV="@firebase/storage",LV="@firebase/storage-compat",FV="@firebase/firestore",jV="@firebase/ai",$V="@firebase/firestore-compat",UV="firebase",BV="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",zV={[Pp]:"fire-core",[gV]:"fire-core-compat",[vV]:"fire-analytics",[yV]:"fire-analytics-compat",[_V]:"fire-app-check",[wV]:"fire-app-check-compat",[EV]:"fire-auth",[xV]:"fire-auth-compat",[TV]:"fire-rtdb",[SV]:"fire-data-connect",[CV]:"fire-rtdb-compat",[bV]:"fire-fn",[IV]:"fire-fn-compat",[AV]:"fire-iid",[RV]:"fire-iid-compat",[PV]:"fire-fcm",[kV]:"fire-fcm-compat",[NV]:"fire-perf",[DV]:"fire-perf-compat",[OV]:"fire-rc",[VV]:"fire-rc-compat",[MV]:"fire-gcs",[LV]:"fire-gcs-compat",[FV]:"fire-fst",[$V]:"fire-fst-compat",[jV]:"fire-vertex","fire-js":"fire-js",[UV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,HV=new Map,Np=new Map;function Jw(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hc(t){const e=t.name;if(Np.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(const n of zc.values())Jw(n,t);for(const n of HV.values())Jw(n,t);return!0}function qV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function WV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new kS("app","Firebase",GV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=BV;function VS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:kp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _s.create("bad-app-name",{appName:String(s)});if(n||(n=PS()),!n)throw _s.create("no-options");const o=zc.get(s);if(o){if(Bc(n,o.options)&&Bc(r,o.config))return o;throw _s.create("duplicate-app",{appName:s})}const i=new JO(s);for(const u of Np.values())i.addComponent(u);const a=new QV(n,r,i);return zc.set(s,a),a}function YV(t=kp){const e=zc.get(t);if(!e&&t===kp&&PS())return VS();if(!e)throw _s.create("no-app",{appName:t});return e}function di(t,e,n){let r=zV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(i.join(" "));return}Hc(new yl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="firebase-heartbeat-database",JV=1,vl="firebase-heartbeat-store";let lh=null;function MS(){return lh||(lh=dV(XV,JV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),lh}async function ZV(t){try{const n=(await MS()).transaction(vl),r=await n.objectStore(vl).get(LS(t));return await n.done,r}catch(e){if(e instanceof qi)Nr.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function Zw(t,e){try{const r=(await MS()).transaction(vl,"readwrite");await r.objectStore(vl).put(e,LS(t)),await r.done}catch(n){if(n instanceof qi)Nr.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function LS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1024,tM=30;class nM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=e0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>tM){const i=oM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e0(),{heartbeatsToSend:r,unsentEntries:s}=rM(this._heartbeatsCache.heartbeats),o=Uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Nr.warn(n),""}}}function e0(){return new Date().toISOString().substring(0,10)}function rM(t,e=eM){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),t0(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),t0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HO()?qO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function t0(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}function oM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){Hc(new yl("platform-logger",e=>new pV(e),"PRIVATE")),Hc(new yl("heartbeat",e=>new nM(e),"PRIVATE")),di(Pp,Xw,t),di(Pp,Xw,"esm2020"),di("fire-js","")}iM("");var aM="firebase",lM="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(aM,lM,"app");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,FS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function A(){}A.prototype=C.prototype,b.F=C.prototype,b.prototype=new A,b.prototype.constructor=b,b.D=function(P,k,O){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return C.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,A){A||(A=0);const P=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)P[k]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(k=0;k<16;++k)P[k]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=b.g[0],A=b.g[1],k=b.g[2];let O=b.g[3],R;R=C+(O^A&(k^O))+P[0]+3614090360&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(k^C&(A^k))+P[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(A^O&(C^A))+P[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(C^k&(O^C))+P[3]+3250441966&4294967295,A=k+(R<<22&4294967295|R>>>10),R=C+(O^A&(k^O))+P[4]+4118548399&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(k^C&(A^k))+P[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(A^O&(C^A))+P[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(C^k&(O^C))+P[7]+4249261313&4294967295,A=k+(R<<22&4294967295|R>>>10),R=C+(O^A&(k^O))+P[8]+1770035416&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(k^C&(A^k))+P[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(A^O&(C^A))+P[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(C^k&(O^C))+P[11]+2304563134&4294967295,A=k+(R<<22&4294967295|R>>>10),R=C+(O^A&(k^O))+P[12]+1804603682&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(k^C&(A^k))+P[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(A^O&(C^A))+P[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(C^k&(O^C))+P[15]+1236535329&4294967295,A=k+(R<<22&4294967295|R>>>10),R=C+(k^O&(A^k))+P[1]+4129170786&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(C^A))+P[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^A&(O^C))+P[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(k^O))+P[0]+3921069994&4294967295,A=k+(R<<20&4294967295|R>>>12),R=C+(k^O&(A^k))+P[5]+3593408605&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(C^A))+P[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^A&(O^C))+P[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(k^O))+P[4]+3889429448&4294967295,A=k+(R<<20&4294967295|R>>>12),R=C+(k^O&(A^k))+P[9]+568446438&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(C^A))+P[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^A&(O^C))+P[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(k^O))+P[8]+1163531501&4294967295,A=k+(R<<20&4294967295|R>>>12),R=C+(k^O&(A^k))+P[13]+2850285829&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(C^A))+P[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^A&(O^C))+P[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(k^O))+P[12]+2368359562&4294967295,A=k+(R<<20&4294967295|R>>>12),R=C+(A^k^O)+P[5]+4294588738&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^k)+P[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^A)+P[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^C)+P[14]+4259657740&4294967295,A=k+(R<<23&4294967295|R>>>9),R=C+(A^k^O)+P[1]+2763975236&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^k)+P[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^A)+P[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^C)+P[10]+3200236656&4294967295,A=k+(R<<23&4294967295|R>>>9),R=C+(A^k^O)+P[13]+681279174&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^k)+P[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^A)+P[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^C)+P[6]+76029189&4294967295,A=k+(R<<23&4294967295|R>>>9),R=C+(A^k^O)+P[9]+3654602809&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^k)+P[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^A)+P[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^C)+P[2]+3299628645&4294967295,A=k+(R<<23&4294967295|R>>>9),R=C+(k^(A|~O))+P[0]+4096336452&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~k))+P[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~A))+P[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~C))+P[5]+4237533241&4294967295,A=k+(R<<21&4294967295|R>>>11),R=C+(k^(A|~O))+P[12]+1700485571&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~k))+P[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~A))+P[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~C))+P[1]+2240044497&4294967295,A=k+(R<<21&4294967295|R>>>11),R=C+(k^(A|~O))+P[8]+1873313359&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~k))+P[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~A))+P[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~C))+P[13]+1309151649&4294967295,A=k+(R<<21&4294967295|R>>>11),R=C+(k^(A|~O))+P[4]+4149444226&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~k))+P[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~A))+P[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~C))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.v=function(b,C){C===void 0&&(C=b.length);const A=C-this.blockSize,P=this.C;let k=this.h,O=0;for(;O<C;){if(k==0)for(;O<=A;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<C;)if(P[k++]=b.charCodeAt(O++),k==this.blockSize){s(this,P),k=0;break}}else for(;O<C;)if(P[k++]=b[O++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=C},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;C=this.o*8;for(var A=b.length-8;A<b.length;++A)b[A]=C&255,C/=256;for(this.v(b),b=Array(16),C=0,A=0;A<4;++A)for(let P=0;P<32;P+=8)b[C++]=this.g[A]>>>P&255;return b};function o(b,C){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=C(b)}function i(b,C){this.h=C;const A=[];let P=!0;for(let k=b.length-1;k>=0;k--){const O=b[k]|0;P&&O==C||(A[k]=O,P=!1)}this.g=A}var a={};function u(b){return-128<=b&&b<128?o(b,function(C){return new i([C|0],C<0?-1:0)}):new i([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return E(c(-b));const C=[];let A=1;for(let P=0;b>=A;P++)C[P]=b/A|0,A*=4294967296;return new i(C,0)}function d(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return E(d(b.substring(1),C));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(C,8));let P=f;for(let O=0;O<b.length;O+=8){var k=Math.min(8,b.length-O);const R=parseInt(b.substring(O,O+k),C);k<8?(k=c(Math.pow(C,k)),P=P.j(k).add(c(R))):(P=P.j(A),P=P.add(c(R)))}return P}var f=u(0),m=u(1),p=u(16777216);t=i.prototype,t.m=function(){if(g(this))return-E(this).m();let b=0,C=1;for(let A=0;A<this.g.length;A++){const P=this.i(A);b+=(P>=0?P:4294967296+P)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(g(this))return"-"+E(this).toString(b);const C=c(Math.pow(b,6));var A=this;let P="";for(;;){const k=N(A,C).g;A=v(A,k.j(C));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(b);if(A=k,T(A))return O+P;for(;O.length<6;)O="0"+O;P=O+P}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(let C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function g(b){return b.h==-1}t.l=function(b){return b=v(this,b),g(b)?-1:T(b)?0:1};function E(b){const C=b.g.length,A=[];for(let P=0;P<C;P++)A[P]=~b.g[P];return new i(A,~b.h).add(m)}t.abs=function(){return g(this)?E(this):this},t.add=function(b){const C=Math.max(this.g.length,b.g.length),A=[];let P=0;for(let k=0;k<=C;k++){let O=P+(this.i(k)&65535)+(b.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);P=R>>>16,O&=65535,R&=65535,A[k]=R<<16|O}return new i(A,A[A.length-1]&-2147483648?-1:0)};function v(b,C){return b.add(E(C))}t.j=function(b){if(T(this)||T(b))return f;if(g(this))return g(b)?E(this).j(E(b)):E(E(this).j(b));if(g(b))return E(this.j(E(b)));if(this.l(p)<0&&b.l(p)<0)return c(this.m()*b.m());const C=this.g.length+b.g.length,A=[];for(var P=0;P<2*C;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<b.g.length;k++){const O=this.i(P)>>>16,R=this.i(P)&65535,H=b.i(k)>>>16,ne=b.i(k)&65535;A[2*P+2*k]+=R*ne,w(A,2*P+2*k),A[2*P+2*k+1]+=O*ne,w(A,2*P+2*k+1),A[2*P+2*k+1]+=R*H,w(A,2*P+2*k+1),A[2*P+2*k+2]+=O*H,w(A,2*P+2*k+2)}for(b=0;b<C;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=C;b<2*C;b++)A[b]=0;return new i(A,0)};function w(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function S(b,C){this.g=b,this.h=C}function N(b,C){if(T(C))throw Error("division by zero");if(T(b))return new S(f,f);if(g(b))return C=N(E(b),C),new S(E(C.g),E(C.h));if(g(C))return C=N(b,E(C)),new S(E(C.g),C.h);if(b.g.length>30){if(g(b)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var A=m,P=C;P.l(b)<=0;)A=D(A),P=D(P);var k=V(A,1),O=V(P,1);for(P=V(P,2),A=V(A,2);!T(P);){var R=O.add(P);R.l(b)<=0&&(k=k.add(A),O=R),P=V(P,1),A=V(A,1)}return C=v(b,k.j(C)),new S(k,C)}for(k=f;b.l(C)>=0;){for(A=Math.max(1,Math.floor(b.m()/C.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),O=c(A),R=O.j(C);g(R)||R.l(b)>0;)A-=P,O=c(A),R=O.j(C);T(O)&&(O=m),k=k.add(O),b=v(b,R)}return new S(k,b)}t.B=function(b){return N(this,b).h},t.and=function(b){const C=Math.max(this.g.length,b.g.length),A=[];for(let P=0;P<C;P++)A[P]=this.i(P)&b.i(P);return new i(A,this.h&b.h)},t.or=function(b){const C=Math.max(this.g.length,b.g.length),A=[];for(let P=0;P<C;P++)A[P]=this.i(P)|b.i(P);return new i(A,this.h|b.h)},t.xor=function(b){const C=Math.max(this.g.length,b.g.length),A=[];for(let P=0;P<C;P++)A[P]=this.i(P)^b.i(P);return new i(A,this.h^b.h)};function D(b){const C=b.g.length+1,A=[];for(let P=0;P<C;P++)A[P]=b.i(P)<<1|b.i(P-1)>>>31;return new i(A,b.h)}function V(b,C){const A=C>>5;C%=32;const P=b.g.length-A,k=[];for(let O=0;O<P;O++)k[O]=C>0?b.i(O+A)>>>C|b.i(O+A+1)<<32-C:b.i(O+A);return new i(k,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FS=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=d,Es=i}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jS,Ra,$S,rc,Dp,US,BS,zS;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var h=0;h<l.length;++h){var y=l[h];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var y=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var M=l[I];if(!(M in y))break e;y=y[M]}l=l[l.length-1],I=y[l],h=h(I),h!=I&&h!=null&&e(y,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var y=[],I;for(I in h)Object.prototype.hasOwnProperty.call(h,I)&&y.push([I,h[I]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},i=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,y){return l.call.apply(l.bind,arguments)}function c(l,h,y){return c=u,c.apply(null,arguments)}function d(l,h){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function f(l,h){function y(){}y.prototype=h.prototype,l.Z=h.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(I,M,L){for(var W=Array(arguments.length-2),de=2;de<arguments.length;de++)W[de-2]=arguments[de];return h.prototype[M].apply(I,W)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function p(l){const h=l.length;if(h>0){const y=Array(h);for(let I=0;I<h;I++)y[I]=l[I];return y}return[]}function T(l,h){for(let I=1;I<arguments.length;I++){const M=arguments[I];var y=typeof M;if(y=y!="object"?y:M?Array.isArray(M)?"array":y:"null",y=="array"||y=="object"&&typeof M.length=="number"){y=l.length||0;const L=M.length||0;l.length=y+L;for(let W=0;W<L;W++)l[y+W]=M[W]}else l.push(M)}}class g{constructor(h,y){this.i=h,this.j=y,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(l){i.setTimeout(()=>{throw l},0)}function v(){var l=b;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class w{constructor(){this.h=this.g=null}add(h,y){const I=S.get();I.set(h,y),this.h?this.h.next=I:this.g=I,this.h=I}}var S=new g(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(h,y){this.h=h,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let D,V=!1,b=new w,C=()=>{const l=Promise.resolve(void 0);D=()=>{l.then(A)}};function A(){for(var l;l=v();){try{l.h.call(l.g)}catch(y){E(y)}var h=S;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}V=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};i.addEventListener("test",y,h),i.removeEventListener("test",y,h)}catch{}return l}();function R(l){return/^[\s\xa0]*$/.test(l)}function H(l,h){k.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(H,k),H.prototype.init=function(l,h){const y=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(y=="mouseover"?h=l.fromElement:y=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),X=0;function ie(l,h,y,I,M){this.listener=l,this.proxy=null,this.src=h,this.type=y,this.capture=!!I,this.ha=M,this.key=++X,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function B(l,h,y){for(const I in l)h.call(y,l[I],I,l)}function Q(l,h){for(const y in l)h.call(void 0,l[y],y,l)}function se(l){const h={};for(const y in l)h[y]=l[y];return h}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(l,h){let y,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(y in I)l[y]=I[y];for(let L=0;L<J.length;L++)y=J[L],Object.prototype.hasOwnProperty.call(I,y)&&(l[y]=I[y])}}function le(l){this.src=l,this.g={},this.h=0}le.prototype.add=function(l,h,y,I,M){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const W=Qe(l,h,I,M);return W>-1?(h=l[W],y||(h.fa=!1)):(h=new ie(h,this.src,L,!!I,M),h.fa=y,l.push(h)),h};function Ve(l,h){const y=h.type;if(y in l.g){var I=l.g[y],M=Array.prototype.indexOf.call(I,h,void 0),L;(L=M>=0)&&Array.prototype.splice.call(I,M,1),L&&(j(h),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Qe(l,h,y,I){for(let M=0;M<l.length;++M){const L=l[M];if(!L.da&&L.listener==h&&L.capture==!!y&&L.ha==I)return M}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Mn={};function yn(l,h,y,I,M){if(Array.isArray(h)){for(let L=0;L<h.length;L++)yn(l,h[L],y,I,M);return null}return y=Lr(y),l&&l[ne]?l.J(h,y,a(I)?!!I.capture:!1,M):cr(l,h,y,!1,I,M)}function cr(l,h,y,I,M,L){if(!h)throw Error("Invalid event type");const W=a(M)?!!M.capture:!!M;let de=Mr(l);if(de||(l[ve]=de=new le(l)),y=de.add(h,y,I,W,L),y.proxy)return y;if(I=Ln(),y.proxy=I,I.src=l,I.listener=y,l.addEventListener)O||(M=W),M===void 0&&(M=!1),l.addEventListener(h.toString(),I,M);else if(l.attachEvent)l.attachEvent($s(h.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ln(){function l(y){return h.call(l.src,l.listener,y)}const h=Xi;return l}function dr(l,h,y,I,M){if(Array.isArray(h))for(var L=0;L<h.length;L++)dr(l,h[L],y,I,M);else I=a(I)?!!I.capture:!!I,y=Lr(y),l&&l[ne]?(l=l.i,L=String(h).toString(),L in l.g&&(h=l.g[L],y=Qe(h,y,I,M),y>-1&&(j(h[y]),Array.prototype.splice.call(h,y,1),h.length==0&&(delete l.g[L],l.h--)))):l&&(l=Mr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Qe(h,y,I,M)),(y=l>-1?h[l]:null)&&on(y))}function on(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ne])Ve(h.i,l);else{var y=l.type,I=l.proxy;h.removeEventListener?h.removeEventListener(y,I,l.capture):h.detachEvent?h.detachEvent($s(y),I):h.addListener&&h.removeListener&&h.removeListener(I),(y=Mr(h))?(Ve(y,l),y.h==0&&(y.src=null,h[ve]=null)):j(l)}}}function $s(l){return l in Mn?Mn[l]:Mn[l]="on"+l}function Xi(l,h){if(l.da)l=!0;else{h=new H(h,this);const y=l.listener,I=l.ha||l.src;l.fa&&on(l),l=y.call(I,h)}return l}function Mr(l){return l=l[ve],l instanceof le?l:null}var Us="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(l){return typeof l=="function"?l:(l[Us]||(l[Us]=function(h){return l.handleEvent(h)}),l[Us])}function Le(){P.call(this),this.i=new le(this),this.M=this,this.G=null}f(Le,P),Le.prototype[ne]=!0,Le.prototype.removeEventListener=function(l,h,y,I){dr(this,l,h,y,I)};function ot(l,h){var y,I=l.G;if(I)for(y=[];I;I=I.G)y.push(I);if(l=l.M,I=h.type||h,typeof h=="string")h=new k(h,l);else if(h instanceof k)h.target=h.target||l;else{var M=h;h=new k(I,l),ce(h,M)}M=!0;let L,W;if(y)for(W=y.length-1;W>=0;W--)L=h.g=y[W],M=Fn(L,I,!0,h)&&M;if(L=h.g=l,M=Fn(L,I,!0,h)&&M,M=Fn(L,I,!1,h)&&M,y)for(W=0;W<y.length;W++)L=h.g=y[W],M=Fn(L,I,!1,h)&&M}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const y=l.g[h];for(let I=0;I<y.length;I++)j(y[I]);delete l.g[h],l.h--}}this.G=null},Le.prototype.J=function(l,h,y,I){return this.i.add(String(l),h,!1,y,I)},Le.prototype.K=function(l,h,y,I){return this.i.add(String(l),h,!0,y,I)};function Fn(l,h,y,I){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let L=0;L<h.length;++L){const W=h[L];if(W&&!W.da&&W.capture==y){const de=W.listener,tt=W.ha||W.src;W.fa&&Ve(l.i,W),M=de.call(tt,I)!==!1&&M}}return M&&!I.defaultPrevented}function Wl(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:i.setTimeout(l,h||0)}function jn(l){l.g=Wl(()=>{l.g=null,l.i&&(l.i=!1,jn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class ef extends P{constructor(h,y){super(),this.m=h,this.l=y,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(l){P.call(this),this.h=l,this.g={}}f(Bs,P);var At=[];function fr(l){B(l.g,function(h,y){this.g.hasOwnProperty(y)&&on(h)},l),l.g={}}Bs.prototype.N=function(){Bs.Z.N.call(this),fr(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=i.JSON.stringify,tf=i.JSON.parse,Po=class{stringify(l){return i.JSON.stringify(l,void 0)}parse(l){return i.JSON.parse(l,void 0)}};function Gl(){}function Zi(){}var hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $n(){k.call(this,"d")}f($n,k);function ko(){k.call(this,"c")}f(ko,k);var Mt={},Ql=null;function No(){return Ql=Ql||new Le}Mt.Ia="serverreachability";function ea(l){k.call(this,Mt.Ia,l)}f(ea,k);function Fr(l){const h=No();ot(h,new ea(h))}Mt.STAT_EVENT="statevent";function Kl(l,h){k.call(this,Mt.STAT_EVENT,l),this.stat=h}f(Kl,k);function et(l){const h=No();ot(h,new Kl(h,l))}Mt.Ja="timingevent";function vn(l,h){k.call(this,Mt.Ja,l),this.size=h}f(vn,k);function zs(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){l()},h)}function ee(){this.g=!0}ee.prototype.ua=function(){this.g=!1};function xe(l,h,y,I,M,L){l.info(function(){if(l.g)if(L){var W="",de=L.split("&");for(let be=0;be<de.length;be++){var tt=de[be].split("=");if(tt.length>1){const at=tt[0];tt=tt[1];const zn=at.split("_");W=zn.length>=2&&zn[1]=="type"?W+(at+"="+tt+"&"):W+(at+"=redacted&")}}}else W=null;else W=L;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+h+`
`+y+`
`+W})}function Ie(l,h,y,I,M,L,W){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+h+`
`+y+`
`+L+" "+W})}function it(l,h,y,I){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Un(l,y)+(I?" "+I:"")})}function Qt(l,h){l.info(function(){return"TIMEOUT: "+h})}ee.prototype.info=function(){};function Un(l,h){if(!l.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var y=L[l];if(!(y.length<2)){var I=y[1];if(Array.isArray(I)&&!(I.length<1)){var M=I[0];if(M!="noop"&&M!="stop"&&M!="close")for(let W=1;W<I.length;W++)I[W]=""}}}}return Ji(L)}catch{return h}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wn;function nf(){}f(nf,Gl),nf.prototype.g=function(){return new XMLHttpRequest},wn=new nf;function ta(l){return encodeURIComponent(String(l))}function mb(l){var h=1;l=l.split(":");const y=[];for(;h>0&&l.length;)y.push(l.shift()),h--;return l.length&&y.push(l.join(":")),y}function jr(l,h,y,I){this.j=l,this.i=h,this.l=y,this.S=I||1,this.V=new Bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}var ty={},rf={};function sf(l,h,y){l.M=1,l.A=Xl(Bn(h)),l.u=y,l.R=!0,ny(l,null)}function ny(l,h){l.F=Date.now(),Yl(l),l.B=Bn(l.A);var y=l.B,I=l.S;Array.isArray(I)||(I=[String(I)]),my(y.i,"t",I),l.C=0,y=l.j.L,l.h=new ey,l.g=Dy(l.j,y?h:null,!l.u),l.P>0&&(l.O=new ef(c(l.Y,l,l.g),l.P)),h=l.V,y=l.g,I=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(At[0]=M.toString()),M=At);for(let L=0;L<M.length;L++){const W=yn(y,M[L],I||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=l.J?se(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Fr(),xe(l.i,l.v,l.B,l.l,l.S,l.u)}jr.prototype.ba=function(l){l=l.target;const h=this.O;h&&Br(l)==3?h.j():this.Y(l)},jr.prototype.Y=function(l){try{if(l==this.g)e:{const de=Br(this.g),tt=this.g.ya(),be=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||xy(this.g)))){this.K||de!=4||tt==7||(tt==8||be<=0?Fr(3):Fr(2)),of(this);var h=this.g.ca();this.X=h;var y=gb(this);if(this.o=h==200,Ie(this.i,this.v,this.B,this.l,this.S,de,h),this.o){if(this.U&&!this.L){t:{if(this.g){var I,M=this.g;if((I=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var L=I;break t}}L=null}if(l=L)it(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,af(this,l);else{this.o=!1,this.m=3,et(12),Hs(this),na(this);break e}}if(this.R){l=!0;let at;for(;!this.K&&this.C<y.length;)if(at=yb(this,y),at==rf){de==4&&(this.m=4,et(14),l=!1),it(this.i,this.l,null,"[Incomplete Response]");break}else if(at==ty){this.m=4,et(15),it(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else it(this.i,this.l,at,null),af(this,at);if(ry(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||y.length!=0||this.h.h||(this.m=1,et(16),l=!1),this.o=this.o&&l,!l)it(this.i,this.l,y,"[Invalid Chunked Response]"),Hs(this),na(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),mf(W),W.P=!0,et(11))}}else it(this.i,this.l,y,null),af(this,y);de==4&&Hs(this),this.o&&!this.K&&(de==4?Ry(this.j,this):(this.o=!1,Yl(this)))}else kb(this.g),h==400&&y.indexOf("Unknown SID")>0?(this.m=3,et(12)):(this.m=0,et(13)),Hs(this),na(this)}}}catch{}finally{}};function gb(l){if(!ry(l))return l.g.la();const h=xy(l.g);if(h==="")return"";let y="";const I=h.length,M=Br(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Hs(l),na(l),"";l.h.i=new i.TextDecoder}for(let L=0;L<I;L++)l.h.h=!0,y+=l.h.i.decode(h[L],{stream:!(M&&L==I-1)});return h.length=0,l.h.g+=y,l.C=0,l.h.g}function ry(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function yb(l,h){var y=l.C,I=h.indexOf(`
`,y);return I==-1?rf:(y=Number(h.substring(y,I)),isNaN(y)?ty:(I+=1,I+y>h.length?rf:(h=h.slice(I,I+y),l.C=I+y,h)))}jr.prototype.cancel=function(){this.K=!0,Hs(this)};function Yl(l){l.T=Date.now()+l.H,sy(l,l.H)}function sy(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=zs(c(l.aa,l),h)}function of(l){l.D&&(i.clearTimeout(l.D),l.D=null)}jr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Qt(this.i,this.B),this.M!=2&&(Fr(),et(17)),Hs(this),this.m=2,na(this)):sy(this,this.T-l)};function na(l){l.j.I==0||l.K||Ry(l.j,l)}function Hs(l){of(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,fr(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function af(l,h){try{var y=l.j;if(y.I!=0&&(y.g==l||lf(y.h,l))){if(!l.L&&lf(y.h,l)&&y.I==3){try{var I=y.Ba.g.parse(h)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)nu(y),eu(y);else break e;pf(y),et(18)}}else y.xa=M[1],0<y.xa-y.K&&M[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=zs(c(y.Va,y),6e3));ay(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ws(y,11)}else if((l.L||y.g==l)&&nu(y),!R(h))for(M=y.Ba.g.parse(h),h=0;h<M.length;h++){let be=M[h];const at=be[0];if(!(at<=y.K))if(y.K=at,be=be[1],y.I==2)if(be[0]=="c"){y.M=be[1],y.ba=be[2];const zn=be[3];zn!=null&&(y.ka=zn,y.j.info("VER="+y.ka));const Gs=be[4];Gs!=null&&(y.za=Gs,y.j.info("SVER="+y.za));const zr=be[5];zr!=null&&typeof zr=="number"&&zr>0&&(I=1.5*zr,y.O=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const Hr=l.g;if(Hr){const su=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(su){var L=I.h;L.g||su.indexOf("spdy")==-1&&su.indexOf("quic")==-1&&su.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(uf(L,L.h),L.h=null))}if(I.G){const gf=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;gf&&(I.wa=gf,ke(I.J,I.G,gf))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),I=y;var W=l;if(I.na=Ny(I,I.L?I.ba:null,I.W),W.L){ly(I.h,W);var de=W,tt=I.O;tt&&(de.H=tt),de.D&&(of(de),Yl(de)),I.g=W}else Iy(I);y.i.length>0&&tu(y)}else be[0]!="stop"&&be[0]!="close"||Ws(y,7);else y.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Ws(y,7):hf(y):be[0]!="noop"&&y.l&&y.l.qa(be),y.A=0)}}Fr(4)}catch{}}var vb=class{constructor(l,h){this.g=l,this.map=h}};function oy(l){this.l=l||10,i.PerformanceNavigationTiming?(l=i.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function iy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ay(l){return l.h?1:l.g?l.g.size:0}function lf(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function uf(l,h){l.g?l.g.add(h):l.h=h}function ly(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}oy.prototype.cancel=function(){if(this.i=uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function uy(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const y of l.g.values())h=h.concat(y.G);return h}return p(l.i)}var cy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wb(l,h){if(l){l=l.split("&");for(let y=0;y<l.length;y++){const I=l[y].indexOf("=");let M,L=null;I>=0?(M=l[y].substring(0,I),L=l[y].substring(I+1)):M=l[y],h(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function $r(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof $r?(this.l=l.l,ra(this,l.j),this.o=l.o,this.g=l.g,sa(this,l.u),this.h=l.h,cf(this,gy(l.i)),this.m=l.m):l&&(h=String(l).match(cy))?(this.l=!1,ra(this,h[1]||"",!0),this.o=oa(h[2]||""),this.g=oa(h[3]||"",!0),sa(this,h[4]),this.h=oa(h[5]||"",!0),cf(this,h[6]||"",!0),this.m=oa(h[7]||"")):(this.l=!1,this.i=new aa(null,this.l))}$r.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(ia(h,dy,!0),":");var y=this.g;return(y||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ia(h,dy,!0),"@"),l.push(ta(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(ia(y,y.charAt(0)=="/"?xb:Eb,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",ia(y,Sb)),l.join("")},$r.prototype.resolve=function(l){const h=Bn(this);let y=!!l.j;y?ra(h,l.j):y=!!l.o,y?h.o=l.o:y=!!l.g,y?h.g=l.g:y=l.u!=null;var I=l.h;if(y)sa(h,l.u);else if(y=!!l.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var M=h.h.lastIndexOf("/");M!=-1&&(I=h.h.slice(0,M+1)+I)}if(M=I,M==".."||M==".")I="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){I=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let W=0;W<M.length;){const de=M[W++];de=="."?I&&W==M.length&&L.push(""):de==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),I&&W==M.length&&L.push("")):(L.push(de),I=!0)}I=L.join("/")}else I=M}return y?h.h=I:y=l.i.toString()!=="",y?cf(h,gy(l.i)):y=!!l.m,y&&(h.m=l.m),h};function Bn(l){return new $r(l)}function ra(l,h,y){l.j=y?oa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function sa(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function cf(l,h,y){h instanceof aa?(l.i=h,Cb(l.i,l.l)):(y||(h=ia(h,Tb)),l.i=new aa(h,l.l))}function ke(l,h,y){l.i.set(h,y)}function Xl(l){return ke(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function oa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ia(l,h,y){return typeof l=="string"?(l=encodeURI(l).replace(h,_b),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _b(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var dy=/[#\/\?@]/g,Eb=/[#\?:]/g,xb=/[#\?]/g,Tb=/[#\?@]/g,Sb=/#/g;function aa(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function qs(l){l.g||(l.g=new Map,l.h=0,l.i&&wb(l.i,function(h,y){l.add(decodeURIComponent(h.replace(/\+/g," ")),y)}))}t=aa.prototype,t.add=function(l,h){qs(this),this.i=null,l=Do(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(h),this.h+=1,this};function fy(l,h){qs(l),h=Do(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function hy(l,h){return qs(l),h=Do(l,h),l.g.has(h)}t.forEach=function(l,h){qs(this),this.g.forEach(function(y,I){y.forEach(function(M){l.call(h,M,I,this)},this)},this)};function py(l,h){qs(l);let y=[];if(typeof h=="string")hy(l,h)&&(y=y.concat(l.g.get(Do(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)y=y.concat(l[h]);return y}t.set=function(l,h){return qs(this),this.i=null,l=Do(this,l),hy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=py(this,l),l.length>0?String(l[0]):h):h};function my(l,h,y){fy(l,h),y.length>0&&(l.i=null,l.g.set(Do(l,h),p(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let I=0;I<h.length;I++){var y=h[I];const M=ta(y);y=py(this,y);for(let L=0;L<y.length;L++){let W=M;y[L]!==""&&(W+="="+ta(y[L])),l.push(W)}}return this.i=l.join("&")};function gy(l){const h=new aa;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Do(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Cb(l,h){h&&!l.j&&(qs(l),l.i=null,l.g.forEach(function(y,I){const M=I.toLowerCase();I!=M&&(fy(this,I),my(this,M,y))},l)),l.j=h}function bb(l,h){const y=new ee;if(i.Image){const I=new Image;I.onload=d(Ur,y,"TestLoadImage: loaded",!0,h,I),I.onerror=d(Ur,y,"TestLoadImage: error",!1,h,I),I.onabort=d(Ur,y,"TestLoadImage: abort",!1,h,I),I.ontimeout=d(Ur,y,"TestLoadImage: timeout",!1,h,I),i.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else h(!1)}function Ib(l,h){const y=new ee,I=new AbortController,M=setTimeout(()=>{I.abort(),Ur(y,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:I.signal}).then(L=>{clearTimeout(M),L.ok?Ur(y,"TestPingServer: ok",!0,h):Ur(y,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Ur(y,"TestPingServer: error",!1,h)})}function Ur(l,h,y,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(y)}catch{}}function Ab(){this.g=new Po}function df(l){this.i=l.Sb||null,this.h=l.ab||!1}f(df,Gl),df.prototype.g=function(){return new Jl(this.i,this.h)};function Jl(l,h){Le.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Jl,Le),t=Jl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,ua(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||i).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yy(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function yy(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?la(this):ua(this),this.readyState==3&&yy(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,la(this))},t.Na=function(l){this.g&&(this.response=l,la(this))},t.ga=function(){this.g&&la(this)};function la(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ua(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var y=h.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=h.next();return l.join(`\r
`)};function ua(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function vy(l){let h="";return B(l,function(y,I){h+=I,h+=":",h+=y,h+=`\r
`}),h}function ff(l,h,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=vy(y),typeof l=="string"?y!=null&&ta(y):ke(l,h,y))}function Be(l){Le.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Be,Le);var Rb=/^https?$/i,Pb=["POST","PUT"];t=Be.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wn.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){wy(this,L);return}if(l=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)y.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())y.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),M=i.FormData&&l instanceof i.FormData,!(Array.prototype.indexOf.call(Pb,h,void 0)>=0)||I||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of y)this.g.setRequestHeader(L,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){wy(this,L)}};function wy(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,_y(l),Zl(l)}function _y(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ot(this,"complete"),ot(this,"abort"),Zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zl(this,!0)),Be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ey(this):this.Xa())},t.Xa=function(){Ey(this)};function Ey(l){if(l.h&&typeof o<"u"){if(l.v&&Br(l)==4)setTimeout(l.Ca.bind(l),0);else if(ot(l,"readystatechange"),Br(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var y;if(!(y=h)){var I;if(I=L===0){let W=String(l.D).match(cy)[1]||null;!W&&i.self&&i.self.location&&(W=i.self.location.protocol.slice(0,-1)),I=!Rb.test(W?W.toLowerCase():"")}y=I}if(y)ot(l,"complete"),ot(l,"success");else{l.o=6;try{var M=Br(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",_y(l)}}finally{Zl(l)}}}}function Zl(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const y=l.g;l.g=null,h||ot(l,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Br(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Br(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),tf(h)}};function xy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function kb(l){const h={};l=(l.g&&Br(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(R(l[I]))continue;var y=mb(l[I]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=h[M]||[];h[M]=L,L.push(y)}Q(h,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(l,h,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||h}function Ty(l){this.za=0,this.i=[],this.j=new ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ca("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ca("baseRetryDelayMs",5e3,l),this.Za=ca("retryDelaySeedMs",1e4,l),this.Ta=ca("forwardChannelMaxRetries",2,l),this.va=ca("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new oy(l&&l.concurrentRequestLimit),this.Ba=new Ab,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ty.prototype,t.ka=8,t.I=1,t.connect=function(l,h,y,I){et(0),this.W=l,this.H=h||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.J=Ny(this,null,this.W),tu(this)};function hf(l){if(Sy(l),l.I==3){var h=l.V++,y=Bn(l.J);if(ke(y,"SID",l.M),ke(y,"RID",h),ke(y,"TYPE","terminate"),da(l,y),h=new jr(l,l.j,h),h.M=2,h.A=Xl(Bn(y)),y=!1,i.navigator&&i.navigator.sendBeacon)try{y=i.navigator.sendBeacon(h.A.toString(),"")}catch{}!y&&i.Image&&(new Image().src=h.A,y=!0),y||(h.g=Dy(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Yl(h)}ky(l)}function eu(l){l.g&&(mf(l),l.g.cancel(),l.g=null)}function Sy(l){eu(l),l.v&&(i.clearTimeout(l.v),l.v=null),nu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&i.clearTimeout(l.m),l.m=null)}function tu(l){if(!iy(l.h)&&!l.m){l.m=!0;var h=l.Ea;D||C(),V||(D(),V=!0),b.add(h,l),l.D=0}}function Nb(l,h){return ay(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=zs(c(l.Ea,l,h),Py(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new jr(this,this.j,l);let L=this.o;if(this.U&&(L?(L=se(L),ce(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var h=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(h+=I,h>4096){h=y;break e}if(h===4096||y===this.i.length-1){h=y+1;break e}}h=1e3}else h=1e3;h=by(this,M,h),y=Bn(this.J),ke(y,"RID",l),ke(y,"CVER",22),this.G&&ke(y,"X-HTTP-Session-Id",this.G),da(this,y),L&&(this.R?h="headers="+ta(vy(L))+"&"+h:this.u&&ff(y,this.u,L)),uf(this.h,M),this.Ra&&ke(y,"TYPE","init"),this.S?(ke(y,"$req",h),ke(y,"SID","null"),M.U=!0,sf(M,y,null)):sf(M,y,h),this.I=2}}else this.I==3&&(l?Cy(this,l):this.i.length==0||iy(this.h)||Cy(this))};function Cy(l,h){var y;h?y=h.l:y=l.V++;const I=Bn(l.J);ke(I,"SID",l.M),ke(I,"RID",y),ke(I,"AID",l.K),da(l,I),l.u&&l.o&&ff(I,l.u,l.o),y=new jr(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),h&&(l.i=h.G.concat(l.i)),h=by(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),uf(l.h,y),sf(y,I,h)}function da(l,h){l.H&&B(l.H,function(y,I){ke(h,I,y)}),l.l&&B({},function(y,I){ke(h,I,y)})}function by(l,h,y){y=Math.min(l.i.length,y);const I=l.l?c(l.l.Ka,l.l,l):null;e:{var M=l.i;let de=-1;for(;;){const tt=["count="+y];de==-1?y>0?(de=M[0].g,tt.push("ofs="+de)):de=0:tt.push("ofs="+de);let be=!0;for(let at=0;at<y;at++){var L=M[at].g;const zn=M[at].map;if(L-=de,L<0)de=Math.max(0,M[at].g-100),be=!1;else try{L="req"+L+"_"||"";try{var W=zn instanceof Map?zn:Object.entries(zn);for(const[Gs,zr]of W){let Hr=zr;a(zr)&&(Hr=Ji(zr)),tt.push(L+Gs+"="+encodeURIComponent(Hr))}}catch(Gs){throw tt.push(L+"type="+encodeURIComponent("_badmap")),Gs}}catch{I&&I(zn)}}if(be){W=tt.join("&");break e}}W=void 0}return l=l.i.splice(0,y),h.G=l,W}function Iy(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;D||C(),V||(D(),V=!0),b.add(h,l),l.A=0}}function pf(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=zs(c(l.Da,l),Py(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Ay(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=zs(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,et(10),eu(this),Ay(this))};function mf(l){l.B!=null&&(i.clearTimeout(l.B),l.B=null)}function Ay(l){l.g=new jr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Bn(l.na);ke(h,"RID","rpc"),ke(h,"SID",l.M),ke(h,"AID",l.K),ke(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&ke(h,"TO",l.ia),ke(h,"TYPE","xmlhttp"),da(l,h),l.u&&l.o&&ff(h,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=Xl(Bn(h)),y.u=null,y.R=!0,ny(y,l)}t.Va=function(){this.C!=null&&(this.C=null,eu(this),pf(this),et(19))};function nu(l){l.C!=null&&(i.clearTimeout(l.C),l.C=null)}function Ry(l,h){var y=null;if(l.g==h){nu(l),mf(l),l.g=null;var I=2}else if(lf(l.h,h))y=h.G,ly(l.h,h),I=1;else return;if(l.I!=0){if(h.o)if(I==1){y=h.u?h.u.length:0,h=Date.now()-h.F;var M=l.D;I=No(),ot(I,new vn(I,y)),tu(l)}else Iy(l);else if(M=h.m,M==3||M==0&&h.X>0||!(I==1&&Nb(l,h)||I==2&&pf(l)))switch(y&&y.length>0&&(h=l.h,h.i=h.i.concat(y)),M){case 1:Ws(l,5);break;case 4:Ws(l,10);break;case 3:Ws(l,6);break;default:Ws(l,2)}}}function Py(l,h){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*h}function Ws(l,h){if(l.j.info("Error code "+h),h==2){var y=c(l.bb,l),I=l.Ua;const M=!I;I=new $r(I||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||ra(I,"https"),Xl(I),M?bb(I.toString(),y):Ib(I.toString(),y)}else et(2);l.I=0,l.l&&l.l.pa(h),ky(l),Sy(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function ky(l){if(l.I=0,l.ja=[],l.l){const h=uy(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ja,h),T(l.ja,l.i),l.h.i.length=0,p(l.i),l.i.length=0),l.l.oa()}}function Ny(l,h,y){var I=y instanceof $r?Bn(y):new $r(y);if(I.g!="")h&&(I.g=h+"."+I.g),sa(I,I.u);else{var M=i.location;I=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const L=new $r(null);I&&ra(L,I),h&&(L.g=h),M&&sa(L,M),y&&(L.h=y),I=L}return y=l.G,h=l.wa,y&&h&&ke(I,y,h),ke(I,"VER",l.ka),da(l,I),I}function Dy(l,h,y){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Be(new df({ab:y})):new Be(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oy(){}t=Oy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ru(){}ru.prototype.g=function(l,h){return new Kt(l,h)};function Kt(l,h){Le.call(this),this.g=new Ty(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!R(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Oo(this)}f(Kt,Le),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){hf(this.g)},Kt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=Ji(l),l=y);h.i.push(new vb(h.Ya++,l)),h.I==3&&tu(h)},Kt.prototype.N=function(){this.g.l=null,delete this.j,hf(this.g),delete this.g,Kt.Z.N.call(this)};function Vy(l){$n.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const y in h){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(Vy,$n);function My(){ko.call(this),this.status=1}f(My,ko);function Oo(l){this.g=l}f(Oo,Oy),Oo.prototype.ra=function(){ot(this.g,"a")},Oo.prototype.qa=function(l){ot(this.g,new Vy(l))},Oo.prototype.pa=function(l){ot(this.g,new My)},Oo.prototype.oa=function(){ot(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,zS=function(){return new ru},BS=function(){return No()},US=Mt,Dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,rc=an,Lt.COMPLETE="complete",$S=Lt,Zi.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",Le.prototype.listen=Le.prototype.J,Ra=Zi,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,jS=Be}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",s0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new NS("@firebase/firestore");function jo(){return xo.logLevel}function K(t,...e){if(xo.logLevel<=_e.DEBUG){const n=e.map(wg);xo.debug(`Firestore (${Wi}): ${t}`,...n)}}function Dr(t,...e){if(xo.logLevel<=_e.ERROR){const n=e.map(wg);xo.error(`Firestore (${Wi}): ${t}`,...n)}}function Di(t,...e){if(xo.logLevel<=_e.WARN){const n=e.map(wg);xo.warn(`Firestore (${Wi}): ${t}`,...n)}}function wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HS(t,r,n)}function HS(t,e,n){let r=`FIRESTORE (${Wi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||HS(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dM{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ho,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ho)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new qS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class fM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,WV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,K("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new o0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mM(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Op(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return uh(s)===uh(o)?pe(s,o):uh(s)?1:-1}return pe(t.length,e.length)}const gM=55296,yM=57343;function uh(t){const e=t.charCodeAt(0);return e>=gM&&e<=yM}function Oi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class Gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Gn.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return pe(e.length,n.length)}static compareSegments(e,n){const r=Gn.isNumericId(e),s=Gn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Gn.extractNumericId(e).compare(Gn.extractNumericId(n)):Op(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class Ae extends Gn{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const vM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Gn{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return vM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new gt([i0])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new G($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new G($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ae.fromString(e))}static fromName(e){return new Z(Ae.fromString(e).popFirst(5))}static empty(){return new Z(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e,n){if(!n)throw new G($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wM(t,e,n,r){if(e===!0&&r===!0)throw new G($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a0(t){if(!Z.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l0(t){if(Z.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(t);throw new G($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function jl(t,e){if(!GS(t))throw new G($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new G($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c0);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u0)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jl(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Je("string",Re._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Re(0,0))}static max(){return new oe(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function _M(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Is(s,Z.empty(),e)}function EM(t){return new Is(t.readTime,t.key,wl)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(oe.min(),Z.empty(),wl)}static max(){return new Is(oe.max(),Z.empty(),wl)}}function xM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gi(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==TM)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},u=>r(u))}),i=!0,o===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{i[c]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function CM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=-1;function jd(t){return t==null}function qc(t){return t===0&&1/t==-1/0}function bM(t){return typeof t=="number"&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="";function IM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=d0(e)),e=AM(t.get(n),e);return d0(e)}function AM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case QS:n+="";break;default:n+=o}}return n}function d0(t){return t+QS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??mt.RED,this.left=s??mt.EMPTY,this.right=o??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new mt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new st(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YS("Invalid base64 string: "+o):o}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=RM.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="server_timestamp",JS="__type__",ZS="__previous_value__",eC="__local_write_time__";function xg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JS])==null?void 0:r.stringValue)===XS}function $d(t){const e=t.mapValue.fields[ZS];return xg(e)?$d(e):e}function _l(t){const e=As(t.mapValue.fields[eC].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,s,o,i,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Wc="(default)";class El{constructor(e,n){this.projectId=e,this.database=n||Wc}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__type__",kM="__max__",Ou={mapValue:{}},nC="__vector__",Gc="value";function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xg(t)?4:DM(t)?9007199254740991:NM(t)?10:11:te(28295,{value:t})}function lr(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _l(t).isEqual(_l(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=As(s.timestampValue),a=As(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Rs(s.bytesValue).isEqual(Rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return We(s.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return We(s.integerValue)===We(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=We(s.doubleValue),a=We(o.doubleValue);return i===a?qc(i)===qc(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return Oi(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(f0(i)!==f0(a))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(a[u]===void 0||!lr(i[u],a[u])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function xl(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Vi(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=We(o.integerValue||o.doubleValue),u=We(i.integerValue||i.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return p0(t.timestampValue,e.timestampValue);case 4:return p0(_l(t),_l(e));case 5:return Op(t.stringValue,e.stringValue);case 6:return function(o,i){const a=Rs(o),u=Rs(i);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),u=i.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=pe(a[c],u[c]);if(d!==0)return d}return pe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=pe(We(o.latitude),We(i.latitude));return a!==0?a:pe(We(o.longitude),We(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m0(t.arrayValue,e.arrayValue);case 10:return function(o,i){var m,p,T,g;const a=o.fields||{},u=i.fields||{},c=(m=a[Gc])==null?void 0:m.arrayValue,d=(p=u[Gc])==null?void 0:p.arrayValue,f=pe(((T=c==null?void 0:c.values)==null?void 0:T.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:m0(c,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===Ou.mapValue&&i===Ou.mapValue)return 0;if(o===Ou.mapValue)return 1;if(i===Ou.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=i.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Op(u[f],d[f]);if(m!==0)return m;const p=Vi(a[u[f]],c[d[f]]);if(p!==0)return p}return pe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function p0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=As(t),r=As(e),s=pe(n.seconds,r.seconds);return s!==0?s:pe(n.nanos,r.nanos)}function m0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Vi(n[s],r[s]);if(o)return o}return pe(n.length,r.length)}function Mi(t){return Vp(t)}function Vp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=As(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Vp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Vp(n.fields[i])}`;return s+"}"}(t.mapValue):te(61005,{value:t})}function sc(t){switch(Ps(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$d(t);return e?16+sc(e):16;case 5:return 2*t.stringValue.length;case 6:return Rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+sc(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Fs(r.fields,(o,i)=>{s+=o.length+sc(i)}),s}(t.mapValue);default:throw te(13486,{value:t})}}function g0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mp(t){return!!t&&"integerValue"in t}function Tg(t){return!!t&&"arrayValue"in t}function y0(t){return!!t&&"nullValue"in t}function v0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oc(t){return!!t&&"mapValue"in t}function NM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tC])==null?void 0:r.stringValue)===nC}function qa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return{...t}}function DM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=gt.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=qa(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];oc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fs(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Ut(qa(this.value))}}function rC(t){const e=[];return Fs(t.fields,(n,r)=>{const s=new gt([n]);if(oc(r)){const o=rC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,oe.min(),oe.min(),oe.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,s){return new bt(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new bt(e,2,n,oe.min(),oe.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,oe.min(),oe.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.position=e,this.inclusive=n}}function w0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(i.referenceValue),n.key):r=Vi(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function OM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{}class Xe extends sC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MM(e,n,r):n==="array-contains"?new jM(e,r):n==="in"?new $M(e,r):n==="not-in"?new UM(e,r):n==="array-contains-any"?new BM(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LM(e,r):new FM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vi(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Vi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends sC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new On(e,n)}matches(e){return oC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oC(t){return t.op==="and"}function iC(t){return VM(t)&&oC(t)}function VM(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function Lp(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(iC(t))return t.filters.map(e=>Lp(e)).join(",");{const e=t.filters.map(n=>Lp(n)).join(",");return`${t.op}(${e})`}}function aC(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&lr(r.value,s.value)}(t,e):t instanceof On?function(r,s){return s instanceof On&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&aC(i,s.filters[a]),!0):!1}(t,e):void te(19439)}function lC(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Mi(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(lC).join(" ,")+"}"}(t):"Filter"}class MM extends Xe{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class LM extends Xe{constructor(e,n){super(e,"in",n),this.keys=uC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FM extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=uC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class jM extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tg(n)&&xl(n.arrayValue,this.value)}}class $M extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class UM extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class BM extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.Te=null}}function E0(t,e=null,n=[],r=[],s=null,o=null,i=null){return new zM(t,e,n,r,s,o,i)}function Sg(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.Te=n}return e.Te}function Cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_0(t.startAt,e.startAt)&&_0(t.endAt,e.endAt)}function Fp(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HM(t,e,n,r,s,o,i,a){return new Ki(t,e,n,r,s,o,i,a)}function bg(t){return new Ki(t)}function x0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cC(t){return t.collectionGroup!==null}function Wa(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new st(gt.comparator);return i.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Tl(o,r))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new Tl(gt.keyField(),r))}return e.Ie}function rr(t){const e=ae(t);return e.Ee||(e.Ee=qM(e,Wa(t))),e.Ee}function qM(t,e){if(t.limitType==="F")return E0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Tl(s.field,o)});const n=t.endAt?new Qc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qc(t.startAt.position,t.startAt.inclusive):null;return E0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jp(t,e){const n=t.filters.concat([e]);return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $p(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Cg(rr(t),rr(e))&&t.limitType===e.limitType}function dC(t){return`${Sg(rr(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lC(s)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Mi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Mi(s)).join(",")),`Target(${r})`}(rr(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Wa(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,u){const c=w0(i,a,u);return i.inclusive?c<=0:c<0}(r.startAt,Wa(r),s)||r.endAt&&!function(i,a,u){const c=w0(i,a,u);return i.inclusive?c>=0:c>0}(r.endAt,Wa(r),s))}(t,e)}function WM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fC(t){return(e,n)=>{let r=!1;for(const s of Wa(t)){const o=GM(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function GM(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,i,a){const u=i.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Vi(u,c):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new Ue(Z.comparator);function Or(){return QM}const hC=new Ue(Z.comparator);function Pa(...t){let e=hC;for(const n of t)e=e.insert(n.key,n);return e}function pC(t){let e=hC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return Ga()}function mC(){return Ga()}function Ga(){return new Io(t=>t.toString(),(t,e)=>t.isEqual(e))}const KM=new Ue(Z.comparator),YM=new st(Z.comparator);function me(...t){let e=YM;for(const n of t)e=e.add(n);return e}const XM=new st(pe);function JM(){return XM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function gC(t){return{integerValue:""+t}}function ZM(t,e){return bM(e)?gC(e):Ig(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function eL(t,e,n){return t instanceof Kc?function(s,o){const i={fields:{[JS]:{stringValue:XS},[eC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&xg(o)&&(o=$d(o)),o&&(i.fields[ZS]=o),{mapValue:i}}(n,e):t instanceof Sl?vC(t,e):t instanceof Cl?wC(t,e):function(s,o){const i=yC(s,o),a=T0(i)+T0(s.Ae);return Mp(i)&&Mp(s.Ae)?gC(a):Ig(s.serializer,a)}(t,e)}function tL(t,e,n){return t instanceof Sl?vC(t,e):t instanceof Cl?wC(t,e):n}function yC(t,e){return t instanceof Yc?function(r){return Mp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Kc extends zd{}class Sl extends zd{constructor(e){super(),this.elements=e}}function vC(t,e){const n=_C(e);for(const r of t.elements)n.some(s=>lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cl extends zd{constructor(e){super(),this.elements=e}}function wC(t,e){let n=_C(e);for(const r of t.elements)n=n.filter(s=>!lr(s,r));return{arrayValue:{values:n}}}class Yc extends zd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T0(t){return We(t.integerValue||t.doubleValue)}function _C(t){return Tg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sl&&s instanceof Sl||r instanceof Cl&&s instanceof Cl?Oi(r.elements,s.elements,lr):r instanceof Yc&&s instanceof Yc?lr(r.Ae,s.Ae):r instanceof Kc&&s instanceof Kc}(t.transform,e.transform)}class rL{constructor(e,n){this.version=e,this.transformResults=n}}class Wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wt}static exists(e){return new Wt(void 0,e)}static updateTime(e){return new Wt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hd{}function EC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qd(t.key,Wt.none()):new $l(t.key,t.data,Wt.none());{const n=t.data,r=Ut.empty();let s=new st(gt.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new js(t.key,r,new Zt(s.toArray()),Wt.none())}}function sL(t,e,n){t instanceof $l?function(s,o,i){const a=s.value.clone(),u=C0(s.fieldTransforms,o,i.transformResults);a.setAll(u),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof js?function(s,o,i){if(!ic(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=C0(s.fieldTransforms,o,i.transformResults),u=o.data;u.setAll(xC(s)),u.setAll(a),o.convertToFoundDocument(i.version,u).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof $l?function(o,i,a,u){if(!ic(o.precondition,i))return a;const c=o.value.clone(),d=b0(o.fieldTransforms,u,i);return c.setAll(d),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof js?function(o,i,a,u){if(!ic(o.precondition,i))return a;const c=b0(o.fieldTransforms,u,i),d=i.data;return d.setAll(xC(o)),d.setAll(c),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,a){return ic(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function oL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=yC(r.transform,s||null);o!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,o))}return n||null}function S0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oi(r,s,(o,i)=>nL(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $l extends Hd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class js extends Hd{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C0(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,tL(i,a,n[s]))}return r}function b0(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,eL(o,i,e))}return r}class qd extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iL extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&sL(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mC();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const u=EC(i,a);u!==null&&r.set(s.key,u),i.isValidDocument()||i.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Oi(this.mutations,e.mutations,(n,r)=>S0(n,r))&&Oi(this.baseMutations,e.baseMutations,(n,r)=>S0(n,r))}}class Ag{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return KM}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Ag(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,we;function cL(t){switch(t){case $.OK:return te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function TC(t){if(t===void 0)return Dr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ke.OK:return $.OK;case Ke.CANCELLED:return $.CANCELLED;case Ke.UNKNOWN:return $.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return $.INTERNAL;case Ke.UNAVAILABLE:return $.UNAVAILABLE;case Ke.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ke.NOT_FOUND:return $.NOT_FOUND;case Ke.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ke.ABORTED:return $.ABORTED;case Ke.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ke.DATA_LOSS:return $.DATA_LOSS;default:return te(39323,{code:t})}}(we=Ke||(Ke={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new Es([4294967295,4294967295],0);function I0(t){const e=dL().encode(t),n=new FS;return n.update(e),new Uint8Array(n.digest())}function A0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Es([n,r],0),new Es([s,o],0)]}class Rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Es.fromNumber(r)));return s.compare(fL)===1&&(s=new Es([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=I0(e),[r,s]=A0(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Rg(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.ge===0)return;const n=I0(e),[r,s]=A0(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(oe.min(),s,new Ue(pe),Or(),me())}}class Ul{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ul(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class SC{constructor(e,n){this.targetId=e,this.Ce=n}}class CC{constructor(e,n,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class R0{constructor(){this.ve=0,this.Fe=P0(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),n=me(),r=me();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:te(38017,{changeType:o})}}),new Ul(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=P0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=Vu(),this.He=Vu(),this.Ye=new Ue(pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Fp(o))if(r===0){const i=new Z(o.path);this.et(n,i,bt.newNoDocument(i,oe.min()))}else Te(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const a=this.ut(e),u=a?this.ct(a,e,i):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=Rs(r).toUint8Array()}catch(u){if(u instanceof YS)return Di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Rg(i,s,o)}catch(u){return Di(u instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const a=this.ot(i);if(a){if(o.current&&Fp(a.target)){const u=new Z(a.target.path);this.It(u).has(i)||this.Et(i,u)||this.et(i,u,bt.newNoDocument(u,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=me();this.He.forEach((o,i)=>{let a=!0;i.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new Wd(e,n,this.Ye,this.je,r);return this.je=Or(),this.Je=Vu(),this.He=Vu(),this.Ye=new Ue(pe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new R0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vu(){return new Ue(Z.comparator)}function P0(){return new Ue(Z.comparator)}const pL={asc:"ASCENDING",desc:"DESCENDING"},mL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gL={and:"AND",or:"OR"};class yL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Up(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function Xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vL(t,e){return Xc(t,e.toTimestamp())}function sr(t){return Te(!!t,49232),oe.fromTimestamp(function(n){const r=As(n);return new Re(r.seconds,r.nanos)}(t))}function Pg(t,e){return Bp(t,e).canonicalString()}function Bp(t,e){const n=function(s){return new Ae(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IC(t){const e=Ae.fromString(t);return Te(NC(e),10190,{key:e.toString()}),e}function zp(t,e){return Pg(t.databaseId,e.path)}function ch(t,e){const n=IC(e);if(n.get(1)!==t.databaseId.projectId)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(RC(n))}function AC(t,e){return Pg(t.databaseId,e)}function wL(t){const e=IC(t);return e.length===4?Ae.emptyPath():RC(e)}function Hp(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RC(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function k0(t,e,n){return{name:zp(t,e),fields:n.value.mapValue.fields}}function _L(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Te(d===void 0||typeof d=="string",58123),wt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(c){const d=c.code===void 0?$.UNKNOWN:TC(c.code);return new G(d,c.message||"")}(i);n=new CC(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ch(t,r.document.name),o=sr(r.document.updateTime),i=r.document.createTime?sr(r.document.createTime):oe.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=bt.newFoundDocument(s,o,i,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ac(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ch(t,r.document),o=r.readTime?sr(r.readTime):oe.min(),i=bt.newNoDocument(s,o),a=r.removedTargetIds||[];n=new ac([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ch(t,r.document),o=r.removedTargetIds||[];n=new ac([],o,s,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new uL(s,o),a=r.targetId;n=new SC(a,i)}}return n}function EL(t,e){let n;if(e instanceof $l)n={update:k0(t,e.key,e.value)};else if(e instanceof qd)n={delete:zp(t,e.key)};else if(e instanceof js)n={update:k0(t,e.key,e.data),updateMask:PL(e.fieldMask)};else{if(!(e instanceof iL))return te(16599,{Vt:e.type});n={verify:zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof Kc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sl)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cl)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yc)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw te(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:vL(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te(27497)}(t,e.precondition)),n}function xL(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?sr(s.updateTime):sr(o);return i.isEqual(oe.min())&&(i=sr(o)),new rL(i,s.transformResults||[])}(n,e))):[]}function TL(t,e){return{documents:[AC(t,e.path)]}}function SL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AC(t,s);const o=function(c){if(c.length!==0)return kC(On.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Uo(m.field),direction:IL(m.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Up(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function CL(t){let e=wL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const m=PC(f);return m instanceof On&&iC(m)?m.getFilters():[m]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(m=>function(T){return new Tl(Bo(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,jd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,p=f.values||[];return new Qc(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new Qc(p,m)}(n.endAt)),HM(e,s,i,o,a,"F",u,c)}function bL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bo(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bo(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bo(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bo(n.unaryFilter.field);return Xe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Bo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>PC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function IL(t){return pL[t]}function AL(t){return mL[t]}function RL(t){return gL[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return gt.fromServerFormat(t.fieldPath)}function kC(t){return t instanceof Xe?function(n){if(n.op==="=="){if(v0(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v0(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:AL(n.op),value:n.value}}}(t):t instanceof On?function(n){const r=n.getFilters().map(s=>kC(s));return r.length===1?r[0]:{compositeFilter:{op:RL(n.op),filters:r}}}(t):te(54877,{filter:t})}function PL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r,s,o=oe.min(),i=oe.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.yt=e}}function NL(t){const e=CL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.Cn=new OL}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Is.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class OL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new st(Ae.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new st(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DC=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(DC,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Li(0)}static cr(){return new Li(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="LruGarbageCollector",VL=1048576;function O0([t,e],[n,r]){const s=pe(t,n);return s===0?pe(e,r):s}class ML{constructor(e){this.Ir=e,this.buffer=new st(O0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();O0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(D0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qi(n)?K(D0,"Ignoring IndexedDB error during garbage collection: ",n):await Gi(n)}await this.Vr(3e5)})}}class FL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Fd.ce);const r=new ML(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(N0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,i=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),jo()<=_e.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(a-i)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function jL(t,e){return new FL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.changes=new Io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qa(r.mutation,s,Zt.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=Pa();return o.forEach((a,u)=>{i=i.insert(a,u.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=Or();const i=Ga(),a=function(){return Ga()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof js)?o=o.insert(c.key,c):d!==void 0?(i.set(c.key,d.mutation.getFieldMask()),Qa(d.mutation,c,d.mutation.getFieldMask(),Re.now())):i.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>i.set(c,d)),n.forEach((c,d)=>a.set(c,new UL(d,i.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let s=new Ue((i,a)=>i-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Zt.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(s.get(a.batchId)||me()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=mC();d.forEach(m=>{if(!o.has(m)){const p=EC(n.get(m),r.get(m));p!==null&&f.set(m,p),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return Z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):U.resolve(ro());let a=wl,u=o;return i.next(c=>U.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,me())).next(d=>({batchId:a,changes:pC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=Pa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=Pa();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,u=>{const c=function(f,m){return new Ki(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,m)=>{i=i.insert(f,m)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((u,c)=>{const d=c.getKey();i.get(d)===null&&(i=i.insert(d,bt.newInvalidDocument(d)))});let a=Pa();return i.forEach((u,c)=>{const d=o.get(u);d!==void 0&&Qa(d.mutation,c,Zt.empty(),Re.now()),Bd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:sr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:NL(s.bundledQuery),readTime:sr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.overlays=new Ue(Z.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return U.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=ro(),o=n.length+1,i=new Z(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ue((c,d)=>c-d);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=ro(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ro(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new lL(n,r));let o=this.qr.get(n);o===void 0&&(o=me(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Qr=new st(ut.$r),this.Ur=new st(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new Ae([])),r=new ut(n,e),s=new ut(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new Ae([])),r=new ut(n,e),s=new ut(n,e+1);let o=me();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||pe(e.Yr,n.Yr)}static Kr(e,n){return pe(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(ut.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new aL(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Zr=this.Zr.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(i)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const a=this.Xr(i.Yr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(pe);return n.forEach(s=>{const o=new ut(s,0),i=new ut(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Z.isDocumentKey(o)||(o=o.child(""));const i=new ut(new Z(o),0);let a=new st(pe);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Yr)),!0)},i),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const o=new ut(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ut(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.ri=e,this.docs=function(){return new Ue(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():bt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Or();const i=n.path,a=new Z(i.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||xM(EM(d),r)<=0||(s.has(d.key)||Bd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,s){te(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QL(this)}getSize(e){return U.resolve(this.size)}}class QL extends $L{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.persistence=e,this.si=new Io(n=>Sg(n),Cg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new kg,this.targetCount=0,this.ai=Li.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Li(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(o).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fd(0),this.li=!1,this.li=!0,this.hi=new qL,this.referenceDelegate=e(this),this.Pi=new KL(this),this.indexManager=new DL,this.remoteDocumentCache=function(s){return new GL(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new kL(n),this.Ii=new zL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new WL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new YL(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class YL extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.Ri=new kg,this.Vi=null}static mi(e){return new Ng(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Z.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jc{constructor(e,n){this.persistence=e,this.pi=new Io(r=>IM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=jL(this,n)}static mi(e,n){return new Jc(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(a=>{a||(r++,o.removeEntry(i,oe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sc(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=me(),s=me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Dg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zO()?8:CM(UO())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new XL;return this.Ss(e,n,i).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,i,a.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(jo()<=_e.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(jo()<=_e.DEBUG&&K("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(jo()<=_e.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):U.resolve())}ys(e,n){if(x0(n))return U.resolve(null);let r=rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$p(n,null,"F"),r=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=me(...o);return this.ps.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,i,u.readTime)?this.ys(e,$p(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return x0(n)||s.isEqual(oe.min())?U.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?U.resolve(null):(jo()<=_e.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$o(n)),this.vs(e,i,n,_M(s,wl)).next(a=>a))})}Ds(e,n){let r=new st(fC(e));return n.forEach((s,o)=>{Bd(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return jo()<=_e.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",$o(n)),this.ps.getDocumentsMatchingQuery(e,n,Is.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LocalStore",ZL=3e8;class eF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ue(pe),this.xs=new Io(o=>Sg(o),Cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tF(t,e,n,r){return new eF(t,e,n,r)}async function VC(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let u=me();for(const c of s){i.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:i,addedBatchIds:a}))})})}function nF(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let p=U.resolve();return m.forEach(T=>{p=p.next(()=>d.getEntry(u,T)).next(g=>{const E=c.docVersions.get(T);Te(E!==null,48541),g.version.compareTo(E)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function MC(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function rF(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let p=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(wt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(g,E,v){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=ZL?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&a.push(n.Pi.updateTargetData(o,p))});let u=Or(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(sF(o,i,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ms=s,o))}function sF(t,e,n){let r=me(),s=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Or();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),i=i.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),i=i.insert(a,u)):K(Og,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:i,qs:s}})}function oF(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Eg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iF(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,U.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new us(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function qp(t,e,n){const r=ae(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Qi(i))throw i;K(Og,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function V0(t,e,n){const r=ae(t);let s=oe.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",i=>function(u,c,d){const f=ae(u),m=f.xs.get(d);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,d)}(r,i,rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:oe.min(),n?o:me())).next(a=>(aF(r,WM(e),a),{documents:a,Qs:o})))}function aF(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class M0{constructor(){this.activeTargetIds=JM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lF{constructor(){this.Mo=new M0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="ConnectivityMonitor";class F0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(L0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(L0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function Wp(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="RestConnection",cF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=Wp(),a=this.zo(e,n.toUriEncodedString());K(dh,`Sending RPC '${e}' ${i}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,o);const{host:c}=new URL(a),d=yg(c);return this.Jo(e,a,u,r,d).then(f=>(K(dh,`Received RPC '${e}' ${i}: `,f),f),f=>{throw Di(dh,`RPC '${e}' ${i} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=cF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class hF extends dF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=Wp();return new Promise((a,u)=>{const c=new jS;c.setWithCredentials(!0),c.listenOnce($S.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rc.NO_ERROR:const f=c.getResponseJson();K(Tt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),a(f);break;case rc.TIMEOUT:K(Tt,`RPC '${e}' ${i} timed out`),u(new G($.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const m=c.getStatus();if(K(Tt,`RPC '${e}' ${i} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const T=p==null?void 0:p.error;if(T&&T.status&&T.message){const g=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(T.status);u(new G(g,T.message))}else u(new G($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G($.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:i,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(Tt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);K(Tt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Wp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zS(),a=BS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");K(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,u);const f=i.createWebChannel(d,u);this.I_(f);let m=!1,p=!1;const T=new fF({Yo:E=>{p?K(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(K(Tt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),K(Tt,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),g=(E,v,w)=>{E.listen(v,S=>{try{w(S)}catch(N){setTimeout(()=>{throw N},0)}})};return g(f,Ra.EventType.OPEN,()=>{p||(K(Tt,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),g(f,Ra.EventType.CLOSE,()=>{p||(p=!0,K(Tt,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),g(f,Ra.EventType.ERROR,E=>{p||(p=!0,Di(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new G($.UNAVAILABLE,"The operation could not be completed")))}),g(f,Ra.EventType.MESSAGE,E=>{var v;if(!p){const w=E.data[0];Te(!!w,16349);const S=w,N=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(N){K(Tt,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let V=function(A){const P=Ke[A];if(P!==void 0)return TC(P)}(D),b=N.message;V===void 0&&(V=$.INTERNAL,b="Unknown error status: "+D+" with message "+N.message),p=!0,T.a_(new G(V,b)),f.close()}else K(Tt,`RPC '${e}' stream ${s} received:`,w),T.u_(w)}}),g(a,US.STAT_EVENT,E=>{E.stat===Dp.PROXY?K(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Dp.NOPROXY&&K(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return new yL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="PersistentStream";class FC{constructor(e,n,r,s,o,i,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new G($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pF extends FC{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_L(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?oe.min():i.readTime?sr(i.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Hp(this.serializer),n.addTarget=function(o,i){let a;const u=i.target;if(a=Fp(u)?{documents:TL(o,u)}:{query:SL(o,u).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=bC(o,i.resumeToken);const c=Up(o,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(oe.min())>0){a.readTime=Xc(o,i.snapshotVersion.toTimestamp());const c=Up(o,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Hp(this.serializer),n.removeTarget=e,this.q_(n)}}class mF extends FC{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xL(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>EL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{}class yF extends gF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,Bp(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G($.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Ho(e,Bp(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G($.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class wF{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{Ao(this)&&(K(To,"Restarting streams for network reachability change."),await async function(u){const c=ae(u);c.Ea.add(4),await Bl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Qd(c)}(this))})}),this.Ra=new vF(r,s)}}async function Qd(t){if(Ao(t))for(const e of t.da)await e(!0)}async function Bl(t){for(const e of t.da)await e(!1)}function jC(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fg(n)?Lg(n):Yi(n).O_()&&Mg(n,e))}function Vg(t,e){const n=ae(t),r=Yi(n);n.Ia.delete(e),r.O_()&&$C(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ao(n)&&n.Ra.set("Unknown"))}function Mg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yi(t).Y_(e)}function $C(t,e){t.Va.Ue(e),Yi(t).Z_(e)}function Lg(t){t.Va=new hL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yi(t).start(),t.Ra.ua()}function Fg(t){return Ao(t)&&!Yi(t).x_()&&t.Ia.size>0}function Ao(t){return ae(t).Ea.size===0}function UC(t){t.Va=void 0}async function _F(t){t.Ra.set("Online")}async function EF(t){t.Ia.forEach((e,n)=>{Mg(t,e)})}async function xF(t,e){UC(t),Fg(t)?(t.Ra.ha(e),Lg(t)):t.Ra.set("Unknown")}async function TF(t,e,n){if(t.Ra.set("Online"),e instanceof CC&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){K(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(t,r)}else if(e instanceof ac?t.Va.Ze(e):e instanceof SC?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await MC(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Va.Tt(i);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(u.resumeToken,i))}}),a.targetMismatches.forEach((u,c)=>{const d=o.Ia.get(u);if(!d)return;o.Ia.set(u,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),$C(o,u);const f=new us(d.target,u,c,d.sequenceNumber);Mg(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(To,"Failed to raise snapshot:",r),await Zc(t,r)}}async function Zc(t,e,n){if(!Qi(e))throw e;t.Ea.add(1),await Bl(t),t.Ra.set("Offline"),n||(n=()=>MC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(To,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qd(t)})}function BC(t,e){return e().catch(n=>Zc(t,n,e))}async function Kd(t){const e=ae(t),n=ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Eg;for(;SF(e);)try{const s=await oF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,CF(e,s)}catch(s){await Zc(e,s)}zC(e)&&HC(e)}function SF(t){return Ao(t)&&t.Ta.length<10}function CF(t,e){t.Ta.push(e);const n=ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zC(t){return Ao(t)&&!ks(t).x_()&&t.Ta.length>0}function HC(t){ks(t).start()}async function bF(t){ks(t).ra()}async function IF(t){const e=ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function AF(t,e,n){const r=t.Ta.shift(),s=Ag.from(r,e,n);await BC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Kd(t)}async function RF(t,e){e&&ks(t).X_&&await async function(r,s){if(function(i){return cL(i)&&i!==$.ABORTED}(s.code)){const o=r.Ta.shift();ks(r).B_(),await BC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Kd(r)}}(t,e),zC(t)&&HC(t)}async function $0(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),K(To,"RemoteStore received new credentials");const r=Ao(n);n.Ea.add(3),await Bl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qd(n)}async function PF(t,e){const n=ae(t);e?(n.Ea.delete(2),await Qd(n)):e||(n.Ea.add(2),await Bl(n),n.Ra.set("Unknown"))}function Yi(t){return t.ma||(t.ma=function(n,r,s){const o=ae(n);return o.sa(),new pF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:_F.bind(null,t),t_:EF.bind(null,t),r_:xF.bind(null,t),H_:TF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Fg(t)?Lg(t):t.Ra.set("Unknown")):(await t.ma.stop(),UC(t))})),t.ma}function ks(t){return t.fa||(t.fa=function(n,r,s){const o=ae(n);return o.sa(),new mF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bF.bind(null,t),r_:RF.bind(null,t),ta:IF.bind(null,t),na:AF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Kd(t)):(await t.fa.stop(),t.Ta.length>0&&(K(To,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new jg(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),Qi(t))return new G($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{static emptySet(e){return new fi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Pa(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.ga=new Ue(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fi{constructor(e,n,r,s,o,i,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Fi(e,n,fi.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NF{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),o=s.queries;s.queries=B0(),o.forEach((i,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new G($.ABORTED,"Firestore shutting down"))}}function B0(){return new Io(t=>dC(t),Ud)}async function DF(t,e){const n=ae(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new kF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=$g(i,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Ug(n)}async function OF(t,e){const n=ae(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VF(t,e){const n=ae(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.Sa)a.Fa(s)&&(r=!0);i.wa=s}}r&&Ug(n)}function MF(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Ug(t){t.Ca.forEach(e=>{e.next()})}var Gp,z0;(z0=Gp||(Gp={})).Ma="default",z0.Cache="cache";class LF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Fi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.key=e}}class WC{constructor(e){this.key=e}}class FF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=fC(e),this.tu=new fi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new U0,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=Bd(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;m&&p?m.data.isEqual(p.data)?T!==g&&(r.track({type:3,doc:p}),E=!0):this.su(m,p)||(r.track({type:2,doc:p}),E=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),E=!0):m&&!p&&(r.track({type:1,doc:m}),E=!0,(u||c)&&(a=!0)),E&&(p?(i=i.add(p),o=g?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(p,T){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:E})}};return g(p)-g(T)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,i.length!==0||c?{snapshot:new Fi(this.query,e.tu,o,i,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=me(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new WC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new qC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bg="SyncEngine";class jF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $F{constructor(e){this.key=e,this.hu=!1}}class UF{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Io(a=>dC(a),Ud),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(Z.comparator),this.Au=new Map,this.Ru=new kg,this.Vu={},this.mu=new Map,this.fu=Li.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BF(t,e,n=!0){const r=JC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await GC(r,e,n,!0),s}async function zF(t,e){const n=JC(t);await GC(n,e,!0,!1)}async function GC(t,e,n,r){const s=await iF(t.localStore,rr(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await HF(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&jC(t.remoteStore,s),a}async function HF(t,e,n,r,s){t.pu=(f,m,p)=>async function(g,E,v,w){let S=E.view.ru(v);S.Cs&&(S=await V0(g.localStore,E.query,!1).then(({documents:b})=>E.view.ru(b,S)));const N=w&&w.targetChanges.get(E.targetId),D=w&&w.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(S,g.isPrimaryClient,N,D);return q0(g,E.targetId,V.au),V.snapshot}(t,f,m,p);const o=await V0(t.localStore,e,!0),i=new FF(e,o.Qs),a=i.ru(o.documents),u=Ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=i.applyChanges(a,t.isPrimaryClient,u);q0(t,n,c.au);const d=new jF(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function qF(t,e,n){const r=ae(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!Ud(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vg(r.remoteStore,s.targetId),Qp(r,s.targetId)}).catch(Gi)):(Qp(r,s.targetId),await qp(r.localStore,s.targetId,!0))}async function WF(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vg(n.remoteStore,r.targetId))}async function GF(t,e,n){const r=e3(t);try{const s=await function(i,a){const u=ae(i),c=Re.now(),d=a.reduce((p,T)=>p.add(T.key),me());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let T=Or(),g=me();return u.Ns.getEntries(p,d).next(E=>{T=E,T.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,T)).next(E=>{f=E;const v=[];for(const w of a){const S=oL(w,f.get(w.key).overlayedDocument);S!=null&&v.push(new js(w.key,S,rC(S.value.mapValue),Wt.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,v,a)}).next(E=>{m=E;const v=E.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:m.batchId,changes:pC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new Ue(pe)),c=c.insert(a,u),i.Vu[i.currentUser.toKey()]=c}(r,s.batchId,n),await zl(r,s.changes),await Kd(r.remoteStore)}catch(s){const o=$g(s,"Failed to persist write");n.reject(o)}}async function QC(t,e){const n=ae(t);try{const r=await rF(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?Te(i.hu,14607):s.removedDocuments.size>0&&(Te(i.hu,42227),i.hu=!1))}),await zl(n,r,e)}catch(r){await Gi(r)}}function H0(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const a=i.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const u=ae(i);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(a)&&(c=!0)}),c&&Ug(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QF(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new Ue(Z.comparator);i=i.insert(o,bt.newNoDocument(o,oe.min()));const a=me().add(o),u=new Wd(oe.min(),new Map,new Ue(pe),i,a);await QC(r,u),r.du=r.du.remove(o),r.Au.delete(e),zg(r)}else await qp(r.localStore,e,!1).then(()=>Qp(r,e,n)).catch(Gi)}async function KF(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await nF(n.localStore,e);YC(n,r,null),KC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zl(n,s)}catch(s){await Gi(s)}}async function YF(t,e,n){const r=ae(t);try{const s=await function(i,a){const u=ae(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Te(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);YC(r,e,n),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zl(r,s)}catch(s){await Gi(s)}}function KC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function YC(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Qp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||XC(t,r)})}function XC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zg(t))}function q0(t,e,n){for(const r of n)r instanceof qC?(t.Ru.addReference(r.key,e),XF(t,r)):r instanceof WC?(K(Bg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||XC(t,r.key)):te(19791,{wu:r})}function XF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(Bg,"New document in limbo: "+n),t.Eu.add(r),zg(t))}function zg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(Ae.fromString(e)),r=t.fu.next();t.Au.set(r,new $F(n)),t.du=t.du.insert(n,r),jC(t.remoteStore,new us(rr(bg(n.path)),r,"TargetPurposeLimboResolution",Fd.ce))}}async function zl(t,e,n){const r=ae(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{i.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Dg.As(u.targetId,c);o.push(f)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(u,c){const d=ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,m=>U.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>U.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Qi(f))throw f;K(Og,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),T=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(m,g)}}}(r.localStore,o))}async function JF(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){K(Bg,"User change. New user:",e.toKey());const r=await VC(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new G($.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zl(n,r.Ls)}}function ZF(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return me().add(r.key);{let s=me();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const a=n.Tu.get(i);s=s.unionWith(a.view.nu)}return s}}function JC(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QF.bind(null,e),e.Pu.H_=VF.bind(null,e.eventManager),e.Pu.yu=MF.bind(null,e.eventManager),e}function e3(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YF.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tF(this.persistence,new JL,e.initialUser,this.serializer)}Cu(e){return new OC(Ng.mi,this.serializer)}Du(e){return new lF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class t3 extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new OC(r=>Jc.mi(r,n),this.serializer)}}class Kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JF.bind(null,this.syncEngine),await PF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NF}()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),r=function(o){return new hF(o)}(e.databaseInfo);return function(o,i,a,u){return new yF(o,i,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new wF(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>H0(this.syncEngine,n,0),function(){return F0.v()?new F0:new uF}())}createSyncEngine(e,n){return function(s,o,i,a,u,c,d){const f=new UF(s,o,i,a,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ae(s);K(To,"RemoteStore shutting down."),o.Ea.add(5),await Bl(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Kp.provider={build:()=>new Kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class r3{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{K(Ns,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(K(Ns,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$g(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hh(t,e){t.asyncQueue.verifyOperationInProgress(),K(Ns,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function W0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s3(t);K(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>$0(e.remoteStore,s)),t._onlineComponents=e}async function s3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Ns,"Using user provided OfflineComponentProvider");try{await hh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await hh(t,new ed)}}else K(Ns,"Using default OfflineComponentProvider"),await hh(t,new t3(void 0));return t._offlineComponents}async function ZC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Ns,"Using user provided OnlineComponentProvider"),await W0(t,t._uninitializedComponentsProvider._online)):(K(Ns,"Using default OnlineComponentProvider"),await W0(t,new Kp))),t._onlineComponents}function o3(t){return ZC(t).then(e=>e.syncEngine)}async function G0(t){const e=await ZC(t),n=e.eventManager;return n.onListen=BF.bind(null,e.syncEngine),n.onUnlisten=qF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WF.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firestore.googleapis.com",K0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tb,this.ssl=K0}else this.host=e.host,this.ssl=e.ssl??K0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VL)throw new G($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uM;switch(r.type){case"firstParty":return new hM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q0.get(n);r&&(K("ComponentProvider","Removing Datastore"),Q0.delete(n),r.terminate())}(this),Promise.resolve()}}function i3(t,e,n,r={}){var c;t=Sr(t,Yd);const s=yg(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(MO(`https://${a}`),$O("Firestore",!0)),o.host!==tb&&o.host!==a&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:a,ssl:s,emulatorOptions:r};if(!Bc(u,i)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=St.MOCK_USER;else{d=LO(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new St(m)}t._authCredentials=new cM(new qS(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(jl(n,Ze._jsonSchema))return new Ze(e,r||null,new Z(Ae.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Je("string",Ze._jsonSchemaVersion),referencePath:Je("string")};class xs extends Ro{constructor(e,n,r){super(e,n,bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new Z(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function Lu(t,e,...n){if(t=gn(t),WS("collection","path",e),t instanceof Yd){const r=Ae.fromString(e,...n);return l0(r),new xs(t,null,r)}{if(!(t instanceof Ze||t instanceof xs))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return l0(r),new xs(t.firestore,null,r)}}function Zs(t,e,...n){if(t=gn(t),arguments.length===1&&(e=_g.newId()),WS("doc","path",e),t instanceof Yd){const r=Ae.fromString(e,...n);return a0(r),new Ze(t,null,new Z(r))}{if(!(t instanceof Ze||t instanceof xs))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return a0(r),new Ze(t.firestore,t instanceof xs?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LC(this,"async_queue_retry"),this._c=()=>{const r=fh();r&&K(X0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=fh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ho;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qi(e))throw e;K(X0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",Z0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=jg.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&te(47125,{Pc:Z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Z0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class So extends Yd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new J0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function a3(t,e){const n=typeof t=="object"?t:YV(),r=typeof t=="string"?t:Wc,s=qV(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=OO("firestore");o&&i3(s,...o)}return s}function Hg(t){if(t._terminated)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l3(t),t._firestoreClient}function l3(t){var r,s,o;const e=t._freezeSettings(),n=function(a,u,c,d){return new PM(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new r3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dn(wt.fromBase64String(e))}catch(n){throw new G($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dn(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jl(e,dn._jsonSchema))return dn.fromBase64String(e.bytes)}}dn._jsonSchemaVersion="firestore/bytes/1.0",dn._jsonSchema={type:Je("string",dn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:or._jsonSchemaVersion}}static fromJSON(e){if(jl(e,or._jsonSchema))return new or(e.latitude,e.longitude)}}or._jsonSchemaVersion="firestore/geoPoint/1.0",or._jsonSchema={type:Je("string",or._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jl(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ir(e.vectorValues);throw new G($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Je("string",ir._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^__.*__$/;class c3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class nb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class Wg{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rb(this.Ac)&&u3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}Cc(e,n,r,s=!1){return new Wg({Ac:e,methodName:n,Dc:r,path:gt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new d3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sb(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);Gg("Data must be an object, but it was:",i,r);const a=ab(r,i);let u,c;if(o.merge)u=new Zt(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const m=Yp(e,f,n);if(!i.contains(m))throw new G($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ub(d,m)||d.push(m)}u=new Zt(d),c=i.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=i.fieldTransforms;return new c3(new Ut(a),u,c)}class Jd extends qg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function ob(t,e,n,r){const s=t.Cc(1,e,n);Gg("Data must be an object, but it was:",s,r);const o=[],i=Ut.empty();Fs(r,(u,c)=>{const d=Qg(e,u,n);c=gn(c);const f=s.yc(d);if(c instanceof Jd)o.push(d);else{const m=ql(c,f);m!=null&&(o.push(d),i.set(d,m))}});const a=new Zt(o);return new nb(i,a,s.fieldTransforms)}function ib(t,e,n,r,s,o){const i=t.Cc(1,e,n),a=[Yp(e,r,n)],u=[s];if(o.length%2!=0)throw new G($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Yp(e,o[m])),u.push(o[m+1]);const c=[],d=Ut.empty();for(let m=a.length-1;m>=0;--m)if(!ub(c,a[m])){const p=a[m];let T=u[m];T=gn(T);const g=i.yc(p);if(T instanceof Jd)c.push(p);else{const E=ql(T,g);E!=null&&(c.push(p),d.set(p,E))}}const f=new Zt(c);return new nb(d,f,i.fieldTransforms)}function f3(t,e,n,r=!1){return ql(n,t.Cc(r?4:3,e))}function ql(t,e){if(lb(t=gn(t)))return Gg("Unsupported field value:",e,t),ab(t,e);if(t instanceof qg)return function(r,s){if(!rb(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let u=ql(a,s.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Re.fromDate(r);return{timestampValue:Xc(s.serializer,o)}}if(r instanceof Re){const o=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xc(s.serializer,o)}}if(r instanceof or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dn)return{bytesValue:bC(s.serializer,r._byteString)};if(r instanceof Ze){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ir)return function(i,a){return{mapValue:{fields:{[tC]:{stringValue:nC},[Gc]:{arrayValue:{values:i.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ig(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ld(r)}`)}(t,e)}function ab(t,e){const n={};return KS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(t,(r,s)=>{const o=ql(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof or||t instanceof dn||t instanceof Ze||t instanceof qg||t instanceof ir)}function Gg(t,e,n){if(!lb(n)||!GS(n)){const r=Ld(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Yp(t,e,n){if((e=gn(e))instanceof Hl)return e._internalPath;if(typeof e=="string")return Qg(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const h3=new RegExp("[~\\*/\\[\\]]");function Qg(t,e,n){if(e.search(h3)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hl(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||i)&&(u+=" (found",o&&(u+=` in field ${r}`),i&&(u+=` in document ${s}`),u+=")"),new G($.INVALID_ARGUMENT,a+t+u)}function ub(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p3 extends cb{data(){return super.data()}}function Kg(t,e){return typeof e=="string"?Qg(t,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class db extends Yg{}function t_(t,e,...n){let r=[];e instanceof Yg&&r.push(e),r=r.concat(n),function(o){const i=o.filter(u=>u instanceof Jg).length,a=o.filter(u=>u instanceof Xg).length;if(i>1||i>0&&a>0)throw new G($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Xg extends db{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xg(e,n,r)}_apply(e){const n=this._parse(e);return fb(e._query,n),new Ro(e.firestore,e.converter,jp(e._query,n))}_parse(e){const n=Xd(e.firestore);return function(o,i,a,u,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){s_(f,d);const T=[];for(const g of f)T.push(r_(u,o,g));m={arrayValue:{values:T}}}else m=r_(u,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||s_(f,d),m=f3(a,i,f,d==="in"||d==="not-in");return Xe.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Jg extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const a=o.getFlattenedFilters();for(const u of a)fb(i,u),i=jp(i,u)}(e._query,n),new Ro(e.firestore,e.converter,jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends db{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zg(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new G($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new G($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(o,i)}(e._query,this._field,this._direction);return new Ro(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new Ki(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function n_(t,e="asc"){const n=e,r=Kg("orderBy",t);return Zg._create(r,n)}function r_(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new G($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cC(e)&&n.indexOf("/")!==-1)throw new G($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ae.fromString(n));if(!Z.isDocumentKey(r))throw new G($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g0(t,new Z(r))}if(n instanceof Ze)return g0(t,n._key);throw new G($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(n)}.`)}function s_(t,e){if(!Array.isArray(t)||t.length===0)throw new G($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fb(t,e){const n=function(s,o){for(const i of s)for(const a of i.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g3{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fs(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Gc].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>We(i.doubleValue));return new ir(n)}convertGeoPoint(e){return new or(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$d(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=As(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);Te(NC(r),9688,{name:e});const s=new El(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return s.isEqual(n)||Dr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends cb{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:Je("string",po._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class lc extends po{data(e={}){return super.data(e)}}class hi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Na(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lc(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const u=new lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),d=i.indexOf(a.doc.key)),{type:y3(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}hi._jsonSchemaVersion="firestore/querySnapshot/1.0",hi._jsonSchema={type:Je("string",hi._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class pb extends g3{constructor(e){super(),this.firestore=e}convertBytes(e){return new dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function ph(t,e,n,...r){t=Sr(t,Ze);const s=Sr(t.firestore,So),o=Xd(s);let i;return i=typeof(e=gn(e))=="string"||e instanceof Hl?ib(o,"updateDoc",t._key,e,n,r):ob(o,"updateDoc",t._key,e),Zd(s,[i.toMutation(t._key,Wt.exists(!0))])}function v3(t){return Zd(Sr(t.firestore,So),[new qd(t._key,Wt.none())])}function w3(t,e){const n=Sr(t.firestore,So),r=Zs(t),s=hb(t.converter,e);return Zd(n,[sb(Xd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Wt.exists(!1))]).then(()=>r)}function o_(t,...e){var u,c,d;t=gn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||e_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e_(e[r])){const f=e[r];e[r]=(u=f.next)==null?void 0:u.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,i,a;if(t instanceof Ze)i=Sr(t.firestore,So),a=bg(t._key.path),o={next:f=>{e[r]&&e[r](_3(i,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Sr(t,Ro);i=Sr(f.firestore,So),a=f._query;const m=new pb(i);o={next:p=>{e[r]&&e[r](new hi(i,m,f,p))},error:e[r+1],complete:e[r+2]},m3(t._query)}return function(m,p,T,g){const E=new n3(g),v=new LF(p,E,T);return m.asyncQueue.enqueueAndForget(async()=>DF(await G0(m),v)),()=>{E.Nu(),m.asyncQueue.enqueueAndForget(async()=>OF(await G0(m),v))}}(Hg(i),a,s,o)}function Zd(t,e){return function(r,s){const o=new ho;return r.asyncQueue.enqueueAndForget(async()=>GF(await o3(r),s,o)),o.promise}(Hg(t),e)}function _3(t,e,n){const r=n.docs.get(e._key),s=new pb(t);return new po(t,s,e._key,r,new Na(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xd(e)}set(e,n,r){this._verifyNotCommitted();const s=mh(e,this._firestore),o=hb(s.converter,n,r),i=sb(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(i.toMutation(s._key,Wt.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=mh(e,this._firestore);let i;return i=typeof(n=gn(n))=="string"||n instanceof Hl?ib(this._dataReader,"WriteBatch.update",o._key,n,r,s):ob(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(i.toMutation(o._key,Wt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mh(e,this._firestore);return this._mutations=this._mutations.concat(new qd(n._key,Wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mh(t,e){if((t=gn(t)).firestore!==e)throw new G($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){return Hg(t=Sr(t,So)),new E3(t,e=>Zd(t,e))}(function(e,n=!0){(function(s){Wi=s})(KV),Hc(new yl("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new So(new dM(r.getProvider("auth-internal")),new pM(i,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(c.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),di(r0,s0,e),di(r0,s0,"esm2020")})();const T3={apiKey:"AIzaSyCmsHMyBSOyxXWYk8Z1DD4FqnGvdlyLm0I",authDomain:"sh82-sistema.firebaseapp.com",projectId:"sh82-sistema",storageBucket:"sh82-sistema.firebasestorage.app",messagingSenderId:void 0,appId:""},S3=VS(T3),qn=a3(S3),C3=()=>{const[t,e]=x.useState([]),[n,r]=x.useState([]);x.useEffect(()=>{const d=t_(Lu(qn,"menuItems"),n_("name")),f=o_(d,T=>{const g=T.docs.map(E=>({...E.data(),id:E.id}));e(g)},T=>{console.error("Erro ao buscar itens do cardpio:",T),qe.error("No foi possvel carregar o cardpio.")}),m=t_(Lu(qn,"orders"),n_("createdAt","desc")),p=o_(m,T=>{const g=T.docs.map(E=>{const v=E.data();return{...v,id:E.id,createdAt:v.createdAt.toDate()}});r(g)},T=>{console.error("Erro ao buscar pedidos:",T),qe.error("No foi possvel carregar os pedidos.")});return()=>{f(),p()}},[]);const s=async d=>{try{const f=x3(qn),m=Lu(qn,"orders"),p=Zs(m);f.set(p,{...d,createdAt:Re.fromDate(d.createdAt)});for(const T of d.items){const g=Zs(qn,"menuItems",T.menuItem.id),E=T.menuItem.stock-T.quantity;f.update(g,{stock:E})}return await f.commit(),!0}catch(f){return console.error("Erro ao adicionar pedido:",f),qe.error("Falha ao criar o pedido. Verifique sua conexo e tente novamente."),!1}},o=async(d,f)=>{try{const m=Zs(qn,"orders",d);await ph(m,{status:f})}catch(m){console.error("Erro ao atualizar status do pedido:",m),qe.error("Falha ao atualizar o status. Tente novamente.")}},i=async(d,f)=>{try{const m=Zs(qn,"orders",d);await ph(m,{isPaid:f})}catch(m){console.error("Erro ao atualizar pagamento:",m),qe.error("Falha ao atualizar o pagamento. Tente novamente.")}},a=async d=>{try{const{id:f,...m}=d,p=Zs(qn,"menuItems",f);await ph(p,m)}catch(f){console.error("Erro ao atualizar item do cardpio:",f),qe.error("Falha ao atualizar o item. Tente novamente.")}},u=async d=>{try{const f=Zs(qn,"menuItems",d);await v3(f)}catch(f){console.error("Erro ao deletar item do cardpio:",f),qe.error("Falha ao deletar o item. Tente novamente.")}},c=async d=>{try{const f=Lu(qn,"menuItems");await w3(f,d)}catch(f){console.error("Erro ao adicionar item do cardpio:",f),qe.error("Falha ao adicionar o item. Tente novamente.")}};return _.jsxs("div",{className:"min-h-screen bg-background",children:[_.jsx("header",{className:"border-b-4 border-primary bg-card shadow-lg",children:_.jsx("div",{className:"container mx-auto px-4 py-6",children:_.jsxs("div",{className:"flex items-center justify-between gap-4",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:JD,alt:"SH82 Logo",className:"h-20 w-auto"}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-4xl font-black text-primary tracking-tight",children:"Lanchonete SH82"}),_.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Sistema de Pedidos"})]})]}),_.jsx("img",{src:ZD,alt:"Logo Secundria",className:"h-16 w-auto"})]})})}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs(XD,{defaultValue:"orders",className:"w-full",children:[_.jsx("div",{className:"flex justify-center mb-8",children:_.jsxs(PT,{children:[_.jsxs(Zu,{value:"orders",className:"gap-2",children:[_.jsx(uP,{className:"h-4 w-4"}),"Pedidos"]}),_.jsxs(Zu,{value:"preparation",className:"gap-2",children:[_.jsx(vP,{className:"h-4 w-4"}),"Preparao"]}),_.jsxs(Zu,{value:"menu",className:"gap-2",children:[_.jsx(aP,{className:"h-4 w-4"}),"Cardpio"]})]})}),_.jsx(ec,{value:"orders",children:_.jsx(a4,{menuItems:t,onAddOrder:s})}),_.jsx(ec,{value:"preparation",children:_.jsx(d4,{orders:n,onUpdateStatus:o,onUpdatePayment:i})}),_.jsx(ec,{value:"menu",children:_.jsx(TO,{menuItems:t,onUpdateItem:a,onDeleteItem:u,onAddItem:c})})]})})]})},b3=()=>{const t=lT();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),_.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),_.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),_.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},I3=new qN,A3=()=>_.jsx(GN,{client:I3,children:_.jsxs(vN,{children:[_.jsx(e2,{}),_.jsx(N2,{}),_.jsx(OD,{basename:"/lanchonete-sh82-sistema/",children:_.jsxs(kD,{children:[_.jsx(Tp,{path:"/",element:_.jsx(C3,{})}),_.jsx(Tp,{path:"*",element:_.jsx(b3,{})})]})})]})});R1(document.getElementById("root")).render(_.jsx(A3,{}));
